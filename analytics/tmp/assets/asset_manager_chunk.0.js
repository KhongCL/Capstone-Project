/* Matomo Javascript - cb=b34c37c689f78009341cf4832ea0ae00*/

(function(e,t){"object"===typeof exports&&"object"===typeof module?module.exports=t(require("vue")):"function"===typeof define&&define.amd?define([],t):"object"===typeof exports?exports["CoreHome"]=t(require("vue")):e["CoreHome"]=t(e["Vue"])})("undefined"!==typeof self?self:this,(function(e){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="plugins/CoreHome/vue/dist/",n(n.s="fae3")}({2342:function(e,t,n){"use strict";
/*!
 * Matomo - free/libre analytics platform
 *
 * @link    https://matomo.org
 * @license https://www.gnu.org/licenses/gpl-3.0.html GPL v3 or later
 */window.hasBlockedContent=!1},"8bbf":function(t,n){t.exports=e},fae3:function(e,t,n){"use strict";if(n.r(t),n.d(t,"createVueApp",(function(){return xt})),n.d(t,"importPluginUmd",(function(){return Ft})),n.d(t,"useExternalPluginComponent",(function(){return _t})),n.d(t,"DirectiveUtilities",(function(){return Ht})),n.d(t,"debounce",(function(){return $t})),n.d(t,"clone",(function(){return qt})),n.d(t,"VueEntryContainer",(function(){return Yt})),n.d(t,"ActivityIndicator",(function(){return ln})),n.d(t,"MatomoLoader",(function(){return on})),n.d(t,"translate",(function(){return a})),n.d(t,"translateOrDefault",(function(){return i})),n.d(t,"externalRawLink",(function(){return Et})),n.d(t,"externalLink",(function(){return Dt})),n.d(t,"Alert",(function(){return dn})),n.d(t,"AjaxHelper",(function(){return Ze})),n.d(t,"setCookie",(function(){return Ot})),n.d(t,"getCookie",(function(){return jt})),n.d(t,"deleteCookie",(function(){return wt})),n.d(t,"MatomoUrl",(function(){return De})),n.d(t,"Matomo",(function(){return ue})),n.d(t,"Periods",(function(){return m})),n.d(t,"Day",(function(){return k})),n.d(t,"Week",(function(){return P})),n.d(t,"Month",(function(){return x})),n.d(t,"Year",(function(){return F})),n.d(t,"Range",(function(){return K})),n.d(t,"format",(function(){return p})),n.d(t,"getToday",(function(){return f})),n.d(t,"parseDate",(function(){return h})),n.d(t,"todayIsInRange",(function(){return b})),n.d(t,"getWeekNumber",(function(){return v})),n.d(t,"datesAreInTheSamePeriod",(function(){return g})),n.d(t,"NumberFormatter",(function(){return pt})),n.d(t,"formatNumber",(function(){return Pt})),n.d(t,"formatPercent",(function(){return Tt})),n.d(t,"formatCurrency",(function(){return Vt})),n.d(t,"formatEvolution",(function(){return Nt})),n.d(t,"calculateAndFormatEvolution",(function(){return It})),n.d(t,"DropdownMenu",(function(){return mn})),n.d(t,"FocusAnywhereButHere",(function(){return gn})),n.d(t,"FocusIf",(function(){return On})),n.d(t,"Tooltips",(function(){return Cn})),n.d(t,"MatomoDialog",(function(){return Tn})),n.d(t,"ExpandOnClick",(function(){return Fn})),n.d(t,"ExpandOnHover",(function(){return qn})),n.d(t,"ShowSensitiveData",(function(){return Gn})),n.d(t,"DropdownButton",(function(){return Kn})),n.d(t,"SelectOnFocus",(function(){return nr})),n.d(t,"CopyToClipboard",(function(){return ar})),n.d(t,"SideNav",(function(){return ir})),n.d(t,"EnrichedHeadline",(function(){return kr})),n.d(t,"ContentBlock",(function(){return Ar})),n.d(t,"Comparisons",(function(){return bo})),n.d(t,"ComparisonsStore",(function(){return po})),n.d(t,"ComparisonsStoreInstance",(function(){return fo})),n.d(t,"MenuItemsDropdown",(function(){return Vo})),n.d(t,"DatePicker",(function(){return Lo})),n.d(t,"DateRangePicker",(function(){return qo})),n.d(t,"PeriodDatePicker",(function(){return Jo})),n.d(t,"Notification",(function(){return ia})),n.d(t,"NotificationGroup",(function(){return Oa})),n.d(t,"NotificationsStore",(function(){return ga})),n.d(t,"ShowHelpLink",(function(){return Ea})),n.d(t,"SitesStore",(function(){return Ia})),n.d(t,"SiteSelector",(function(){return Za})),n.d(t,"QuickAccess",(function(){return vi})),n.d(t,"FieldArray",(function(){return Ni})),n.d(t,"MultiPairField",(function(){return Yi})),n.d(t,"PeriodSelector",(function(){return Al})),n.d(t,"ReportingMenu",(function(){return Fc})),n.d(t,"ReportingMenuStore",(function(){return wc})),n.d(t,"ReportingPagesStore",(function(){return ic})),n.d(t,"ReportMetadataStore",(function(){return qc})),n.d(t,"WidgetsStore",(function(){return Tc})),n.d(t,"WidgetLoader",(function(){return Zc})),n.d(t,"WidgetContainer",(function(){return fs})),n.d(t,"WidgetByDimensionContainer",(function(){return Vs})),n.d(t,"Widget",(function(){return Ls})),n.d(t,"ReportingPage",(function(){return au})),n.d(t,"ReportExport",(function(){return _u})),n.d(t,"Sparkline",(function(){return qu})),n.d(t,"Progressbar",(function(){return Qu})),n.d(t,"ContentIntro",(function(){return Xu})),n.d(t,"ContentTable",(function(){return Zu})),n.d(t,"AjaxForm",(function(){return ad})),n.d(t,"Passthrough",(function(){return cd})),n.d(t,"DataTableActions",(function(){return hm})),n.d(t,"VersionInfoHeaderMessage",(function(){return Pm})),n.d(t,"MobileLeftMenu",(function(){return Km})),n.d(t,"scrollToAnchorInUrl",(function(){return ap})),"undefined"!==typeof window){var r=window.document.currentScript,o=r&&r.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);o&&(n.p=o[1])}n("2342");
/*!
 * Matomo - free/libre analytics platform
 *
 * @link    https://matomo.org
 * @license https://www.gnu.org/licenses/gpl-3.0.html GPL v3 or later
 */
function a(e){if(!e)return"";for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o=n;return 1===n.length&&n[0]&&Array.isArray(n[0])&&(o=n[0]),window._pk_translate(e,o)}function i(e){if(!e||!window.piwik_translations[e])return e;for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return a.apply(void 0,[e].concat(n))}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t,n){return t&&c(e.prototype,t),n&&c(e,n),e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}
/*!
 * Matomo - free/libre analytics platform
 *
 * @link    https://matomo.org
 * @license https://www.gnu.org/licenses/gpl-3.0.html GPL v3 or later
 */var d=function(){function e(){l(this,e),u(this,"periods",{}),u(this,"periodOrder",[])}return s(e,[{key:"addCustomPeriod",value:function(e,t){if(this.periods[e])throw new Error('The "'.concat(e,'" period already exists! It cannot be overridden.'));this.periods[e]=t,this.periodOrder.push(e)}},{key:"getAllLabels",value:function(){return Array().concat(this.periodOrder)}},{key:"get",value:function(e){var t=this.periods[e];if(!t)throw new Error("Invalid period label: ".concat(e));return t}},{key:"parse",value:function(e,t){return this.get(e).parse(t)}},{key:"isRecognizedPeriod",value:function(e){return!!this.periods[e]}}]),e}(),m=new d;
/*!
 * Matomo - free/libre analytics platform
 *
 * @link    https://matomo.org
 * @license https://www.gnu.org/licenses/gpl-3.0.html GPL v3 or later
 */
function p(e){return $.datepicker.formatDate("yy-mm-dd",e)}function f(){var e=new Date(Date.now());return e.setTime(e.getTime()+60*e.getTimezoneOffset()*1e3),e.setHours(e.getHours()+(window.piwik.timezoneOffset||0)/3600),e.setHours(0),e.setMinutes(0),e.setSeconds(0),e.setMilliseconds(0),e}function h(e){if(e instanceof Date)return e;var t=decodeURIComponent(e).trim();if(""===t)throw new Error("Invalid date, empty string.");if("today"===t||"now"===t)return f();if("yesterday"===t||"yesterdaySameTime"===t){var n=f();return n.setDate(n.getDate()-1),n}if(t.match(/last[ -]?week/i)){var r=f();return r.setDate(r.getDate()-7),r}if(t.match(/last[ -]?month/i)){var o=f();return o.setDate(1),o.setMonth(o.getMonth()-1),o}if(t.match(/last[ -]?year/i)){var a=f();return a.setFullYear(a.getFullYear()-1),a}return $.datepicker.parseDate("yy-mm-dd",t)}function b(e){return 2===e.length&&(f()>=e[0]&&f()<=e[1])}function v(e){var t=new Date(e.valueOf()),n=(e.getDay()+6)%7;t.setDate(t.getDate()-n+3);var r=t.valueOf();if(t.setMonth(0,1),4!==t.getDay()){var o=(4-t.getDay()+7)%7;t.setMonth(0,1+o)}return 1+Math.ceil((r-t.valueOf())/6048e5)}function g(e,t,n){var r=e.getFullYear(),o=e.getMonth(),a=e.getDate(),i=v(e),l=t.getFullYear(),c=t.getMonth(),s=t.getDate(),u=v(t);switch(n){case"day":return r===l&&o===c&&a===s;case"week":return r===l&&i===u;case"month":return r===l&&o===c;case"year":return r===l;default:return!1}}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function O(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function j(e,t,n){return t&&O(e.prototype,t),n&&O(e,n),e}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}
/*!
 * Matomo - free/libre analytics platform
 *
 * @link    https://matomo.org
 * @license https://www.gnu.org/licenses/gpl-3.0.html GPL v3 or later
 */var k=function(){function e(t){y(this,e),w(this,"dateInPeriod",void 0),this.dateInPeriod=t}return j(e,[{key:"getPrettyString",value:function(){return p(this.dateInPeriod)}},{key:"getDateRange",value:function(){return[new Date(this.dateInPeriod.getTime()),new Date(this.dateInPeriod.getTime())]}},{key:"containsToday",value:function(){return b(this.getDateRange())}}],[{key:"parse",value:function(t){return new e(h(t))}},{key:"getDisplayText",value:function(){return a("Intl_PeriodDay")}}]),e}();function S(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function C(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function E(e,t,n){return t&&C(e.prototype,t),n&&C(e,n),e}function D(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}
/*!
 * Matomo - free/libre analytics platform
 *
 * @link    https://matomo.org
 * @license https://www.gnu.org/licenses/gpl-3.0.html GPL v3 or later
 */m.addCustomPeriod("day",k);var P=function(){function e(t){S(this,e),D(this,"dateInPeriod",void 0),this.dateInPeriod=t}return E(e,[{key:"getPrettyString",value:function(){var e=this.getDateRange(),t=p(e[0]),n=p(e[1]);return a("General_DateRangeFromTo",[t,n])}},{key:"getDateRange",value:function(){var e=(this.dateInPeriod.getDay()+6)%7,t=new Date(this.dateInPeriod.getTime());t.setDate(this.dateInPeriod.getDate()-e);var n=new Date(t.getTime());return n.setDate(t.getDate()+6),[t,n]}},{key:"containsToday",value:function(){return b(this.getDateRange())}}],[{key:"parse",value:function(t){return new e(h(t))}},{key:"getDisplayText",value:function(){return a("Intl_PeriodWeek")}}]),e}();function T(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function V(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function N(e,t,n){return t&&V(e.prototype,t),n&&V(e,n),e}function I(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}
/*!
 * Matomo - free/libre analytics platform
 *
 * @link    https://matomo.org
 * @license https://www.gnu.org/licenses/gpl-3.0.html GPL v3 or later
 */m.addCustomPeriod("week",P);var x=function(){function e(t){T(this,e),I(this,"dateInPeriod",void 0),this.dateInPeriod=t}return N(e,[{key:"getPrettyString",value:function(){var e=a("Intl_Month_Long_StandAlone_".concat(this.dateInPeriod.getMonth()+1));return"".concat(e," ").concat(this.dateInPeriod.getFullYear())}},{key:"getDateRange",value:function(){var e=new Date(this.dateInPeriod.getTime());e.setDate(1);var t=new Date(this.dateInPeriod.getTime());return t.setDate(1),t.setMonth(t.getMonth()+1),t.setDate(0),[e,t]}},{key:"containsToday",value:function(){return b(this.getDateRange())}}],[{key:"parse",value:function(t){return new e(h(t))}},{key:"getDisplayText",value:function(){return a("Intl_PeriodMonth")}}]),e}();function B(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function A(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function M(e,t,n){return t&&A(e.prototype,t),n&&A(e,n),e}function L(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}
/*!
 * Matomo - free/libre analytics platform
 *
 * @link    https://matomo.org
 * @license https://www.gnu.org/licenses/gpl-3.0.html GPL v3 or later
 */m.addCustomPeriod("month",x);var F=function(){function e(t){B(this,e),L(this,"dateInPeriod",void 0),this.dateInPeriod=t}return M(e,[{key:"getPrettyString",value:function(){return this.dateInPeriod.getFullYear().toString()}},{key:"getDateRange",value:function(){var e=new Date(this.dateInPeriod.getTime());e.setMonth(0),e.setDate(1);var t=new Date(this.dateInPeriod.getTime());return t.setMonth(12),t.setDate(0),[e,t]}},{key:"containsToday",value:function(){return b(this.getDateRange())}}],[{key:"parse",value:function(t){return new e(h(t))}},{key:"getDisplayText",value:function(){return a("Intl_PeriodYear")}}]),e}();function _(e,t){return W(e)||q(e,t)||H(e,t)||R()}function R(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function H(e,t){if(e){if("string"===typeof e)return U(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?U(e,t):void 0}}function U(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function q(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0)if(a.push(r.value),t&&a.length===t)break}catch(c){l=!0,o=c}finally{try{i||null==n["return"]||n["return"]()}finally{if(l)throw o}}return a}}function W(e){if(Array.isArray(e))return e}function z(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function G(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Y(e,t,n){return t&&G(e.prototype,t),n&&G(e,n),e}function J(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}
/*!
 * Matomo - free/libre analytics platform
 *
 * @link    https://matomo.org
 * @license https://www.gnu.org/licenses/gpl-3.0.html GPL v3 or later
 */m.addCustomPeriod("year",F);var K=function(){function e(t,n,r){z(this,e),J(this,"startDate",void 0),J(this,"endDate",void 0),J(this,"childPeriodType",void 0),this.startDate=t,this.endDate=n,this.childPeriodType=r}return Y(e,[{key:"getPrettyString",value:function(){var e=p(this.startDate),t=p(this.endDate);return a("General_DateRangeFromTo",[e,t])}},{key:"getDateRange",value:function(){return[this.startDate,this.endDate]}},{key:"containsToday",value:function(){return b(this.getDateRange())}},{key:"getDayCount",value:function(){return Math.ceil((this.endDate.getTime()-this.startDate.getTime())/864e5)+1}}],[{key:"getLastNRange",value:function(t,n,r){var o=Math.max(parseInt(n.toString(),10)-1,0);if(Number.isNaN(o))throw new Error("Invalid range strAmount");var a=r?h(r):f(),i=new Date(a.getTime());if("day"===t)i.setDate(i.getDate()-o);else if("week"===t)i.setDate(i.getDate()-7*o);else if("month"===t)i.setDate(1),i.setMonth(i.getMonth()-o);else{if("year"!==t)throw new Error("Unknown period type '".concat(t,"'."));i.setFullYear(i.getFullYear()-o)}if("day"!==t){var l=m.periods[t].parse(i),c=m.periods[t].parse(a),s=l.getDateRange(),u=_(s,1);i=u[0];var d=c.getDateRange(),p=_(d,2);a=p[1]}var b=new Date(1991,7,6);if(i.getTime()-b.getTime()<0)switch(t){case"year":i=new Date(1992,0,1);break;case"month":i=new Date(1991,8,1);break;case"week":i=new Date(1991,8,12);break;case"day":default:i=b;break}return new e(i,a,t)}},{key:"getLastNRangeChild",value:function(t,n,r){var o=n?h(n):f(),a=new Date(o.getTime()),i=new Date(o.getTime());if("day"===t)a.setDate(a.getDate()-r),i.setDate(i.getDate()-r);else if("week"===t)a.setDate(a.getDate()-7*r),i.setDate(i.getDate()-7*r);else if("month"===t)a.setDate(1),a.setMonth(a.getMonth()-r),i.setDate(1),i.setMonth(i.getMonth()-r);else{if("year"!==t)throw new Error("Unknown period type '".concat(t,"'."));a.setFullYear(a.getFullYear()-r),i.setFullYear(i.getFullYear()-r)}if("day"!==t){var l=m.periods[t].parse(a),c=m.periods[t].parse(i),s=l.getDateRange(),u=_(s,1);a=u[0];var d=c.getDateRange(),p=_(d,2);i=p[1]}var b=new Date(1991,7,6);if(a.getTime()-b.getTime()<0)switch(t){case"year":a=new Date(1992,0,1);break;case"month":a=new Date(1991,8,1);break;case"week":a=new Date(1991,8,12);break;case"day":default:a=b;break}return new e(a,i,t)}},{key:"parse",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"day";if(/^previous/.test(t)){var r=e.getLastNRange(n,"2").startDate;return e.getLastNRange(n,t.substring(8),r)}if(/^last/.test(t))return e.getLastNRange(n,t.substring(4));var o=decodeURIComponent(t).split(",");return new e(h(o[0]),h(o[1]),n)}},{key:"getDisplayText",value:function(){return a("General_DateRangeInPeriodList")}}]),e}();m.addCustomPeriod("range",K);var Q,X=n("8bbf");function Z(e){return re(e)||ne(e)||te(e)||ee()}function ee(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function te(e,t){if(e){if("string"===typeof e)return oe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?oe(e,t):void 0}}function ne(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function re(e){if(Array.isArray(e))return oe(e)}function oe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}
/*!
 * Matomo - free/libre analytics platform
 *
 * @link    https://matomo.org
 * @license https://www.gnu.org/licenses/gpl-3.0.html GPL v3 or later
 */var ae=window,ie=ae.piwik,le=ae.broadcast,ce=ae.piwikHelper;ie.helper=ce,ie.broadcast=le,ie.updateDateInTitle=function(e,t){if($(".top_controls #periodString").length&&(Q=Q||document.title,0===Q.indexOf(ie.siteName))){var n=" - ".concat(m.parse(t,e).getPrettyString()," ");document.title="".concat(ie.siteName).concat(n).concat(Q.slice(ie.siteName.length))}},ie.hasUserCapability=function(e){return Array.isArray(ie.userCapabilities)&&-1!==ie.userCapabilities.indexOf(e)},ie.on=function(e,t){function n(e){t.apply(void 0,Z(e.detail))}t.wrapper=n,window.addEventListener(e,n)},ie.off=function(e,t){t.wrapper&&window.removeEventListener(e,t.wrapper)},ie.postEvent=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o=new CustomEvent(e,{detail:n});window.dispatchEvent(o)};var se=ie,ue=se;
/*!
 * Matomo - free/libre analytics platform
 *
 * @link    https://matomo.org
 * @license https://www.gnu.org/licenses/gpl-3.0.html GPL v3 or later
 */
function de(e,t){return be(e)||he(e,t)||pe(e,t)||me()}function me(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function pe(e,t){if(e){if("string"===typeof e)return fe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?fe(e,t):void 0}}function fe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function he(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0)if(a.push(r.value),t&&a.length===t)break}catch(c){l=!0,o=c}finally{try{i||null==n["return"]||n["return"]()}finally{if(l)throw o}}return a}}function be(e){if(Array.isArray(e))return e}function ve(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ge(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ye(e,t,n){return t&&ge(e.prototype,t),n&&ge(e,n),e}function Oe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}
/*!
 * Matomo - free/libre analytics platform
 *
 * @link    https://matomo.org
 * @license https://www.gnu.org/licenses/gpl-3.0.html GPL v3 or later
 */var je=window,we=je.piwik,ke=je.broadcast;function Se(e,t){try{return m.parse(e,t),!0}catch(n){return!1}}var Ce=function(){function e(){var t=this;ve(this,e),Oe(this,"url",Object(X["ref"])(null)),Oe(this,"urlQuery",Object(X["computed"])((function(){return t.url.value?t.url.value.search.replace(/^\?/,""):""}))),Oe(this,"hashQuery",Object(X["computed"])((function(){return t.url.value?t.url.value.hash.replace(/^[#/?]+/,""):""}))),Oe(this,"urlParsed",Object(X["computed"])((function(){return Object(X["readonly"])(t.parse(t.urlQuery.value))}))),Oe(this,"hashParsed",Object(X["computed"])((function(){return Object(X["readonly"])(t.parse(t.hashQuery.value))}))),Oe(this,"parsed",Object(X["computed"])((function(){return Object(X["readonly"])(Object.assign(Object.assign({},t.urlParsed.value),t.hashParsed.value))}))),this.url.value=new URL(window.location.href),window.addEventListener("hashchange",(function(e){t.url.value=new URL(e.newURL),t.updatePeriodParamsFromUrl()})),this.updatePeriodParamsFromUrl()}return ye(e,[{key:"updateHashToUrl",value:function(e){var t="#".concat(e);window.location.hash===t?window.dispatchEvent(new HashChangeEvent("hashchange",{newURL:window.location.href,oldURL:window.location.href})):window.location.hash=t}},{key:"updateHash",value:function(e){var t=this.getFinalHashParams(e),n=this.stringify(t);this.updateHashToUrl("?".concat(n))}},{key:"updateUrl",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n="string"!==typeof e?this.stringify(e):e,r=Object.keys(t).length?this.getFinalHashParams(t,e):{},o=this.stringify(r),a="?".concat(n);o.length&&(a="".concat(a,"#?").concat(o)),window.broadcast.propagateNewPage("",void 0,void 0,void 0,a)}},{key:"getFinalHashParams",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n="string"!==typeof e?e:this.parse(e),r="string"!==typeof e?t:this.parse(t);return Object.assign({period:r.period||this.parsed.value.period,date:r.date||this.parsed.value.date,segment:r.segment||this.parsed.value.segment},n)}},{key:"updateLocation",value:function(e){ue.helper.isReportingPage()?this.updateHash(e):this.updateUrl(e)}},{key:"getSearchParam",value:function(e){var t=window.location.href.split("#"),n=new RegExp("".concat(e,"(\\[]|=)"));if(t&&t[1]&&n.test(decodeURIComponent(t[1]))){var r=window.broadcast.getValueFromHash(e,window.location.href);if(r||"date"!==e&&"period"!==e&&"idSite"!==e)return r}return window.broadcast.getValueFromUrl(e,window.location.search)}},{key:"parse",value:function(e){return ke.getValuesFromUrl("?".concat(e),!0)}},{key:"stringify",value:function(e){var t=Object.fromEntries(Object.entries(e).filter((function(e){var t=de(e,2),n=t[1];return""!==n&&null!==n&&void 0!==n})));return $.param(t).replace(/%5B%5D/g,"[]").replace(/%2C/g,",").replace(/\+/g,"%20")}},{key:"updatePeriodParamsFromUrl",value:function(){var e=this.getSearchParam("date"),t=this.getSearchParam("period");if(Se(t,e)&&(we.period!==t||we.currentDateString!==e)){we.period=t;var n=m.parse(t,e).getDateRange();we.startDateString=p(n[0]),we.endDateString=p(n[1]),we.updateDateInTitle(e,t),"range"===we.period&&(e="".concat(we.startDateString,",").concat(we.endDateString)),we.currentDateString=e}}}]),e}(),Ee=new Ce,De=Ee;function Pe(e){return Pe="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pe(e)}function Te(e){return xe(e)||Ie(e)||Ne(e)||Ve()}function Ve(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Ne(e,t){if(e){if("string"===typeof e)return Be(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Be(e,t):void 0}}function Ie(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function xe(e){if(Array.isArray(e))return Be(e)}function Be(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ae(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Me(e,t,n){return t&&Ae(e.prototype,t),n&&Ae(e,n),e}function Le(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _e(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ge(e,t)}function Re(e){var t=We();return function(){var n,r=Ye(e);if(t){var o=Ye(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return He(this,n)}}function He(e,t){if(t&&("object"===Pe(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ue(e)}function Ue(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $e(e){var t="function"===typeof Map?new Map:void 0;return $e=function(e){if(null===e||!ze(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return qe(e,arguments,Ye(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),Ge(n,e)},$e(e)}function qe(e,t,n){return qe=We()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var o=Function.bind.apply(e,r),a=new o;return n&&Ge(a,n.prototype),a},qe.apply(null,arguments)}function We(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function ze(e){return-1!==Function.toString.call(e).indexOf("[native code]")}function Ge(e,t){return Ge=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Ge(e,t)}function Ye(e){return Ye=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ye(e)}
/*!
 * Matomo - free/libre analytics platform
 *
 * @link    https://matomo.org
 * @license https://www.gnu.org/licenses/gpl-3.0.html GPL v3 or later
 */we.updatePeriodParamsFromUrl=Ee.updatePeriodParamsFromUrl.bind(Ee);var Je=window,Ke=Je.$;function Qe(e,t){"abort"!==t&&e&&0!==e.status&&("undefined"!==typeof Piwik_Popover?Piwik_Popover.isOpen()&&e&&500===e.status?Ke(document.body).html(piwikHelper.escape(e.responseText)):Ke("#loadingError").show():console.log("Request failed: ".concat(e.responseText)))}window.globalAjaxQueue=[],window.globalAjaxQueue.active=0,window.globalAjaxQueue.clean=function(){for(var e=this.length;e>=0;e-=1)this[e]&&4!==this[e].readyState||this.splice(e,1)},window.globalAjaxQueue.push=function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return this.active+=n.length,this.clean(),(e=Array.prototype.push).call.apply(e,[this].concat(n))},window.globalAjaxQueue.abort=function(){this.forEach((function(e){return e&&e.abort&&e.abort()})),this.splice(0,this.length),this.active=0};var Xe=function(e){_e(n,e);var t=Re(n);function n(){return Fe(this,n),t.apply(this,arguments)}return n}($e(Error)),Ze=function(){function e(){Fe(this,e),Le(this,"format","json"),Le(this,"timeout",null),Le(this,"callback",null),Le(this,"useRegularCallbackInCaseOfError",!1),Le(this,"errorCallback",void 0),Le(this,"withToken",!1),Le(this,"completeCallback",void 0),Le(this,"getParams",{}),Le(this,"getUrl","?"),Le(this,"postParams",{}),Le(this,"loadingElement",null),Le(this,"errorElement","#ajaxError"),Le(this,"headers",{"X-Requested-With":"XMLHttpRequest"}),Le(this,"requestHandle",null),Le(this,"abortController",null),Le(this,"abortable",!0),Le(this,"defaultParams",["idSite","period","date","segment"]),Le(this,"resolveWithHelper",!1),this.errorCallback=Qe}return Me(e,[{key:"addParams",value:function(e,t){var n=this,r="string"===typeof e?window.broadcast.getValuesFromUrl(e):e,o=["compareSegments","comparePeriods","compareDates"];Object.keys(r).forEach((function(e){var a=r[e];(-1===o.indexOf(e)||a)&&("boolean"===typeof a&&(a=a?1:0),"get"===t.toLowerCase()?n.getParams[e]=a:"post"===t.toLowerCase()&&(n.postParams[e]=a))}))}},{key:"withTokenInUrl",value:function(){this.withToken=!0}},{key:"setUrl",value:function(e){this.addParams(broadcast.getValuesFromUrl(e),"GET")}},{key:"setBulkRequests",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.map((function(e){return"string"===typeof e?e:Ke.param(e)}));this.addParams({module:"API",method:"API.getBulkRequest",urls:r,format:"json"},"post")}},{key:"setTimeout",value:function(e){this.timeout=e}},{key:"setCallback",value:function(e){this.callback=e}},{key:"useCallbackInCaseOfError",value:function(){this.useRegularCallbackInCaseOfError=!0}},{key:"redirectOnSuccess",value:function(e){this.setCallback((function(){piwikHelper.redirect(e)}))}},{key:"setErrorCallback",value:function(e){this.errorCallback=e}},{key:"setCompleteCallback",value:function(e){this.completeCallback=e}},{key:"setFormat",value:function(e){this.format=e}},{key:"setLoadingElement",value:function(e){this.loadingElement=e||"#ajaxLoadingDiv"}},{key:"setErrorElement",value:function(e){e&&(this.errorElement=e)}},{key:"useGETDefaultParameter",value:function(e){if(e&&this.defaultParams)for(var t=0;t<this.defaultParams.length;t+=1)if(this.defaultParams[t]===e)return!0;return!1}},{key:"removeDefaultParameter",value:function(e){if(e&&this.defaultParams)for(var t=0;t<this.defaultParams.length;t+=1)this.defaultParams[t]===e&&this.defaultParams.splice(t,1)}},{key:"send",value:function(){var e=this;Ke(this.errorElement).length&&Ke(this.errorElement).hide(),this.loadingElement&&Ke(this.loadingElement).fadeIn(),this.requestHandle=this.buildAjaxCall(),this.abortable&&window.globalAjaxQueue.push(this.requestHandle),this.abortController&&this.abortController.signal.addEventListener("abort",(function(){e.requestHandle&&e.requestHandle.abort()}));var t=new Promise((function(t,n){e.requestHandle.then((function(n){e.resolveWithHelper?t(e):t(n)})).fail((function(t){if(429===t.status)return console.log("Warning: the '".concat(Ke.param(e.getParams),"' request was rate limited!")),void n(t);"abort"!==t.statusText&&0!==t.status&&(console.log("Warning: the ".concat(Ke.param(e.getParams)," request failed!")),n(t))}))}));return t}},{key:"abort",value:function(){this.requestHandle&&"function"===typeof this.requestHandle.abort&&(this.requestHandle.abort(),this.requestHandle=null)}},{key:"buildAjaxCall",value:function(){var e=this,t=this,n=this.mixinDefaultGetParams(this.getParams),r=this.getUrl;"?"!==r[r.length-1]&&(r+="&"),n.segment&&(r="".concat(r,"segment=").concat(n.segment,"&"),delete n.segment),n.date&&(r="".concat(r,"date=").concat(decodeURIComponent(n.date.toString()),"&"),delete n.date),r+=Ke.param(n);var o={type:"POST",async:!0,url:r,dataType:this.format||"json",complete:this.completeCallback,headers:this.headers?this.headers:void 0,error:function(){if(t.abortable&&(window.globalAjaxQueue.active-=1),t.errorCallback){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.errorCallback.apply(this,n)}},success:function(n,r,o){e.loadingElement&&Ke(e.loadingElement).hide();var a="API.getBulkRequest"===e.postParams.method&&Array.isArray(n)?n:[n],i=a.filter((function(e){return"error"===e.result})).map((function(e){return e.message})).filter((function(e){return e.length})).reduce((function(e,t){return e[t]=(e[t]||0)+1,e}),{});if(i&&Object.keys(i).length&&!e.useRegularCallbackInCaseOfError){var l="";Object.keys(i).forEach((function(e){l.length&&(l+="<br />"),i[e]>1?l+="".concat(e," (").concat(i[e],"x)"):l+=e}));var c=null,s="toast";Ke(e.errorElement).length&&l.length&&(Ke(e.errorElement).show(),c=e.errorElement,s=null);var u=!document.querySelector("#login_form");if(l&&u){var d=window["require"]("piwik/UI"),m=new d.Notification;m.show(l,{placeat:c,context:"error",type:s,id:"ajaxHelper"}),m.scrollToNotification()}}else e.callback&&e.callback(n,r,o);t.abortable&&(window.globalAjaxQueue.active-=1),ue.ajaxRequestFinished&&ue.ajaxRequestFinished()},data:this.mixinDefaultPostParams(this.postParams),timeout:null!==this.timeout?this.timeout:void 0};return Ke.ajax(o)}},{key:"isRequestToApiMethod",value:function(){return this.getParams&&"API"===this.getParams.module&&this.getParams.method||this.postParams&&"API"===this.postParams.module&&this.postParams.method}},{key:"isWidgetizedRequest",value:function(){return"Widgetize"===broadcast.getValueFromUrl("module")}},{key:"getDefaultPostParams",value:function(){return this.withToken||this.isRequestToApiMethod()||ue.shouldPropagateTokenAuth?{token_auth:ue.token_auth,force_api_session:broadcast.isWidgetizeRequestWithoutSession()?0:1}:{}}},{key:"mixinDefaultPostParams",value:function(e){var t=this.getDefaultPostParams(),n=Object.assign(Object.assign({},t),e);return n}},{key:"mixinDefaultGetParams",value:function(e){var t=this,n=De.getSearchParam("segment"),r={idSite:ue.idSite?ue.idSite.toString():broadcast.getValueFromUrl("idSite"),period:ue.period||broadcast.getValueFromUrl("period"),segment:n},o=e;return o.token_auth&&(o.token_auth=null,delete o.token_auth),Object.keys(r).forEach((function(e){!t.useGETDefaultParameter(e)||null!==o[e]&&"undefined"!==typeof o[e]&&""!==o[e]||null!==t.postParams[e]&&"undefined"!==typeof t.postParams[e]&&""!==t.postParams[e]||!r[e]||(o[e]=r[e])})),!this.useGETDefaultParameter("date")||o.date||this.postParams.date||(o.date=ue.currentDateString),o}},{key:"getRequestHandle",value:function(){return this.requestHandle}}],[{key:"fetch",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=new e;n.withTokenInUrl&&r.withTokenInUrl(),n.errorElement&&r.setErrorElement(n.errorElement),n.redirectOnSuccess&&r.redirectOnSuccess(!0!==n.redirectOnSuccess?n.redirectOnSuccess:void 0),r.setFormat(n.format||"json"),Array.isArray(t)?r.setBulkRequests.apply(r,Te(t)):(Object.keys(t).forEach((function(e){if(/password/i.test(e))throw new Error("Password parameters are not allowed to be sent as GET parameter. Please send ".concat(e," as POST parameter instead."))})),r.addParams(Object.assign(Object.assign({module:"API",format:n.format||"json"},t),{},{segment:t.segment?encodeURIComponent(t.segment):void 0}),"get")),n.postParams&&r.addParams(n.postParams,"post"),n.headers&&(r.headers=Object.assign(Object.assign({},r.headers),n.headers));var o=!0;return"undefined"===typeof n.createErrorNotification||n.createErrorNotification||(r.useCallbackInCaseOfError(),r.setErrorCallback(null),o=!1),n.abortController&&(r.abortController=n.abortController),n.returnResponseObject&&(r.resolveWithHelper=!0),!1===n.abortable&&(r.abortable=!1),r.send().then((function(t){var n=t instanceof e?t.requestHandle.responseJSON:t,o="API.getBulkRequest"===r.postParams.method&&Array.isArray(n)?n:[n],a=o.filter((function(e){return"error"===e.result})).map((function(e){return e.message}));if(a.length)throw new Xe(a.filter((function(e){return e.length})).join("\n"));return t})).catch((function(e){if(o||e instanceof Xe)throw e;var t="Something went wrong";throw 504===e.status&&(t="Request was possibly aborted"),429===e.status&&(t="Rate Limit was exceed"),new Error(t)}))}},{key:"post",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return e.fetch(t,Object.assign(Object.assign({},r),{},{postParams:n}))}},{key:"oneAtATime",value:function(t,n){var r=null;return function(o,a){return r&&r.abort(),r=new AbortController,e.post(Object.assign(Object.assign({},o),{},{method:t}),a,Object.assign(Object.assign({},n),{},{abortController:r})).finally((function(){r=null}))}}}]),e}();function et(e,t){return at(e)||ot(e,t)||nt(e,t)||tt()}function tt(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function nt(e,t){if(e){if("string"===typeof e)return rt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?rt(e,t):void 0}}function rt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ot(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0)if(a.push(r.value),t&&a.length===t)break}catch(c){l=!0,o=c}finally{try{i||null==n["return"]||n["return"]()}finally{if(l)throw o}}return a}}function at(e){if(Array.isArray(e))return e}function it(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ct(e,t,n){return t&&lt(e.prototype,t),n&&lt(e,n),e}function st(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}
/*!
 * Matomo - free/libre analytics platform
 *
 * @link    https://matomo.org
 * @license https://www.gnu.org/licenses/gpl-3.0.html GPL v3 or later
 */window.ajaxHelper=Ze;var ut=window,dt=ut.$,mt=function(){function e(){it(this,e),st(this,"defaultMinFractionDigits",0),st(this,"defaultMaxFractionDigits",2)}return ct(e,[{key:"format",value:function(e,t,n,r){if(!dt.isNumeric(e))return String(e);var o=e,a=t||ue.numbers.patternNumber,i=a.split(";");1===i.length&&i.push("-".concat(i[0]));var l=o<0;if(a=l?i[1]:i[0],o=Math.abs(o),n>=0){var c=Math.pow(10,n);o=Math.round(o*c)/c}var s=o.toString().split("."),u=s[0],d=s[1]||"",m=-1!==a.indexOf(",");if(m){var p=a.match(/#+0/),f=(null===p||void 0===p?void 0:p[0].length)||0,h=(null===p||void 0===p?void 0:p[0].length)||0,b=a.split(",");b.length>2&&(h=b[1].length);var v=u.split("").reverse(),g=[];g.push(v.splice(0,f).reverse().join(""));while(v.length)g.push(v.splice(0,h).reverse().join(""));g=g.reverse(),u=g.join(",")}if(r>0&&(d=d.replace(/0+$/,""),d.length<r&&d.length<n)){var y=r-d.length;d+=new Array(y+1).join("0")}var O=d?"".concat(u,".").concat(d):u;return O=a.replace(/#(?:[.,]#+)*0(?:[,.][0#]+)*/,O),this.replaceSymbols(O)}},{key:"replaceSymbols",value:function(e){var t={".":ue.numbers.symbolDecimal,",":ue.numbers.symbolGroup,"+":ue.numbers.symbolPlus,"-":ue.numbers.symbolMinus,"%":ue.numbers.symbolPercent},n="",r=e.split("");return r.forEach((function(e){var r=e;Object.entries(t).some((function(e){var t=et(e,2),n=t[0],o=t[1];return-1!==r.indexOf(n)&&(r=r.replace(n,o),!0)})),n+=r})),n}},{key:"valOrDefault",value:function(e,t){return"undefined"===typeof e?t:e}},{key:"getMaxFractionDigitsForCompactFormat",value:function(e){return 1===e?1:0}},{key:"determineCorrectCompactPattern",value:function(e,t){var n=0,r=0,o="";if(Math.round(t)<1e3)return["0",1];for(n=1e3;n<=1e19;n*=10){var a="".concat(n,"One"),i="".concat(n,"Other");if(1===Math.round(t/n)&&""!==(null===e||void 0===e?void 0:e[a])?(r=n,o=a):Math.round(t/n)>=1&&""!==(null===e||void 0===e?void 0:e[i])&&(r=n,o=i),null!==e&&void 0!==e&&e[o]){var l,c=(null===e||void 0===e||null===(l=e[o].match(/0/g))||void 0===l?void 0:l.length)||1;if(Math.round(t*Math.pow(10,c)/(10*n))<Math.pow(10,c))break}}return[(null===e||void 0===e?void 0:e[o])||"0",r]}},{key:"formatCompact",value:function(e,t,n){var r,o=(null===(r=e.match(/0/g))||void 0===r?void 0:r.length)||0,a=t;o>1&&(a/=Math.pow(10,o-1));var i=this.getMaxFractionDigitsForCompactFormat(o),l=Math.pow(10,i),c=Math.round(n/a*l)/l,s=this.formatNumber(c,i,0);return e.replace(/(0+)/,s).replace(/('\.')/,".")}},{key:"parseFormattedNumber",value:function(e){var t=e.indexOf(ue.numbers.symbolMinus)>-1||e.startsWith("-"),n=e.split(ue.numbers.symbolDecimal);return n.forEach((function(e,t){n[t]=e.replace(/[^0-9]/g,"")})),(t?-1:1)*parseFloat(n.join("."))}},{key:"formatNumber",value:function(e,t,n){return this.format(e,ue.numbers.patternNumber,this.valOrDefault(t,this.defaultMaxFractionDigits),this.valOrDefault(n,this.defaultMinFractionDigits))}},{key:"formatPercent",value:function(e,t,n){return this.format(e,ue.numbers.patternPercent,this.valOrDefault(t,this.defaultMaxFractionDigits),this.valOrDefault(n,this.defaultMinFractionDigits))}},{key:"formatCurrency",value:function(e,t,n,r){var o=this.format(e,ue.numbers.patternCurrency,this.valOrDefault(n,this.defaultMaxFractionDigits),this.valOrDefault(r,this.defaultMinFractionDigits));return o.replace("¤",t)}},{key:"formatNumberCompact",value:function(e){var t=e,n=this.determineCorrectCompactPattern(ue.numbers.patternsCompactNumber||[],t),r=et(n,2),o=r[0],a=r[1];return Math.round(t)<1e3||"0"===o?this.formatNumber(t,this.getMaxFractionDigitsForCompactFormat(Math.round(t)),0):this.formatCompact(o,a,t)}},{key:"formatCurrencyCompact",value:function(e,t){var n=e,r=this.determineCorrectCompactPattern(ue.numbers.patternsCompactCurrency||[],n),o=et(r,2),a=o[0],i=o[1];return Math.round(n)<1e3||"0"===a?this.formatCurrency(n,t,this.getMaxFractionDigitsForCompactFormat(Math.round(n)),0):this.formatCompact(a,i,n).replace("¤",t)}},{key:"formatEvolution",value:function(e,t,n,r){if(r)return this.formatPercent(Math.abs(e),t,n);var o=this.formatPercent(e,t,n);return"".concat(e>0?ue.numbers.symbolPlus:"").concat(o)}},{key:"calculateAndFormatEvolution",value:function(e,t,n){var r,o=parseInt(t,10),a=parseInt(e,10)-o;r=0===a||Number.isNaN(a)?0:0===o||Number.isNaN(o)?100:a/o*100;var i=3;return Math.abs(r)>100?i=0:Math.abs(r)>10?i=1:Math.abs(r)>1&&(i=2),this.formatEvolution(r,i,0,n)}}]),e}(),pt=new mt;function ft(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ht(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function bt(e,t,n){return t&&ht(e.prototype,t),n&&ht(e,n),e}
/*!
 * Matomo - free/libre analytics platform
 *
 * @link    https://matomo.org
 * @license https://www.gnu.org/licenses/gpl-3.0.html GPL v3 or later
 */window.NumberFormatter=pt;var vt=window,gt=vt.$,yt=function(){function e(){ft(this,e),this.setup()}return bt(e,[{key:"setup",value:function(){var e=this;Object(X["watch"])((function(){return De.parsed.value.popover}),(function(){return e.onPopoverParamChanged()})),De.parsed.value.popover&&this.onPopoverParamChangedInitial()}},{key:"onPopoverParamChangedInitial",value:function(){var e=this;gt((function(){setTimeout((function(){e.openOrClose()}))}))}},{key:"onPopoverParamChanged",value:function(){var e=this;gt((function(){e.openOrClose()}))}},{key:"openOrClose",value:function(){this.close();var e=De.parsed.value.popover;e?this.open(e):window.broadcast.resetPopoverStack()}},{key:"close",value:function(){window.Piwik_Popover.close()}},{key:"open",value:function(e){var t=decodeURIComponent(e);t=t.replace(/\$/g,"%"),t=decodeURIComponent(t);var n=t.split(":"),r=n[0];n.shift();var o=n.join(":");"undefined"===typeof window.broadcast.popoverHandlers[r]||window.broadcast.isLoginPage()||window.broadcast.popoverHandlers[r](o)}}]),e}();new yt;function Ot(e,t,n){var r=new Date;n||(n=432e4),r.setTime(r.getTime()+n),document.cookie="".concat(e,"=").concat(t,"; expires=").concat(r.toUTCString(),"; path=/")}function jt(e){var t="; ".concat(document.cookie),n=t.split("; ".concat(e,"="));if(2==n.length){var r=n.pop().split(";").shift();if("undefined"!==typeof r)return r}return null}function wt(e){var t=new Date;t.setTime(t.getTime()+-864e5),document.cookie="".concat(e,"=; expires=").concat(t.toUTCString(),"; path=/")}
/*!
 * Matomo - free/libre analytics platform
 *
 * @link    https://matomo.org
 * @license https://www.gnu.org/licenses/gpl-3.0.html GPL v3 or later
 */var kt=window,St=kt.$;function Ct(){var e=!!parseInt(jt("zenMode"),10),t=St(".top_controls .icon-arrowup");function n(){e?(St("body").addClass("zenMode"),t.addClass("icon-arrowdown").removeClass("icon-arrowup"),t.prop("title",a("CoreHome_ExitZenMode"))):(St("body").removeClass("zenMode"),t.removeClass("icon-arrowdown").addClass("icon-arrowup"),t.prop("title",a("CoreHome_EnterZenMode")))}ue.helper.registerShortcut("z",a("CoreHome_ShortcutZenMode"),(function(t){t.altKey||(e=!e,Ot("zenMode",e?"1":"0"),n())})),t.click((function(){window.Mousetrap.trigger("z")})),n()}
/*!
 * Matomo - free/libre analytics platform
 *
 * @link    https://matomo.org
 * @license https://www.gnu.org/licenses/gpl-3.0.html GPL v3 or later
 */
function Et(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o=n;return window._pk_externalRawLink?window._pk_externalRawLink(e,o):e}function Dt(e){if(!e)return"";var t=(arguments.length<=1?0:arguments.length-1)>0&&(arguments.length<=1?void 0:arguments[1])?arguments.length<=1?void 0:arguments[1]:null,n=(arguments.length<=1?0:arguments.length-1)>1&&(arguments.length<=2?void 0:arguments[2])?arguments.length<=2?void 0:arguments[2]:null,r=(arguments.length<=1?0:arguments.length-1)>2&&(arguments.length<=3?void 0:arguments[3])?arguments.length<=3?void 0:arguments[3]:null,o=Et(e,t,n,r);return'<a target="_blank" rel="noreferrer noopener" href="'+o+'">'}
/*!
 * Matomo - free/libre analytics platform
 *
 * @link    https://matomo.org
 * @license https://www.gnu.org/licenses/gpl-3.0.html GPL v3 or later
 */function Pt(e,t,n){return pt.formatNumber(e,t,n)}function Tt(e,t,n){return pt.formatPercent(e,t,n)}function Vt(e,t,n,r){return pt.formatCurrency(e,t,n,r)}function Nt(e,t,n,r){return pt.formatEvolution(e,t,n,r)}function It(e,t,n){return pt.calculateAndFormatEvolution(e,t,n)}
/*!
 * Matomo - free/libre analytics platform
 *
 * @link    https://matomo.org
 * @license https://www.gnu.org/licenses/gpl-3.0.html GPL v3 or later
 */
/*!
 * Matomo - free/libre analytics platform
 *
 * @link    https://matomo.org
 * @license https://www.gnu.org/licenses/gpl-3.0.html GPL v3 or later
 */function xt(){var e=X["createApp"].apply(void 0,arguments);return e.config.globalProperties.$sanitize=window.vueSanitize,e.config.globalProperties.translate=a,e.config.globalProperties.translateOrDefault=i,e.config.globalProperties.externalLink=Dt,e.config.globalProperties.externalRawLink=Et,e.config.globalProperties.formatNumber=Pt,e.config.globalProperties.formatPercent=Tt,e.config.globalProperties.formatCurrency=Vt,e.config.globalProperties.formatEvolution=Nt,e.config.globalProperties.calculateAndFormatEvolution=It,e}
/*!
 * Matomo - free/libre analytics platform
 *
 * @link    https://matomo.org
 * @license https://www.gnu.org/licenses/gpl-3.0.html GPL v3 or later
 */ue.on("Matomo.topControlsRendered",(function(){Ct()}));var Bt={},At=120,Mt=50,Lt=1e3;function Ft(e){if(Bt[e])return Bt[e];if(window[e])return Promise.resolve(window[e]);var t,n,r,o="?module=Proxy&action=getPluginUmdJs&plugin=".concat(e),a=document.createElement("script");a.charset="utf-8",a.timeout=At,a.src=o;var i=new Error,l=function(o){a.onerror=null,a.onload=null,clearTimeout(r);var l=0;function c(){if(l+=Mt,t&&n)if(window[e]&&n)try{n(window[e])}finally{t=void 0,n=void 0}else if(l>Lt)try{var r=o&&("load"===o.type?"missing":o.type),a=o&&o.target&&o.target.src;i.message="Loading plugin ".concat(e," on demand failed.\n(").concat(r,": ").concat(a,")"),i.name="PluginOnDemandLoadError",i.type=r,i.request=a,t(i)}finally{t=void 0,n=void 0}else setTimeout(c,Mt)}setTimeout(c,Mt)};return r=setTimeout((function(){l({type:"timeout",target:a})}),At),a.onerror=l,a.onload=l,document.head.appendChild(a),new Promise((function(e,r){n=e,t=r}))}
/*!
 * Matomo - free/libre analytics platform
 *
 * @link    https://matomo.org
 * @license https://www.gnu.org/licenses/gpl-3.0.html GPL v3 or later
 */function _t(e,t){return Object(X["defineAsyncComponent"])((function(){return Ft(e).then((function(e){return e||resolve(null),e[t]}))}))}
/*!
 * Matomo - free/libre analytics platform
 *
 * @link    https://matomo.org
 * @license https://www.gnu.org/licenses/gpl-3.0.html GPL v3 or later
 */function Rt(e,t){var n;return e instanceof HTMLElement?e:null===(n=t.instance)||void 0===n?void 0:n.$refs[e]}var Ht={getRef:Rt},Ut=300;function $t(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ut;return function(){for(var r=this,o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];t&&clearTimeout(t),t=setTimeout((function(){e.call.apply(e,[r].concat(a))}),n)}}
/*!
 * Matomo - free/libre analytics platform
 *
 * @link    https://matomo.org
 * @license https://www.gnu.org/licenses/gpl-3.0.html GPL v3 or later
 */function qt(e){return"undefined"===typeof e?e:JSON.parse(JSON.stringify(e))}var Wt={ref:"root"};function zt(e,t,n,r,o,a){return Object(X["openBlock"])(),Object(X["createElementBlock"])("div",Wt,[e.componentWrapper?(Object(X["openBlock"])(),Object(X["createBlock"])(Object(X["resolveDynamicComponent"])(e.componentWrapper),{key:0})):Object(X["createCommentVNode"])("",!0)],512)}var Gt=Object(X["defineComponent"])({props:{html:String},mounted:function(){ue.helper.compileVueEntryComponents(this.$refs.root)},beforeUnmount:function(){ue.helper.destroyVueComponent(this.$refs.root)},computed:{componentWrapper:function(){return this.html?Object(X["markRaw"])({template:this.html}):null}}});Gt.render=zt;var Yt=Gt,Jt={class:"loadingPiwik"};function Kt(e,t,n,r,o,a){var i=Object(X["resolveComponent"])("MatomoLoader");return Object(X["withDirectives"])((Object(X["openBlock"])(),Object(X["createElementBlock"])("div",Jt,[Object(X["createVNode"])(i),Object(X["createElementVNode"])("span",null,Object(X["toDisplayString"])(e.loadingMessage),1)],512)),[[X["vShow"],e.loading]])}var Qt={class:"matomo-loader"},Xt=Object(X["createElementVNode"])("span",null,null,-1),Zt=Object(X["createElementVNode"])("span",null,null,-1),en=Object(X["createElementVNode"])("span",null,null,-1),tn=[Xt,Zt,en];function nn(e,t,n,r,o,a){return Object(X["openBlock"])(),Object(X["createElementBlock"])("span",Qt,tn)}var rn=Object(X["defineComponent"])({});rn.render=nn;var on=rn,an=Object(X["defineComponent"])({components:{MatomoLoader:on},props:{loading:{type:Boolean,required:!0,default:!1},loadingMessage:{type:String,required:!1,default:a("General_LoadingData")}}});an.render=Kt;var ln=an;function cn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sn(e,t,n,r,o,a){return Object(X["openBlock"])(),Object(X["createElementBlock"])("div",{class:Object(X["normalizeClass"])(["alert",cn({},"alert-".concat(e.severity),!0)])},[Object(X["renderSlot"])(e.$slots,"default")],2)}var un=Object(X["defineComponent"])({props:{severity:{type:String,required:!0}}});un.render=sn;var dn=un,mn={mounted:function(e,t){var n={};$(e).addClass("matomo-dropdown-menu");var r,o=!!$(e).parent().closest(".dropdown-content").length;o&&(n={hover:!0},$(e).addClass("submenu"),$((null===(r=t.value)||void 0===r?void 0:r.activates)||$(e).data("target")).addClass("submenu-dropdown-content"),$(e).parents(".dropdown-content").addClass("submenu-container"));$(e).dropdown(n)},updated:function(e){Object(X["nextTick"])((function(){$(e).addClass("matomo-dropdown-menu")}))}};
/*!
 * Matomo - free/libre analytics platform
 *
 * @link    https://matomo.org
 * @license https://www.gnu.org/licenses/gpl-3.0.html GPL v3 or later
 */
/*!
 * Matomo - free/libre analytics platform
 *
 * @link    https://matomo.org
 * @license https://www.gnu.org/licenses/gpl-3.0.html GPL v3 or later
 */
function pn(e,t,n){var r=t.value.isMouseDown&&t.value.hasScrolled;t.value.isMouseDown=!1,t.value.hasScrolled=!1,r||e.contains(n.target)||t.value&&t.value.blur()}function fn(e,t){t.value.hasScrolled=!0}function hn(e,t){t.value.isMouseDown=!0,t.value.hasScrolled=!1}function bn(e,t,n){27===n.which&&setTimeout((function(){t.value.isMouseDown=!1,t.value.hasScrolled=!1,t.value.blur&&t.value.blur()}),0)}var vn=document.documentElement,gn={mounted:function(e,t){t.value.isMouseDown=!1,t.value.hasScrolled=!1,t.value.onEscapeHandler=bn.bind(null,e,t),t.value.onMouseDown=hn.bind(null,e,t),t.value.onClickOutsideElement=pn.bind(null,e,t),t.value.onScroll=fn.bind(null,e,t),vn.addEventListener("keyup",t.value.onEscapeHandler),vn.addEventListener("mousedown",t.value.onMouseDown),vn.addEventListener("mouseup",t.value.onClickOutsideElement),vn.addEventListener("scroll",t.value.onScroll)},unmounted:function(e,t){vn.removeEventListener("keyup",t.value.onEscapeHandler),vn.removeEventListener("mousedown",t.value.onMouseDown),vn.removeEventListener("mouseup",t.value.onClickOutsideElement),vn.removeEventListener("scroll",t.value.onScroll)}};
/*!
 * Matomo - free/libre analytics platform
 *
 * @link    https://matomo.org
 * @license https://www.gnu.org/licenses/gpl-3.0.html GPL v3 or later
 */
function yn(e,t){var n,r;null===(n=t.value)||void 0===n||!n.focused||null!==(r=t.oldValue)&&void 0!==r&&r.focused||setTimeout((function(){e.focus(),t.value.afterFocus&&t.value.afterFocus()}),5)}var On={mounted:function(e,t){yn(e,t)},updated:function(e,t){yn(e,t)}},jn=window,wn=jn.$;
/*!
 * Matomo - free/libre analytics platform
 *
 * @link    https://matomo.org
 * @license https://www.gnu.org/licenses/gpl-3.0.html GPL v3 or later
 */function kn(){var e=wn(this).attr("title")||"";return window.vueSanitize(e.replace(/\n/g,"<br />"))}function Sn(e,t){var n,r,o,a,i,l;wn(e).tooltip({track:!0,content:(null===(n=t.value)||void 0===n?void 0:n.content)||kn,show:"undefined"!==typeof(null===(r=t.value)||void 0===r?void 0:r.show)?null===(o=t.value)||void 0===o?void 0:o.show:{delay:(null===(a=t.value)||void 0===a?void 0:a.delay)||700,duration:(null===(i=t.value)||void 0===i?void 0:i.duration)||200},hide:!1,tooltipClass:null===(l=t.value)||void 0===l?void 0:l.tooltipClass})}var Cn={mounted:function(e,t){setTimeout((function(){return Sn(e,t)}))},updated:function(e,t){setTimeout((function(){return Sn(e,t)}))},beforeUnmount:function(e){try{window.$(e).tooltip("destroy")}catch(t){}}},En={ref:"root"};function Dn(e,t,n,r,o,a){return Object(X["withDirectives"])((Object(X["openBlock"])(),Object(X["createElementBlock"])("div",En,[Object(X["renderSlot"])(e.$slots,"default")],512)),[[X["vShow"],e.modelValue]])}var Pn=Object(X["defineComponent"])({props:{modelValue:{type:Boolean,required:!0},options:{type:Object,required:!1,default:function(){return{}}}},emits:["yes","no","closeEnd","close","validation","update:modelValue"],activated:function(){this.$emit("update:modelValue",!1)},watch:{modelValue:function(e,t){var n=this;if(e){var r=this.$refs.root.firstElementChild;ue.helper.modalConfirm(r,{yes:function(){n.$emit("yes")},no:function(){n.$emit("no")},validation:function(){n.$emit("validation")}},Object.assign({onCloseEnd:function(){n.$refs.root.appendChild(r),n.$emit("update:modelValue",!1),n.$emit("closeEnd")}},this.options))}else!1===e&&!0===t&&($(".modal.open").modal("close"),this.$emit("close"))}}});Pn.render=Dn;var Tn=Pn;
/*!
 * Matomo - free/libre analytics platform
 *
 * @link    https://matomo.org
 * @license https://www.gnu.org/licenses/gpl-3.0.html GPL v3 or later
 */function Vn(e){e.classList.toggle("expanded");var t=e.querySelector(".dropdown.positionInViewport");t&&ue.helper.setMarginLeftToBeInViewport(t)}function Nn(e,t,n){var r,o=t.value.isMouseDown&&t.value.hasScrolled;(t.value.isMouseDown=!1,t.value.hasScrolled=!1,o)||(e.contains(n.target)||(e.classList.remove("expanded"),null!==(r=t.value)&&void 0!==r&&r.onClosed&&t.value.onClosed()))}function In(e){e.value.hasScrolled=!0}function xn(e){e.value.isMouseDown=!0,e.value.hasScrolled=!1}function Bn(e,t,n){27===n.which&&(t.value.isMouseDown=!1,t.value.hasScrolled=!1,e.classList.remove("expanded"))}var An=document.documentElement,Mn=window,Ln=Mn.$,Fn={mounted:function(e,t){t.value.isMouseDown=!1,t.value.hasScrolled=!1,t.value.onExpand=Vn.bind(null,e),t.value.onEscapeHandler=Bn.bind(null,e,t),t.value.onMouseDown=xn.bind(null,t),t.value.onClickOutsideElement=Nn.bind(null,e,t),t.value.onScroll=In.bind(null,t),setTimeout((function(){var e=Ht.getRef(t.value.expander,t);e&&Ln(e).on("click",t.value.onExpand)})),An.addEventListener("keyup",t.value.onEscapeHandler),An.addEventListener("mousedown",t.value.onMouseDown),An.addEventListener("mouseup",t.value.onClickOutsideElement),An.addEventListener("scroll",t.value.onScroll)},unmounted:function(e,t){var n=Ht.getRef(t.value.expander,t);n&&Ln(n).off("click",t.value.onExpand),An.removeEventListener("keyup",t.value.onEscapeHandler),An.removeEventListener("mousedown",t.value.onMouseDown),An.removeEventListener("mouseup",t.value.onClickOutsideElement),An.removeEventListener("scroll",t.value.onScroll)}};
/*!
 * Matomo - free/libre analytics platform
 *
 * @link    https://matomo.org
 * @license https://www.gnu.org/licenses/gpl-3.0.html GPL v3 or later
 */
function _n(e){e.classList.add("expanded");var t=e.querySelector(".dropdown.positionInViewport");t&&ue.helper.setMarginLeftToBeInViewport(t)}function Rn(e){e.classList.remove("expanded")}function Hn(e,t){e.contains(t.target)||e.classList.remove("expanded")}function Un(e,t){27===t.which&&e.classList.remove("expanded")}var $n=document.documentElement,qn={mounted:function(e,t){t.value.onMouseEnter=_n.bind(null,e),t.value.onMouseLeave=Rn.bind(null,e),t.value.onClickOutsideElement=Hn.bind(null,e),t.value.onEscapeHandler=Un.bind(null,e),setTimeout((function(){var e=Ht.getRef(t.value.expander,t);e&&e.addEventListener("mouseenter",t.value.onMouseEnter)})),e.addEventListener("mouseleave",t.value.onMouseLeave),$n.addEventListener("keyup",t.value.onEscapeHandler),$n.addEventListener("mouseup",t.value.onClickOutsideElement)},unmounted:function(e,t){var n=Ht.getRef(t.value.expander,t);n&&n.removeEventListener("mouseenter",t.value.onMouseEnter),e.removeEventListener("mouseleave",t.value.onMouseLeave),document.removeEventListener("keyup",t.value.onEscapeHandler),document.removeEventListener("mouseup",t.value.onClickOutsideElement)}},Wn=window,zn=Wn.$,Gn={mounted:function(e,t){var n=zn(e),r=t.value.sensitiveData,o=t.value.showCharacters||6,i=t.value.clickElementSelector||n,l="";function c(){n.html(r),zn(i).css({cursor:""}),zn(i).tooltip("destroy")}o>0&&(l+=r.slice(0,o)),l+=r.slice(o).replace(/./g,"*"),n.html(l),zn(i).tooltip({content:a("CoreHome_ClickToSeeFullInformation"),items:"*",track:!0}),zn(i).one("click",c),zn(i).css({cursor:"pointer"})}},Yn=window,Jn=Yn.$,Kn={mounted:function(e){var t=Jn(e);!t.attr("data-target")&&t.attr("data-activates")&&t.attr("data-target",t.attr("data-activates"));var n=t.attr("data-target");n&&Jn("#".concat(n)).length&&t.dropdown({inDuration:300,outDuration:225,constrainWidth:!1,belowOrigin:!0})}},Qn=window,Xn=Qn.$;function Zn(e,t){e.value.focusedElement!==t.target&&(e.value.focusedElement=t.target,Xn(t.target).select())}function er(e){var t=document.createRange();t.selectNode(e.target);var n=window.getSelection();n&&n.rangeCount>0&&n.removeAllRanges(),n&&n.addRange(t)}function tr(e){delete e.value.focusedElement}var nr={mounted:function(e,t){var n=e.tagName.toLowerCase();t.value.elementSupportsSelect="textarea"===n,t.value.elementSupportsSelect?(t.value.onFocusHandler=Zn.bind(null,t),t.value.onBlurHandler=tr.bind(null,t),e.addEventListener("focus",t.value.onFocusHandler),e.addEventListener("blur",t.value.onBlurHandler)):(t.value.onClickHandler=er,e.addEventListener("click",t.value.onClickHandler))},unmounted:function(e,t){t.value.elementSupportsSelect?(e.removeEventListener("focus",t.value.onFocusHandler),e.removeEventListener("blur",t.value.onBlurHandler)):e.removeEventListener("click",t.value.onClickHandler)}};
/*!
 * Matomo - free/libre analytics platform
 *
 * @link    https://matomo.org
 * @license https://www.gnu.org/licenses/gpl-3.0.html GPL v3 or later
 */function rr(e){if(e){var t=document.createElement("textarea");t.value=e.innerText,t.setAttribute("readonly",""),t.style.position="absolute",t.style.left="-9999px",document.body.appendChild(t),t.select(),t.focus(),document.execCommand("copy"),document.body.removeChild(t);var n=e.parentElement;if(n){var r=n.getElementsByTagName("i")[0];r&&(r.classList.remove("copyToClipboardIcon"),r.classList.add("copyToClipboardIconCheck"));var o=n.getElementsByClassName("copyToClipboardCopiedDiv")[0];o&&(o.style.display="inline-block",setTimeout((function(){o.style.display="none"}),2500))}}}function or(e,t){if(t.value.transitionOpen){var n=e.parentElement;if(n){var r=n.getElementsByTagName("i")[0];r&&(r.classList.remove("copyToClipboardIconCheck"),r.classList.add("copyToClipboardIcon"))}t.value.transitionOpen=!1}else t.value.transitionOpen=!0}var ar={mounted:function(e,t){var n=e.tagName.toLowerCase();if("pre"===n){var r=document.createElement("button");r.setAttribute("type","button"),r.className="copyToClipboardButton";var o=document.createElement("div");o.className="copyToClipboardPositionDiv";var i=document.createElement("i");i.className="copyToClipboardIcon",r.appendChild(i);var l=document.createElement("span");l.className="copyToClipboardSpan",l.innerHTML=a("General_Copy"),r.appendChild(l),o.appendChild(r);var c=document.createElement("div");c.className="copyToClipboardCopiedDiv",c.innerHTML=a("General_CopiedToClipboard"),o.appendChild(c);var s=e.parentElement;s&&(s.classList.add("copyToClipboardWrapper"),s.appendChild(o)),t.value.onClickHandler=rr.bind(null,e),r.addEventListener("click",t.value.onClickHandler),t.value.onTransitionEndHandler=or.bind(null,e,t),r.addEventListener("transitionend",t.value.onTransitionEndHandler)}},unmounted:function(e,t){e.removeEventListener("click",t.value.onClickHandler),e.removeEventListener("transitionend",t.value.onTransitionEndHandler)}},ir={mounted:function(e,t){t.value.activator&&setTimeout((function(){if(!t.value.initialized){t.value.initialized=!0;var n=Ht.getRef(t.value.activator,t);if(n){window.$(n).show();var r=n.getAttribute("data-target");window.$("#".concat(r)).sidenav({closeOnClick:!0})}}e.classList.contains("collapsible")&&window.$(e).collapsible()}))}},lr={key:0,class:"title",tabindex:"6"},cr=["href","title"],sr={class:"iconsBar"},ur=["href","title"],dr=Object(X["createElementVNode"])("span",{class:"icon-help"},null,-1),mr=[dr],pr=["title"],fr=Object(X["createElementVNode"])("span",{class:"icon-info"},null,-1),hr=[fr],br={key:2,class:"ratingIcons"},vr={class:"inlineHelp"},gr=["innerHTML"],yr=["innerHTML"],Or=["href"];
/*!
 * Matomo - free/libre analytics platform
 *
 * @link    https://matomo.org
 * @license https://www.gnu.org/licenses/gpl-3.0.html GPL v3 or later
 */function jr(e,t,n,r,o,a){return Object(X["openBlock"])(),Object(X["createElementBlock"])("div",{class:"enrichedHeadline",onMouseenter:t[1]||(t[1]=function(t){return e.showIcons=!0}),onMouseleave:t[2]||(t[2]=function(t){return e.showIcons=!1}),ref:"root"},[e.editUrl?Object(X["createCommentVNode"])("",!0):(Object(X["openBlock"])(),Object(X["createElementBlock"])("div",lr,[Object(X["renderSlot"])(e.$slots,"default")])),e.editUrl?(Object(X["openBlock"])(),Object(X["createElementBlock"])("a",{key:1,class:"title",href:e.editUrl,title:e.translate("CoreHome_ClickToEditX",e.htmlEntities(e.actualFeatureName))},[Object(X["renderSlot"])(e.$slots,"default")],8,cr)):Object(X["createCommentVNode"])("",!0),Object(X["withDirectives"])(Object(X["createElementVNode"])("span",sr,[e.helpUrl&&!e.actualInlineHelp?(Object(X["openBlock"])(),Object(X["createElementBlock"])("a",{key:0,rel:"noreferrer noopener",target:"_blank",class:"helpIcon",href:e.helpUrl,title:e.translate("CoreHome_ExternalHelp")},mr,8,ur)):Object(X["createCommentVNode"])("",!0),e.actualInlineHelp?(Object(X["openBlock"])(),Object(X["createElementBlock"])("a",{key:1,onClick:t[0]||(t[0]=function(t){return e.showInlineHelp=!e.showInlineHelp}),class:Object(X["normalizeClass"])(["helpIcon",{active:e.showInlineHelp}]),title:e.translate(e.reportGenerated?"General_HelpReport":"General_Help")},hr,10,pr)):Object(X["createCommentVNode"])("",!0),e.showRateFeature?(Object(X["openBlock"])(),Object(X["createElementBlock"])("div",br,[(Object(X["openBlock"])(),Object(X["createBlock"])(Object(X["resolveDynamicComponent"])(e.rateFeature),{title:e.actualFeatureName},null,8,["title"]))])):Object(X["createCommentVNode"])("",!0)],512),[[X["vShow"],e.showIcons||e.showInlineHelp]]),Object(X["withDirectives"])(Object(X["createElementVNode"])("div",vr,[Object(X["createElementVNode"])("div",{innerHTML:e.$sanitize(e.actualInlineHelp)},null,8,gr),""!=e.reportGenerated?(Object(X["openBlock"])(),Object(X["createElementBlock"])("span",{key:0,class:"helpDate",innerHTML:e.$sanitize(e.reportGenerated)},null,8,yr)):Object(X["createCommentVNode"])("",!0),e.helpUrl?(Object(X["openBlock"])(),Object(X["createElementBlock"])("a",{key:1,rel:"noreferrer noopener",target:"_blank",class:"readMore",href:e.helpUrl},Object(X["toDisplayString"])(e.translate("General_MoreDetails")),9,Or)):Object(X["createCommentVNode"])("",!0)],512),[[X["vShow"],e.showInlineHelp]])],544)}var wr=Object(X["defineComponent"])({props:{helpUrl:{type:String,default:""},editUrl:{type:String,default:""},reportGenerated:String,featureName:String,inlineHelp:String},data:function(){return{showIcons:!1,showInlineHelp:!1,actualFeatureName:this.featureName,actualInlineHelp:this.inlineHelp}},watch:{inlineHelp:function(e){this.actualInlineHelp=e},featureName:function(e){this.actualFeatureName=e}},mounted:function(){var e,t=this.$refs.root;if(!this.actualInlineHelp){var n,r=t.querySelector(".title .inlineHelp");if(!r&&null!==(n=t.parentElement)&&void 0!==n&&n.nextElementSibling&&(r=t.parentElement.nextElementSibling.querySelector(".reportDocumentation")),r){var o,a=null===(o=r.getAttribute("data-content"))||void 0===o?void 0:o.trim();a&&a.length&&(this.actualInlineHelp="<p>".concat(a,"</p>"),setTimeout((function(){return r.remove()}),0))}}this.actualFeatureName||(this.actualFeatureName=null===(e=t.querySelector(".title"))||void 0===e?void 0:e.textContent);if(ue.period&&ue.currentDateString){var i=m.parse(ue.period,ue.currentDateString);this.reportGenerated&&i.containsToday()&&window.$(t.querySelector(".report-generated")).tooltip({track:!0,content:this.reportGenerated,items:"div",show:!1,hide:!1})}},methods:{htmlEntities:function(e){return ue.helper.htmlEntities(e)}},computed:{showRateFeature:function(){return"Feedback_SendFeedback"!==i("Feedback_SendFeedback")},rateFeature:function(){return this.showRateFeature?_t("Feedback","RateFeature"):""}}});wr.render=jr;var kr=wr,Sr={class:"card-content"},Cr={key:0,class:"card-title"},Er={key:1,class:"card-title"},Dr={ref:"content"},Pr={key:0,class:"card-image hide-on-med-and-down"},Tr=["src","alt"];function Vr(e,t,n,r,o,a){var i=Object(X["resolveComponent"])("EnrichedHeadline");return Object(X["openBlock"])(),Object(X["createElementBlock"])("div",{class:Object(X["normalizeClass"])({card:!0,"card-with-image":!!this.imageUrl}),ref:"root"},[Object(X["createElementVNode"])("div",Sr,[!e.contentTitle||e.actualFeature||e.helpUrl||e.actualHelpText?Object(X["createCommentVNode"])("",!0):(Object(X["openBlock"])(),Object(X["createElementBlock"])("h2",Cr,Object(X["toDisplayString"])(e.decode(e.contentTitle)),1)),e.contentTitle&&(e.actualFeature||e.helpUrl||e.actualHelpText)?(Object(X["openBlock"])(),Object(X["createElementBlock"])("h2",Er,[Object(X["createVNode"])(i,{"feature-name":e.actualFeature,"help-url":e.helpUrl,"inline-help":e.actualHelpText},{default:Object(X["withCtx"])((function(){return[Object(X["createTextVNode"])(Object(X["toDisplayString"])(e.decode(e.contentTitle)),1)]})),_:1},8,["feature-name","help-url","inline-help"])])):Object(X["createCommentVNode"])("",!0),Object(X["createElementVNode"])("div",Dr,[Object(X["renderSlot"])(e.$slots,"default")],512)]),e.imageUrl?(Object(X["openBlock"])(),Object(X["createElementBlock"])("div",Pr,[Object(X["createElementVNode"])("img",{src:e.imageUrl,alt:e.actualImageAltText},null,8,Tr)])):Object(X["createCommentVNode"])("",!0)],2)}var Nr=null,Ir=window,xr=Ir.$,Br=Object(X["defineComponent"])({props:{contentTitle:String,feature:String,helpUrl:String,helpText:String,anchor:String,imageUrl:String,imageAltText:String},components:{EnrichedHeadline:kr},data:function(){return{actualFeature:this.feature,actualHelpText:this.helpText,actualImageAltText:this.imageAltText?this.imageAltText:this.contentTitle}},watch:{feature:function(e){this.actualFeature=e},helpText:function(e){this.actualHelpText=e}},mounted:function(){var e=this,t=this.$refs.root,n=this.$refs.content;if(this.anchor&&t&&t.parentElement){var r=document.createElement("a");r.id=this.anchor,xr(t.parentElement).prepend(r)}setTimeout((function(){var t=n.querySelector(".contentHelp");t&&(e.actualHelpText=t.innerHTML,t.remove())}),0),this.actualFeature&&"true"===this.actualFeature&&(this.actualFeature=this.contentTitle),null===Nr&&(Nr=document.querySelector("#content.admin"));var o=null;if(Nr&&(o=Nr.offsetTop),o||0===o){var a=t.closest(".widgetLoader"),i=a?a.offsetTop:t.offsetTop;i-o<17&&(t.style.marginTop="0")}},methods:{decode:function(e){return ue.helper.htmlDecode(e)}}});Br.render=Vr;var Ar=Br,Mr={key:0,ref:"root",class:"matomo-comparisons"},Lr={class:"comparison-type"},Fr=["title"],_r=["href"],Rr=["title"],Hr={class:"comparison-period-label"},Ur=["onClick"],$r=["title"],qr={class:"loadingPiwik",style:{display:"none"}},Wr=["alt"];function zr(e,t,n,r,o,a){var i=Object(X["resolveDirective"])("tooltips");return e.isComparing?Object(X["withDirectives"])((Object(X["openBlock"])(),Object(X["createElementBlock"])("div",Mr,[Object(X["createElementVNode"])("h3",null,Object(X["toDisplayString"])(e.translate("General_Comparisons")),1),(Object(X["openBlock"])(!0),Object(X["createElementBlock"])(X["Fragment"],null,Object(X["renderList"])(e.segmentComparisons,(function(t,n){return Object(X["openBlock"])(),Object(X["createElementBlock"])("div",{class:"comparison card",key:t.index},[Object(X["createElementVNode"])("div",Lr,Object(X["toDisplayString"])(e.translate("General_Segment")),1),Object(X["createElementVNode"])("div",{class:"title",title:e.getTitleTooltip(t)},[Object(X["createElementVNode"])("a",{target:"_blank",href:e.getUrlToSegment(t.params.segment)},Object(X["toDisplayString"])(t.title),9,_r)],8,Fr),(Object(X["openBlock"])(!0),Object(X["createElementBlock"])(X["Fragment"],null,Object(X["renderList"])(e.periodComparisons,(function(n){return Object(X["openBlock"])(),Object(X["createElementBlock"])("div",{class:"comparison-period",key:n.index,title:e.getComparisonTooltip(t,n)},[Object(X["createElementVNode"])("span",{class:"comparison-dot",style:Object(X["normalizeStyle"])({"background-color":e.getSeriesColor(t,n)})},null,4),Object(X["createElementVNode"])("span",Hr,Object(X["toDisplayString"])(n.title)+" ("+Object(X["toDisplayString"])(e.getComparisonPeriodType(n))+") ",1)],8,Rr)})),128)),e.segmentComparisons.length>1?(Object(X["openBlock"])(),Object(X["createElementBlock"])("a",{key:0,class:"remove-button",onClick:function(t){return e.removeSegmentComparison(n)}},[Object(X["createElementVNode"])("span",{class:"icon icon-close",title:e.translate("General_ClickToRemoveComp")},null,8,$r)],8,Ur)):Object(X["createCommentVNode"])("",!0)])})),128)),Object(X["createElementVNode"])("div",qr,[Object(X["createElementVNode"])("img",{src:"plugins/Morpheus/images/loading-blue.gif",alt:e.translate("General_LoadingData")},null,8,Wr),Object(X["createTextVNode"])(" "+Object(X["toDisplayString"])(e.translate("General_LoadingData")),1)])],512)),[[i,{duration:200,delay:200,content:e.transformTooltipContent}]]):Object(X["createCommentVNode"])("",!0)}function Gr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Yr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Jr(e,t,n){return t&&Yr(e.prototype,t),n&&Yr(e,n),e}function Kr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}
/*!
 * Matomo - free/libre analytics platform
 *
 * @link    https://matomo.org
 * @license https://www.gnu.org/licenses/gpl-3.0.html GPL v3 or later
 */var Qr=function(){function e(){var t=this;Gr(this,e),Kr(this,"segmentState",Object(X["reactive"])({availableSegments:[]})),ue.on("piwikSegmentationInited",(function(){return t.setSegmentState()}))}return Jr(e,[{key:"state",get:function(){return Object(X["readonly"])(this.segmentState)}},{key:"setSegmentState",value:function(){try{var e=$(".segmentEditorPanel").data("uiControlObject");this.segmentState.availableSegments=e.impl.availableSegments||[]}catch(t){}}}]),e}(),Xr=new Qr;function Zr(e){return ro(e)||no(e)||to(e)||eo()}function eo(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function to(e,t){if(e){if("string"===typeof e)return oo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?oo(e,t):void 0}}function no(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function ro(e){if(Array.isArray(e))return oo(e)}function oo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ao(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function io(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function lo(e,t,n){return t&&io(e.prototype,t),n&&io(e,n),e}function co(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}
/*!
 * Matomo - free/libre analytics platform
 *
 * @link    https://matomo.org
 * @license https://www.gnu.org/licenses/gpl-3.0.html GPL v3 or later
 */var so=8,uo=3;function mo(e){return e?Array.isArray(e)?e:[e]:[]}var po=function(){function e(){var t=this;ao(this,e),co(this,"privateState",Object(X["reactive"])({comparisonsDisabledFor:[]})),co(this,"state",Object(X["readonly"])(this.privateState)),co(this,"colors",{}),co(this,"segmentComparisons",Object(X["computed"])((function(){return t.parseSegmentComparisons()}))),co(this,"periodComparisons",Object(X["computed"])((function(){return t.parsePeriodComparisons()}))),co(this,"isEnabled",Object(X["computed"])((function(){return t.checkEnabledForCurrentPage()}))),"complete"===document.readyState||"interactive"===document.readyState?this.loadComparisonsDisabledFor():document.addEventListener("DOMContentLoaded",(function(){t.loadComparisonsDisabledFor()})),$((function(){t.colors=t.getAllSeriesColors()})),Object(X["watch"])((function(){return t.getComparisons()}),(function(){return ue.postEvent("piwikComparisonsChanged")}),{deep:!0})}return lo(e,[{key:"getComparisons",value:function(){return this.getSegmentComparisons().concat(this.getPeriodComparisons())}},{key:"isComparing",value:function(){return this.isComparisonEnabled()&&(this.segmentComparisons.value.length>1||this.periodComparisons.value.length>1)}},{key:"isComparingPeriods",value:function(){return this.getPeriodComparisons().length>1}},{key:"getSegmentComparisons",value:function(){return this.isComparisonEnabled()?this.segmentComparisons.value:[]}},{key:"getPeriodComparisons",value:function(){return this.isComparisonEnabled()?this.periodComparisons.value:[]}},{key:"getSeriesColor",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=this.getComparisonSeriesIndex(t.index,e.index)%so;if(0===n)return this.colors["series".concat(r)];var o=n%uo;return this.colors["series".concat(r,"-shade").concat(o)]}},{key:"getSeriesColorName",value:function(e,t){var n="series".concat(e%so);return t>0&&(n+="-shade".concat(t%uo)),n}},{key:"isComparisonEnabled",value:function(){return this.isEnabled.value}},{key:"getIndividualComparisonRowIndices",value:function(e){var t=this.getSegmentComparisons().length,n=e%t,r=Math.floor(e/t);return{segmentIndex:n,periodIndex:r}}},{key:"getComparisonSeriesIndex",value:function(e,t){var n=this.getSegmentComparisons().length;return e*n+t}},{key:"getAllComparisonSeries",value:function(){var e=this,t=[],n=0;return this.getPeriodComparisons().forEach((function(r){e.getSegmentComparisons().forEach((function(o){t.push({index:n,params:Object.assign(Object.assign({},o.params),r.params),color:e.colors["series".concat(n)]}),n+=1}))})),t}},{key:"removeSegmentComparison",value:function(e){if(!this.isComparisonEnabled())throw new Error("Comparison disabled.");var t=Zr(this.segmentComparisons.value);t.splice(e,1);var n={};0===e&&(n.segment=t[0].params.segment),this.updateQueryParamsFromComparisons(t,this.periodComparisons.value,n)}},{key:"addSegmentComparison",value:function(e){if(!this.isComparisonEnabled())throw new Error("Comparison disabled.");var t=this.segmentComparisons.value.concat([{params:e,index:-1,title:""}]);this.updateQueryParamsFromComparisons(t,this.periodComparisons.value)}},{key:"updateQueryParamsFromComparisons",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r={},o={},a=!1,i=!1;e.forEach((function(e){a?r[e.params.segment]=!0:a=!0})),t.forEach((function(e){i?o["".concat(e.params.period,"|").concat(e.params.date)]=!0:i=!0}));var l=[],c=[];Object.keys(o).forEach((function(e){var t=e.split("|");l.push(t[0]),c.push(t[1])}));var s={compareSegments:Object.keys(r),comparePeriods:l,compareDates:c},u=ue.helper.isReportingPage()?De.hashParsed.value:De.urlParsed.value;De.updateLocation(Object.assign(Object.assign(Object.assign({},u),s),n))}},{key:"getAllSeriesColors",value:function(){var e=ue.ColorManager;if(!e)return[];for(var t=[],n=0;n<so;n+=1){t.push("series".concat(n));for(var r=0;r<uo;r+=1)t.push("series".concat(n,"-shade").concat(r))}return e.getColors("comparison-series-color",t)}},{key:"loadComparisonsDisabledFor",value:function(){var e=this,t=De.parsed.value.module;"CoreUpdater"===t||"Installation"===t||"Overlay"===t||window.piwik.isPagesComparisonApiDisabled||window.piwik.installation||window.broadcast.isLoginPage()?this.privateState.comparisonsDisabledFor=[]:Ze.fetch({module:"API",method:"API.getPagesComparisonsDisabledFor"}).then((function(t){e.privateState.comparisonsDisabledFor=t}))}},{key:"parseSegmentComparisons",value:function(){var e=Xr.state.availableSegments,t=Zr(mo(De.parsed.value.compareSegments));t.unshift(De.parsed.value.segment||"");var n=[];return t.forEach((function(t,r){var o;e.forEach((function(e){e.definition!==t&&e.definition!==decodeURIComponent(t)&&decodeURIComponent(e.definition)!==t||(o=e)}));var i=o?o.name:a("General_Unknown");""===t.trim()&&(i=a("SegmentEditor_DefaultAllVisits")),n.push({params:{segment:t},title:ue.helper.htmlDecode(i),index:r})})),n}},{key:"parsePeriodComparisons",value:function(){var e=Zr(mo(De.parsed.value.comparePeriods)),t=Zr(mo(De.parsed.value.compareDates));e.unshift(De.parsed.value.period),t.unshift(De.parsed.value.date);for(var n=[],r=0;r<Math.min(t.length,e.length);r+=1){var o=void 0;try{o=m.parse(e[r],t[r]).getPrettyString()}catch(i){o=a("General_Error")}n.push({params:{date:t[r],period:e[r]},title:o,index:r})}return n}},{key:"checkEnabledForCurrentPage",value:function(){var e=De.parsed.value.category||De.parsed.value.module,t=De.parsed.value.subcategory||De.parsed.value.action,n="".concat(e,".").concat(t),r=-1===this.privateState.comparisonsDisabledFor.indexOf(n)&&-1===this.privateState.comparisonsDisabledFor.indexOf("".concat(e,".*"));return document.documentElement.classList.toggle("comparisonsDisabled",!r),r}}]),e}(),fo=new po,ho=Object(X["defineComponent"])({props:{},directives:{Tooltips:Cn},data:function(){return{comparisonTooltips:null}},setup:function(){var e=Object(X["computed"])((function(){return fo.isComparing()&&!window.broadcast.isNoDataPage()})),t=Object(X["computed"])((function(){return fo.getSegmentComparisons()})),n=Object(X["computed"])((function(){return fo.getPeriodComparisons()})),r=fo.getSeriesColor.bind(fo);function o(){var e=window.$(this).attr("title");return e?window.vueSanitize(e.replace(/\n/g,"<br />")):e}return{isComparing:e,segmentComparisons:t,periodComparisons:n,getSeriesColor:r,transformTooltipContent:o}},methods:{comparisonHasSegment:function(e){return"undefined"!==typeof e.params.segment},removeSegmentComparison:function(e){window.$(this.$refs.root).tooltip("destroy"),fo.removeSegmentComparison(e)},getComparisonPeriodType:function(e){var t=e.params.period;if("range"===t)return a("CoreHome_PeriodRange");var n=a("Intl_Period".concat(t.substring(0,1).toUpperCase()).concat(t.substring(1)));return n.substring(0,1).toUpperCase()+n.substring(1)},getComparisonTooltip:function(e,t){if(this.comparisonTooltips&&Object.keys(this.comparisonTooltips).length)return(this.comparisonTooltips[t.index]||{})[e.index]},getTitleTooltip:function(e){return"".concat(this.htmlentities(e.title),"<br/>")+"".concat(this.htmlentities(decodeURIComponent(e.params.segment)))},getUrlToSegment:function(e){var t=Object.assign({},De.hashParsed.value);return delete t.comparePeriods,delete t.compareDates,delete t.compareSegments,t.segment=e,"".concat(window.location.search,"#?").concat(De.stringify(t))},onComparisonsChanged:function(){var e=this;if(this.comparisonTooltips=null,fo.isComparing()){var t=fo.getPeriodComparisons(),n=fo.getSegmentComparisons();Ze.fetch({method:"API.getProcessedReport",apiModule:"VisitsSummary",apiAction:"get",compare:"1",compareSegments:De.getSearchParam("compareSegments"),comparePeriods:De.getSearchParam("comparePeriods"),compareDates:De.getSearchParam("compareDates"),format_metrics:"1"}).then((function(r){e.comparisonTooltips={},t.forEach((function(t){e.comparisonTooltips[t.index]={},n.forEach((function(n){var o=e.generateComparisonTooltip(r,t,n);e.comparisonTooltips[t.index][n.index]=o}))}))}))}},generateComparisonTooltip:function(e,t,n){if(!e.reportData.comparisons)return"";var r=fo.getComparisonSeriesIndex(t.index,0),o=e.reportData.comparisons[r],i=fo.getComparisonSeriesIndex(t.index,n.index),l=e.reportData.comparisons[i],c=e.reportData.comparisons[n.index],s='<div class="comparison-card-tooltip">',u=(l.nb_visits/o.nb_visits*100).toFixed(2);return u="".concat(u,"%"),s+=a("General_ComparisonCardTooltip1",["'".concat(this.htmlentities(l.compareSegmentPretty),"'"),l.comparePeriodPretty,u,l.nb_visits.toString(),o.nb_visits.toString()]),t.index>0&&(s+="<br/><br/>",s+=a("General_ComparisonCardTooltip2",[l.nb_visits_change.toString(),this.htmlentities(c.compareSegmentPretty),c.comparePeriodPretty])),s+="</div>",s},htmlentities:function(e){return ue.helper.htmlEntities(e)}},mounted:function(){var e=this;ue.on("piwikComparisonsChanged",(function(){e.onComparisonsChanged()})),this.onComparisonsChanged()}});ho.render=zr;var bo=ho,vo={ref:"root",class:"menuDropdown"},go=["title"],yo=["innerHTML"],Oo=Object(X["createElementVNode"])("span",{class:"icon-chevron-down reporting-menu-sub-icon"},null,-1),jo={class:"items"},wo={key:0,class:"search"},ko=["placeholder"],So=["title"],Co=["title"];function Eo(e,t,n,r,o,a){var i=Object(X["resolveDirective"])("focus-if"),l=Object(X["resolveDirective"])("focus-anywhere-but-here");return Object(X["withDirectives"])((Object(X["openBlock"])(),Object(X["createElementBlock"])("div",vo,[Object(X["createElementVNode"])("span",{class:"title",onClick:t[0]||(t[0]=function(t){return e.showItems=!e.showItems}),title:e.tooltip},[Object(X["createElementVNode"])("span",{innerHTML:e.$sanitize(this.actualMenuTitle)},null,8,yo),Oo],8,go),Object(X["withDirectives"])(Object(X["createElementVNode"])("div",jo,[e.showSearch&&e.showItems?(Object(X["openBlock"])(),Object(X["createElementBlock"])("div",wo,[Object(X["withDirectives"])(Object(X["createElementVNode"])("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=function(t){return e.searchTerm=t}),onKeydown:t[2]||(t[2]=function(t){return e.onSearchTermKeydown(t)}),placeholder:e.translate("General_Search")},null,40,ko),[[X["vModelText"],e.searchTerm],[i,{focused:e.showItems}]]),Object(X["withDirectives"])(Object(X["createElementVNode"])("div",{class:"search_ico icon-search",title:e.translate("General_Search")},null,8,So),[[X["vShow"],!e.searchTerm]]),Object(X["withDirectives"])(Object(X["createElementVNode"])("div",{onClick:t[3]||(t[3]=function(t){e.searchTerm="",e.searchItems("")}),class:"reset icon-close",title:e.translate("General_Clear")},null,8,Co),[[X["vShow"],e.searchTerm]])])):Object(X["createCommentVNode"])("",!0),Object(X["createElementVNode"])("div",{onClick:t[4]||(t[4]=function(t){return e.selectItem(t)})},[Object(X["renderSlot"])(e.$slots,"default")])],512),[[X["vShow"],e.showItems]])],512)),[[l,{blur:e.lostFocus}]])}var Do=window,Po=Do.$,To=Object(X["defineComponent"])({props:{menuTitle:String,tooltip:String,showSearch:Boolean,menuTitleChangeOnClick:Boolean},directives:{FocusAnywhereButHere:gn,FocusIf:On},emits:["afterSelect"],watch:{menuTitle:function(){this.actualMenuTitle=this.menuTitle}},data:function(){return{showItems:!1,searchTerm:"",actualMenuTitle:this.menuTitle}},methods:{lostFocus:function(){this.showItems=!1},selectItem:function(e){var t=e.target.classList;!t.contains("item")||t.contains("disabled")||t.contains("separator")||(this.menuTitleChangeOnClick&&(this.actualMenuTitle=(e.target.textContent||"").replace(/[\u0000-\u2666]/g,(function(e){return"&#".concat(e.charCodeAt(0),";")}))),this.showItems=!1,Po(this.$slots.default()[0].el).find(".item").removeClass("active"),t.add("active"),this.$emit("afterSelect",e.target))},onSearchTermKeydown:function(){var e=this;setTimeout((function(){e.searchItems(e.searchTerm)}))},searchItems:function(e){var t=e.toLowerCase();Po(this.$refs.root).find(".item").each((function(e,n){var r=Po(n);-1===r.text().toLowerCase().indexOf(t)?r.hide():r.show()}))}}});To.render=Eo;var Vo=To,No={ref:"root"};function Io(e,t,n,r,o,a){return Object(X["openBlock"])(),Object(X["createElementBlock"])("div",No,null,512)}var xo=1,Bo=window,Ao=Bo.$,Mo=Object(X["defineComponent"])({props:{selectedDateStart:Date,selectedDateEnd:Date,highlightedDateStart:Date,highlightedDateEnd:Date,viewDate:[String,Date],stepMonths:Number,disableMonthDropdown:Boolean,options:Object},emits:["cellHover","cellHoverLeave","dateSelect"],setup:function(e,t){var n=Object(X["ref"])(null);function r(t,n){var r=t.children("a");if(e.selectedDateStart&&e.selectedDateEnd&&n>=e.selectedDateStart&&n<=e.selectedDateEnd?t.addClass("ui-datepicker-current-period"):t.removeClass("ui-datepicker-current-period"),e.highlightedDateStart&&e.highlightedDateEnd&&n>=e.highlightedDateStart&&n<=e.highlightedDateEnd){var o=r.length?r:t;o.addClass("ui-state-hover")}else t.removeClass("ui-state-hover"),r.removeClass("ui-state-hover")}function o(e,t,n){if(e.hasClass("ui-datepicker-other-month"))return a(e,t,n);var r=parseInt(e.children("a,span").text(),10);return new Date(n,t,r)}function a(e,t,n){var r,a=e.parent(),i=a.children("td");if(a.is(":first-child")){var l=a.children("td:not(.ui-datepicker-other-month)").first();return r=o(l,t,n),r.setDate(i.index(e)-i.index(l)+1),r}var c=a.children("td:not(.ui-datepicker-other-month)").last();return r=o(c,t,n),r.setDate(r.getDate()+i.index(e)-i.index(c)),r}function i(){var e=Ao(n.value),t=e.find("td[data-month]"),r=parseInt(t.attr("data-month"),10),o=parseInt(t.attr("data-year"),10);return[r,o]}function l(){var e=Ao(n.value),t=e.find(".ui-datepicker-calendar"),a=i(),l=t.find("td"),c=l.first(),s=o(c,a[0],a[1]);l.each((function(){r(Ao(this),s),s.setDate(s.getDate()+1)}))}function c(){if(!e.viewDate)return!1;var t;if("string"===typeof e.viewDate)try{t=h(e.viewDate)}catch(a){return!1}else t=e.viewDate;var r=Ao(n.value),o=i();return(o[0]!==t.getMonth()||o[1]!==t.getFullYear())&&(r.datepicker("setDate",t),!0)}function s(){var e=Ao(n.value);e.find("td[data-event]").off("click"),e.find(".ui-state-active").removeClass("ui-state-active"),e.find(".ui-datepicker-current-day").removeClass("ui-datepicker-current-day"),e.find(".ui-datepicker-prev,.ui-datepicker-next").attr("href","")}function u(){var t=Ao(n.value),r=e.stepMonths||xo;if(t.datepicker("option","stepMonths")===r)return!1;var o=Ao(".ui-datepicker-month",t).val(),a=Ao(".ui-datepicker-year",t).val();return t.datepicker("option","stepMonths",r).datepicker("setDate",new Date(a,o)),s(),!0}function d(){var t=Ao(n.value),r=t.find(".ui-datepicker-month")[0];r&&(r.disabled=e.disableMonthDropdown)}function m(){if(Ao(this).hasClass("ui-state-hover")){var e=Ao(this).parent(),t=e.parent();e.is(":first-child")?t.find("a").first().click():t.find("a").last().click()}}function p(){d(),l()}return Object(X["watch"])((function(){return Object.assign({},e)}),(function(e,t){var n=!1;[function(e){return e.selectedDateStart},function(e){return e.selectedDateEnd},function(e){return e.highlightedDateStart},function(e){return e.highlightedDateEnd}].forEach((function(r){if(!n){var o=r(e),a=r(t);!o&&a&&(n=!0),o&&!a&&(n=!0),o&&a&&o.getTime()!==a.getTime()&&(n=!0)}})),e.viewDate!==t.viewDate&&c()&&(n=!0),e.stepMonths!==t.stepMonths&&u(),e.disableMonthDropdown!==t.disableMonthDropdown&&d(),n&&l()})),Object(X["onMounted"])((function(){var r=Ao(n.value),a=e.options||{},f=Object.assign(Object.assign(Object.assign({},ue.getBaseDatePickerOptions()),a),{},{onChangeMonthYear:function(){setTimeout((function(){s()}))}});r.datepicker(f),r.on("mouseover","tbody td a",(function(e){e.originalEvent&&l()})),r.on("mouseenter","tbody td",(function(){var e=i(),n=Ao(this),r=o(n,e[0],e[1]);t.emit("cellHover",{date:r,$cell:n})})),r.on("mouseout","tbody td a",(function(){l()})),r.on("mouseleave","table",(function(){return t.emit("cellHoverLeave")})).on("mouseenter","thead",(function(){return t.emit("cellHoverLeave")})),r.on("click","tbody td.ui-datepicker-other-month",m),r.on("click",(function(e){e.preventDefault();var t=Ao(e.target).closest("a");(t.is(".ui-datepicker-next")||t.is(".ui-datepicker-prev"))&&p()})),r.on("click","td[data-month]",(function(e){var n=Ao(e.target).closest("td"),r=parseInt(n.attr("data-month"),10),o=parseInt(n.attr("data-year"),10),a=parseInt(n.children("a,span").text(),10);t.emit("dateSelect",{date:new Date(o,r,a)})}));var h=u();c(),d(),h||s(),l()})),{root:n}}});Mo.render=Io;var Lo=Mo,Fo={class:"dateRangePicker"},_o={id:"calendarRangeFrom"},Ro={id:"calendarRangeTo"};function Ho(e,t,n,r,o,a){var i=Object(X["resolveComponent"])("DatePicker");return Object(X["openBlock"])(),Object(X["createElementBlock"])("div",Fo,[Object(X["createElementVNode"])("div",_o,[Object(X["createElementVNode"])("h6",null,[Object(X["createTextVNode"])(Object(X["toDisplayString"])(e.translate("General_DateRangeFrom"))+" ",1),Object(X["withDirectives"])(Object(X["createElementVNode"])("input",{type:"text",id:"inputCalendarFrom",name:"inputCalendarFrom",class:"browser-default","onUpdate:modelValue":t[0]||(t[0]=function(t){return e.startDateText=t}),onKeydown:t[1]||(t[1]=function(t){return e.onRangeInputChanged("from",t)}),onKeyup:t[2]||(t[2]=function(t){return e.handleEnterPress(t)})},null,544),[[X["vModelText"],e.startDateText]])]),Object(X["createVNode"])(i,{id:"calendarFrom","view-date":e.startDate,"selected-date-start":e.fromPickerSelectedDates[0],"selected-date-end":e.fromPickerSelectedDates[1],"highlighted-date-start":e.fromPickerHighlightedDates[0],"highlighted-date-end":e.fromPickerHighlightedDates[1],onDateSelect:t[3]||(t[3]=function(t){return e.setStartRangeDate(t.date)}),onCellHover:t[4]||(t[4]=function(t){return e.fromPickerHighlightedDates=e.getNewHighlightedDates(t.date,t.$cell)}),onCellHoverLeave:t[5]||(t[5]=function(t){return e.fromPickerHighlightedDates=[null,null]})},null,8,["view-date","selected-date-start","selected-date-end","highlighted-date-start","highlighted-date-end"])]),Object(X["createElementVNode"])("div",Ro,[Object(X["createElementVNode"])("h6",null,[Object(X["createTextVNode"])(Object(X["toDisplayString"])(e.translate("General_DateRangeTo"))+" ",1),Object(X["withDirectives"])(Object(X["createElementVNode"])("input",{type:"text",id:"inputCalendarTo",name:"inputCalendarTo",class:"browser-default","onUpdate:modelValue":t[6]||(t[6]=function(t){return e.endDateText=t}),onKeydown:t[7]||(t[7]=function(t){return e.onRangeInputChanged("to",t)}),onKeyup:t[8]||(t[8]=function(t){return e.handleEnterPress(t)})},null,544),[[X["vModelText"],e.endDateText]])]),Object(X["createVNode"])(i,{id:"calendarTo","view-date":e.endDate,"selected-date-start":e.toPickerSelectedDates[0],"selected-date-end":e.toPickerSelectedDates[1],"highlighted-date-start":e.toPickerHighlightedDates[0],"highlighted-date-end":e.toPickerHighlightedDates[1],onDateSelect:t[9]||(t[9]=function(t){return e.setEndRangeDate(t.date)}),onCellHover:t[10]||(t[10]=function(t){return e.toPickerHighlightedDates=e.getNewHighlightedDates(t.date,t.$cell)}),onCellHoverLeave:t[11]||(t[11]=function(t){return e.toPickerHighlightedDates=[null,null]})},null,8,["view-date","selected-date-start","selected-date-end","highlighted-date-start","highlighted-date-end"])])])}var Uo="YYYY-MM-DD",$o=Object(X["defineComponent"])({props:{startDate:String,endDate:String},components:{DatePicker:Lo},data:function(){var e=null;try{this.startDate&&(e=h(this.startDate))}catch(n){}var t=null;try{this.endDate&&(t=h(this.endDate))}catch(n){}return{fromPickerSelectedDates:[e,e],toPickerSelectedDates:[t,t],fromPickerHighlightedDates:[null,null],toPickerHighlightedDates:[null,null],startDateText:this.startDate,endDateText:this.endDate,startDateInvalid:!1,endDateInvalid:!1}},emits:["rangeChange","submit"],watch:{startDate:function(){this.startDateText=this.startDate,this.setStartRangeDateFromStr(this.startDate)},endDate:function(){this.endDateText=this.endDate,this.setEndRangeDateFromStr(this.endDate)}},mounted:function(){this.rangeChanged()},methods:{setStartRangeDate:function(e){this.fromPickerSelectedDates=[e,e],this.rangeChanged()},setEndRangeDate:function(e){this.toPickerSelectedDates=[e,e],this.rangeChanged()},onRangeInputChanged:function(e,t){var n=this;setTimeout((function(){"from"===e?n.setStartRangeDateFromStr(t.target.value):n.setEndRangeDateFromStr(t.target.value)}))},getNewHighlightedDates:function(e,t){return t.hasClass("ui-datepicker-unselectable")?null:[e,e]},handleEnterPress:function(e){13===e.keyCode&&this.$emit("submit",{start:this.startDate,end:this.endDate})},setStartRangeDateFromStr:function(e){this.startDateInvalid=!0;var t=null;try{e&&e.length===Uo.length&&(t=h(e))}catch(n){}t&&(this.fromPickerSelectedDates=[t,t],this.startDateInvalid=!1,this.rangeChanged())},setEndRangeDateFromStr:function(e){this.endDateInvalid=!0;var t=null;try{e&&e.length===Uo.length&&(t=h(e))}catch(n){}t&&(this.toPickerSelectedDates=[t,t],this.endDateInvalid=!1,this.rangeChanged())},rangeChanged:function(){this.$emit("rangeChange",{start:this.fromPickerSelectedDates[0]?p(this.fromPickerSelectedDates[0]):null,end:this.toPickerSelectedDates[0]?p(this.toPickerSelectedDates[0]):null})}}});$o.render=Ho;var qo=$o;function Wo(e,t,n,r,o,a){var i=Object(X["resolveComponent"])("DatePicker");return Object(X["openBlock"])(),Object(X["createBlock"])(i,{"selected-date-start":e.selectedDates[0],"selected-date-end":e.selectedDates[1],"highlighted-date-start":e.highlightedDates[0],"highlighted-date-end":e.highlightedDates[1],"view-date":e.viewDate,"step-months":"year"===e.period?12:1,"disable-month-dropdown":"year"===e.period,onCellHover:t[0]||(t[0]=function(t){return e.onHoverNormalCell(t.date,t.$cell)}),onCellHoverLeave:t[1]||(t[1]=function(t){return e.onHoverLeaveNormalCells()}),onDateSelect:t[2]||(t[2]=function(t){return e.onDateSelected(t.date)})},null,8,["selected-date-start","selected-date-end","highlighted-date-start","highlighted-date-end","view-date","step-months","disable-month-dropdown"])}var zo=new Date(ue.minDateYear,ue.minDateMonth-1,ue.minDateDay),Go=new Date(ue.maxDateYear,ue.maxDateMonth-1,ue.maxDateDay),Yo=Object(X["defineComponent"])({props:{period:{type:String,required:!0},date:[String,Date]},components:{DatePicker:Lo},emits:["select"],setup:function(e,t){var n=Object(X["ref"])(e.date),r=Object(X["ref"])([null,null]),o=Object(X["ref"])([null,null]);function a(t){var n=m.get(e.period).parse(t).getDateRange();return n[0]=zo<n[0]?n[0]:zo,n[1]=Go>n[1]?n[1]:Go,n}function i(t,n){var r=t<zo||t>Go,i=n.hasClass("ui-datepicker-other-month")&&("month"===e.period||"day"===e.period);o.value=r||i?[null,null]:a(t)}function l(){o.value=[null,null]}function c(e){t.emit("select",{date:e})}function s(){if(!e.period||!e.date)return r.value=[null,null],void(n.value=null);r.value=a(e.date),n.value=h(e.date)}return Object(X["watch"])(e,s),s(),{selectedDates:r,highlightedDates:o,viewDate:n,onHoverNormalCell:i,onHoverLeaveNormalCells:l,onDateSelected:c}}});Yo.render=Wo;var Jo=Yo,Ko={key:0},Qo=["data-notification-instance-id"],Xo={key:1},Zo={class:"notification-body"},ea=["innerHTML"],ta={key:1};function na(e,t,n,r,o,a){return Object(X["openBlock"])(),Object(X["createBlock"])(X["Transition"],{name:"toast"===e.type?"slow-fade-out":void 0,onAfterLeave:t[1]||(t[1]=function(t){return e.toastClosed()})},{default:Object(X["withCtx"])((function(){return[e.deleted?Object(X["createCommentVNode"])("",!0):(Object(X["openBlock"])(),Object(X["createElementBlock"])("div",Ko,[Object(X["createVNode"])(X["Transition"],{name:"toast"===e.type?"toast-slide-up":void 0,appear:""},{default:Object(X["withCtx"])((function(){return[Object(X["createElementVNode"])("div",null,[Object(X["createVNode"])(X["Transition"],{name:e.animate?"fade-in":void 0,appear:""},{default:Object(X["withCtx"])((function(){return[Object(X["createElementVNode"])("div",{class:Object(X["normalizeClass"])(["notification system",e.cssClasses]),style:Object(X["normalizeStyle"])(e.style),ref:"root","data-notification-instance-id":e.notificationInstanceId},[e.canClose?(Object(X["openBlock"])(),Object(X["createElementBlock"])("button",{key:0,type:"button",class:"close","data-dismiss":"alert",onClick:t[0]||(t[0]=function(t){return e.closeNotification(t)})}," × ")):Object(X["createCommentVNode"])("",!0),e.title?(Object(X["openBlock"])(),Object(X["createElementBlock"])("strong",Xo,Object(X["toDisplayString"])(e.title),1)):Object(X["createCommentVNode"])("",!0),Object(X["createElementVNode"])("div",Zo,[e.message?(Object(X["openBlock"])(),Object(X["createElementBlock"])("div",{key:0,innerHTML:e.$sanitize(e.message)},null,8,ea)):Object(X["createCommentVNode"])("",!0),e.message?Object(X["createCommentVNode"])("",!0):(Object(X["openBlock"])(),Object(X["createElementBlock"])("div",ta,[Object(X["renderSlot"])(e.$slots,"default")]))])],14,Qo)]})),_:3},8,["name"])])]})),_:3},8,["name"])]))]})),_:3},8,["name"])}var ra=window,oa=ra.$,aa=Object(X["defineComponent"])({props:{notificationId:String,notificationInstanceId:String,title:String,context:String,type:String,noclear:Boolean,toastLength:{type:Number,default:12e3},style:[String,Object],animate:Boolean,message:String,cssClass:String},computed:{cssClasses:function(){var e={};return this.context&&(e["notification-".concat(this.context)]=!0),this.cssClass&&(e[this.cssClass]=!0),e},canClose:function(){return"persistent"===this.type||!this.noclear}},emits:["closed"],data:function(){return{deleted:!1}},mounted:function(){var e=this,t=function(){setTimeout((function(){e.deleted=!0}),e.toastLength)};"toast"===this.type&&t(),this.style&&oa(this.$refs.root).css(this.style)},methods:{toastClosed:function(){var e=this;Object(X["nextTick"])((function(){e.$emit("closed")}))},closeNotification:function(e){var t=this;this.canClose&&e&&e.target&&(this.deleted=!0,Object(X["nextTick"])((function(){t.$emit("closed")}))),this.markNotificationAsRead()},markNotificationAsRead:function(){this.notificationId&&Ze.post({module:"CoreHome",action:"markNotificationAsRead"},{notificationId:this.notificationId},{withTokenInUrl:!0})}}});aa.render=na;var ia=aa,la={class:"notification-group"},ca=["innerHTML"];function sa(e,t,n,r,o,a){var i=Object(X["resolveComponent"])("Notification");return Object(X["openBlock"])(),Object(X["createElementBlock"])("div",la,[(Object(X["openBlock"])(!0),Object(X["createElementBlock"])(X["Fragment"],null,Object(X["renderList"])(e.notifications,(function(t,n){return Object(X["openBlock"])(),Object(X["createBlock"])(i,{key:t.id||"no-id-".concat(n),"notification-id":t.id,title:t.title,context:t.context,type:t.type,noclear:t.noclear,"toast-length":t.toastLength,style:Object(X["normalizeStyle"])(t.style),animate:t.animate,message:t.message,"notification-instance-id":t.notificationInstanceId,"css-class":t.class,onClosed:function(n){return e.removeNotification(t.id)}},{default:Object(X["withCtx"])((function(){return[Object(X["createElementVNode"])("div",{innerHTML:e.$sanitize(t.message)},null,8,ca)]})),_:2},1032,["notification-id","title","context","type","noclear","toast-length","style","animate","message","notification-instance-id","css-class","onClosed"])})),128))])}function ua(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function da(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ma(e,t,n){return t&&da(e.prototype,t),n&&da(e,n),e}function pa(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}
/*!
 * Matomo - free/libre analytics platform
 *
 * @link    https://matomo.org
 * @license https://www.gnu.org/licenses/gpl-3.0.html GPL v3 or later
 */var fa=window,ha=fa.$,ba=function(){function e(){ua(this,e),pa(this,"privateState",Object(X["reactive"])({notifications:[]})),pa(this,"nextNotificationId",0)}return ma(e,[{key:"state",get:function(){return Object(X["readonly"])(this.privateState)}},{key:"appendNotification",value:function(e){this.checkMessage(e.message),e.id&&this.remove(e.id),this.privateState.notifications.push(e)}},{key:"prependNotification",value:function(e){this.checkMessage(e.message),e.id&&this.remove(e.id),this.privateState.notifications.unshift(e)}},{key:"remove",value:function(e){this.privateState.notifications=this.privateState.notifications.filter((function(t){return t.id!==e}))}},{key:"parseNotificationDivs",value:function(){var e=this,t=ha('[data-role="notification"]'),n=[];t.each((function(e,r){var o=ha(r),a=o.data(),i=o.html();i&&n.push(Object.assign(Object.assign({},a),{},{message:i,animate:!1})),t.remove()})),n.forEach((function(t){return e.show(t)}))}},{key:"clearTransientNotifications",value:function(){this.privateState.notifications=this.privateState.notifications.filter((function(e){return"transient"!==e.type}))}},{key:"show",value:function(e){this.checkMessage(e.message);var t=e.prepend?this.prependNotification:this.appendNotification,n="#notificationContainer";if(e.placeat)n=e.placeat;else{var r=".modal.open .modal-content",o=document.querySelector(r);o&&(o.querySelector("#modalNotificationContainer")||ha(o).prepend('<div id="modalNotificationContainer"/>'),n="".concat(r," #modalNotificationContainer"),t=this.prependNotification)}var a=e.group||(n?n.toString():"");this.initializeNotificationContainer(n,a);var i=(this.nextNotificationId+=1).toString();return t.call(this,Object.assign(Object.assign({},e),{},{noclear:!!e.noclear,group:a,notificationId:e.id,notificationInstanceId:i,type:e.type||"transient"})),i}},{key:"scrollToNotification",value:function(e){setTimeout((function(){var t=document.querySelector("[data-notification-instance-id='".concat(e,"']"));t&&ue.helper.lazyScrollTo(t,250)}))}},{key:"toast",value:function(e){this.checkMessage(e.message);var t=e.placeat?ha(e.placeat):void 0;if(!t||!t.length)throw new Error("A valid selector is required for the placeat option when using Notification.toast().");var n=document.createElement("div");n.style.position="absolute",n.style.top="".concat(t.offset().top,"px"),n.style.left="".concat(t.offset().left,"px"),n.style.zIndex="1000",document.body.appendChild(n);var r=xt({render:function(){return Object(X["createVNode"])(ia,Object.assign(Object.assign({},e),{},{notificationId:e.id,type:"toast",onClosed:function(){r.unmount()}}))}});r.mount(n)}},{key:"initializeNotificationContainer",value:function(e,t){if(e){var n=ha(e);if(!n.children(".notification-group").length){var r=window.CoreHome.NotificationGroup,o=xt({template:'<NotificationGroup :group="group"></NotificationGroup>',data:function(){return{group:t}}});o.component("NotificationGroup",r),o.mount(n[0])}}}},{key:"checkMessage",value:function(e){if(!e)throw new Error("No message given, cannot display notification")}}]),e}(),va=new ba,ga=va;ha((function(){return va.parseNotificationDivs()}));var ya=Object(X["defineComponent"])({props:{group:String},components:{Notification:ia},computed:{notifications:function(){var e=this;return ga.state.notifications.filter((function(t){return e.group?e.group===t.group:!t.group}))}},methods:{removeNotification:function(e){ga.remove(e)}}});ya.render=sa;var Oa=ya,ja=Object(X["createElementVNode"])("span",{class:"icon-help"},null,-1),wa=[ja];
/*!
 * Matomo - free/libre analytics platform
 *
 * @link    https://matomo.org
 * @license https://www.gnu.org/licenses/gpl-3.0.html GPL v3 or later
 */function ka(e,t,n,r,o,a){return Object(X["openBlock"])(),Object(X["createElementBlock"])("a",{class:"item-help-icon",tabindex:"5",href:"javascript:",onClick:t[0]||(t[0]=function(){return e.showHelp&&e.showHelp.apply(e,arguments)})},wa)}var Sa="reportingMenu-help",Ca=Object(X["defineComponent"])({props:{message:{type:String,required:!0},name:{type:String,required:!0}},data:function(){return{currentName:""}},methods:{showHelp:function(){if(""!==this.currentName)return ga.remove(Sa),void(this.currentName="");ga.show({context:"info",id:Sa,type:"help",noclear:!0,class:"help-notification",message:this.message,placeat:"#notificationContainer",prepend:!0}),""!==this.name&&(this.currentName=this.name)}}});Ca.render=ka;var Ea=Ca;function Da(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Pa(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ta(e,t,n){return t&&Pa(e.prototype,t),n&&Pa(e,n),e}function Va(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}
/*!
 * Matomo - free/libre analytics platform
 *
 * @link    https://matomo.org
 * @license https://www.gnu.org/licenses/gpl-3.0.html GPL v3 or later
 */var Na=function(){function e(){var t=this;Da(this,e),Va(this,"state",Object(X["reactive"])({initialSites:[],isInitialized:!1})),Va(this,"stateFiltered",Object(X["reactive"])({initialSites:[],isInitialized:!1,excludedSites:[]})),Va(this,"currentRequestAbort",null),Va(this,"limitRequest",void 0),Va(this,"initialSites",Object(X["computed"])((function(){return Object(X["readonly"])(t.state.initialSites)}))),Va(this,"initialSitesFiltered",Object(X["computed"])((function(){return Object(X["readonly"])(t.stateFiltered.initialSites)})))}return Ta(e,[{key:"loadInitialSites",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return this.state.isInitialized&&0===n.length?Promise.resolve(Object(X["readonly"])(this.state.initialSites)):this.stateFiltered.isInitialized&&n.length===this.stateFiltered.excludedSites.length&&n.every((function(t,n){return t===e.stateFiltered.excludedSites[n]}))?Promise.resolve(Object(X["readonly"])(this.stateFiltered.initialSites)):(n.length>0&&this.searchSite("%",t,n).then((function(t){e.stateFiltered.isInitialized=!0,e.stateFiltered.excludedSites=n,null!==t&&(e.stateFiltered.initialSites=t)})),this.state.isInitialized?Promise.resolve(Object(X["readonly"])(this.state.initialSites)):this.searchSite("%",t,n).then((function(t){return e.state.isInitialized=!0,null!==t&&(e.state.initialSites=t),t})))}},{key:"loadSite",value:function(e){"all"===e?De.updateUrl(Object.assign(Object.assign({},De.urlParsed.value),{},{module:"MultiSites",action:"index",date:De.parsed.value.date,period:De.parsed.value.period})):De.updateUrl(Object.assign(Object.assign({},De.urlParsed.value),{},{segment:"",idSite:e}),Object.assign(Object.assign({},De.hashParsed.value),{},{segment:"",idSite:e}))}},{key:"searchSite",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return e?(this.currentRequestAbort&&this.currentRequestAbort.abort(),this.limitRequest||(this.limitRequest=Ze.fetch({method:"SitesManager.getNumWebsitesToDisplayPerPage"})),this.limitRequest.then((function(o){var a=o.value,i="SitesManager.getPatternMatchSites";return n&&(i="SitesManager.getSitesWithAdminAccess"),t.currentRequestAbort=new AbortController,Ze.fetch({method:i,limit:a,pattern:e,sitesToExclude:r},{abortController:t.currentRequestAbort,abortable:!1})})).then((function(e){return e?t.processWebsitesList(e):null})).finally((function(){t.currentRequestAbort=null}))):this.loadInitialSites(n,r)}},{key:"processWebsitesList",value:function(e){var t=e;return t&&t.length?(t=t.map((function(e){return Object.assign(Object.assign({},e),{},{name:e.group?"[".concat(e.group,"] ").concat(e.name):e.name})})),t.sort((function(e,t){return e.name.toLowerCase()<t.name.toLowerCase()?-1:e.name.toLowerCase()>t.name.toLowerCase()?1:0})),t):[]}}]),e}(),Ia=new Na,xa=["value","name"],Ba=["title"],Aa=["textContent"],Ma={key:1,class:"placeholder"},La={class:"dropdown"},Fa={class:"custom_select_search"},_a=["placeholder"],Ra={key:0},Ha={class:"custom_select_container"},Ua=["onClick"],$a=["innerHTML","href","title"],qa={class:"custom_select_ul_list"},Wa={class:"noresult"},za={key:1};function Ga(e,t,n,r,o,a){var i,l,c,s,u=Object(X["resolveComponent"])("AllSitesLink"),d=Object(X["resolveDirective"])("focus-if"),m=Object(X["resolveDirective"])("tooltips"),p=Object(X["resolveDirective"])("focus-anywhere-but-here");return Object(X["withDirectives"])((Object(X["openBlock"])(),Object(X["createElementBlock"])("div",{class:Object(X["normalizeClass"])(["siteSelector piwikSelector borderedControl",{expanded:e.showSitesList,disabled:!e.hasMultipleSites}])},[e.name?(Object(X["openBlock"])(),Object(X["createElementBlock"])("input",{key:0,type:"hidden",value:null===(i=e.displayedModelValue)||void 0===i?void 0:i.id,name:e.name},null,8,xa)):Object(X["createCommentVNode"])("",!0),Object(X["createElementVNode"])("a",{ref:"selectorLink",onClick:t[0]||(t[0]=function(){return e.onClickSelector&&e.onClickSelector.apply(e,arguments)}),onKeydown:t[1]||(t[1]=function(t){return e.onPressEnter(t)}),href:"javascript:void(0)",class:Object(X["normalizeClass"])([{loading:e.isLoading},"title"]),tabindex:"4",title:e.selectorLinkTitle},[Object(X["createElementVNode"])("span",{class:Object(X["normalizeClass"])(["icon icon-chevron-down",{iconHidden:e.isLoading,collapsed:!e.showSitesList}])},null,2),Object(X["createElementVNode"])("span",null,[null!==(l=e.displayedModelValue)&&void 0!==l&&l.name||!e.placeholder?(Object(X["openBlock"])(),Object(X["createElementBlock"])("span",{key:0,textContent:Object(X["toDisplayString"])((null===(c=e.displayedModelValue)||void 0===c?void 0:c.name)||e.firstSiteName)},null,8,Aa)):Object(X["createCommentVNode"])("",!0),null!==(s=e.displayedModelValue)&&void 0!==s&&s.name||!e.placeholder?Object(X["createCommentVNode"])("",!0):(Object(X["openBlock"])(),Object(X["createElementBlock"])("span",Ma,Object(X["toDisplayString"])(e.placeholder),1))])],42,Ba),Object(X["withDirectives"])(Object(X["createElementVNode"])("div",La,[Object(X["withDirectives"])(Object(X["createElementVNode"])("div",Fa,[Object(X["withDirectives"])(Object(X["createElementVNode"])("input",{type:"text",onClick:t[2]||(t[2]=function(t){e.searchTerm="",e.loadInitialSites()}),"onUpdate:modelValue":t[3]||(t[3]=function(t){return e.searchTerm=t}),tabindex:"4",class:"websiteSearch inp browser-default",placeholder:e.translate("General_Search")},null,8,_a),[[X["vModelText"],e.searchTerm],[d,{focused:e.shouldFocusOnSearch}]]),Object(X["withDirectives"])(Object(X["createElementVNode"])("img",{title:"Clear",onClick:t[4]||(t[4]=function(t){e.searchTerm="",e.loadInitialSites()}),class:"reset",src:"plugins/CoreHome/images/reset_search.png"},null,512),[[X["vShow"],e.searchTerm]])],512),[[X["vShow"],e.autocompleteMinSites<=e.sites.length||e.searchTerm]]),"top"===e.allSitesLocation&&e.showAllSitesItem?(Object(X["openBlock"])(),Object(X["createElementBlock"])("div",Ra,[Object(X["createVNode"])(u,{href:e.urlAllSites,"all-sites-text":e.allSitesText,onClick:t[5]||(t[5]=function(t){return e.onAllSitesClick(t)})},null,8,["href","all-sites-text"])])):Object(X["createCommentVNode"])("",!0),Object(X["withDirectives"])(Object(X["createElementVNode"])("div",Ha,[Object(X["createElementVNode"])("ul",{class:"custom_select_ul_list",onClick:t[7]||(t[7]=function(t){return e.showSitesList=!1})},[(Object(X["openBlock"])(!0),Object(X["createElementBlock"])(X["Fragment"],null,Object(X["renderList"])(e.sites,(function(n,r){return Object(X["withDirectives"])((Object(X["openBlock"])(),Object(X["createElementBlock"])("li",{onClick:function(t){return e.switchSite(Object.assign(Object.assign({},n),{},{id:n.idsite}),t)},key:r},[Object(X["createElementVNode"])("a",{onClick:t[6]||(t[6]=function(e){return e.preventDefault()}),innerHTML:e.$sanitize(e.getMatchedSiteName(n.name)),tabindex:"4",href:e.getUrlForSiteId(n.idsite),title:n.name},null,8,$a)],8,Ua)),[[X["vShow"],!(!e.showSelectedSite&&"".concat(e.activeSiteId)==="".concat(n.idsite))]])})),128))]),Object(X["withDirectives"])(Object(X["createElementVNode"])("ul",qa,[Object(X["createElementVNode"])("li",null,[Object(X["createElementVNode"])("div",Wa,Object(X["toDisplayString"])(e.translate("SitesManager_NotFound")+" "+e.searchTerm),1)])],512),[[X["vShow"],!e.sites.length&&e.searchTerm]])],512),[[m,{content:e.tooltipContent}]]),"bottom"===e.allSitesLocation&&e.showAllSitesItem?(Object(X["openBlock"])(),Object(X["createElementBlock"])("div",za,[Object(X["createVNode"])(u,{href:e.urlAllSites,"all-sites-text":e.allSitesText,onClick:t[8]||(t[8]=function(t){return e.onAllSitesClick(t)})},null,8,["href","all-sites-text"])])):Object(X["createCommentVNode"])("",!0)],512),[[X["vShow"],e.showSitesList]])],2)),[[p,{blur:e.onBlur}]])}var Ya=["innerHTML","href"];function Ja(e,t,n,r,o,a){var i=this;return Object(X["openBlock"])(),Object(X["createElementBlock"])("div",{onClick:t[1]||(t[1]=function(e){return i.onClick(e)}),class:"custom_select_all"},[Object(X["createElementVNode"])("a",{onClick:t[0]||(t[0]=function(e){return e.preventDefault()}),innerHTML:e.$sanitize(e.allSitesText),tabindex:"4",href:e.href},null,8,Ya)])}var Ka=Object(X["defineComponent"])({props:{href:String,allSitesText:String},emits:["click"],methods:{onClick:function(e){this.$emit("click",e)}}});Ka.render=Ja;var Qa=Ka,Xa=Object(X["defineComponent"])({props:{modelValue:Object,showSelectedSite:{type:Boolean,default:!1},showAllSitesItem:{type:Boolean,default:!0},switchSiteOnSelect:{type:Boolean,default:!0},onlySitesWithAdminAccess:{type:Boolean,default:!1},name:{type:String,default:""},allSitesText:{type:String,default:a("General_MultiSitesSummary")},allSitesLocation:{type:String,default:"bottom"},placeholder:String,defaultToFirstSite:Boolean,sitesToExclude:{type:Array,default:function(){return[]}}},emits:["update:modelValue","blur"],components:{AllSitesLink:Qa},directives:{FocusAnywhereButHere:gn,FocusIf:On,Tooltips:Cn},watch:{searchTerm:function(){this.onSearchTermChanged()}},data:function(){return{searchTerm:"",activeSiteId:"".concat(ue.idSite),showSitesList:!1,isLoading:!1,sites:[],autocompleteMinSites:parseInt(ue.config.autocomplete_min_sites,10)}},created:function(){this.searchSite=$t(this.searchSite),!this.modelValue&&ue.idSite&&this.$emit("update:modelValue",{id:ue.idSite,name:ue.helper.htmlDecode(ue.siteName)})},mounted:function(){var e=this;window.initTopControls(),this.loadInitialSites().then((function(){e.shouldDefaultToFirstSite&&e.$emit("update:modelValue",{id:e.sites[0].idsite,name:e.sites[0].name})}));var t=a("CoreHome_ShortcutWebsiteSelector");ue.helper.registerShortcut("w",t,(function(t){if(!t.altKey){t.preventDefault?t.preventDefault():t.returnValue=!1;var n=e.$refs.selectorLink;n&&(n.click(),n.focus())}}))},computed:{shouldFocusOnSearch:function(){return this.showSitesList&&this.autocompleteMinSites<=this.sites.length||this.searchTerm},selectorLinkTitle:function(){return this.hasMultipleSites&&this.displayedModelValue?a("CoreHome_ChangeCurrentWebsite",this.displayedModelValue.name):""},hasMultipleSites:function(){var e=Ia.initialSitesFiltered.value&&Ia.initialSitesFiltered.value.length?Ia.initialSitesFiltered.value:Ia.initialSites.value;return e&&e.length>1},firstSiteName:function(){var e=Ia.initialSitesFiltered.value&&Ia.initialSitesFiltered.value.length?Ia.initialSitesFiltered.value:Ia.initialSites.value;return e&&e.length>0?e[0].name:""},urlAllSites:function(){var e=De.stringify(Object.assign(Object.assign({},De.urlParsed.value),{},{module:"MultiSites",action:"index",date:De.parsed.value.date,period:De.parsed.value.period}));return"?".concat(e)},shouldDefaultToFirstSite:function(){var e;return!(null!==(e=this.modelValue)&&void 0!==e&&e.id)&&(!this.hasMultipleSites||this.defaultToFirstSite)&&this.sites[0]},displayedModelValue:function(){return this.modelValue?this.modelValue:ue.idSite?{id:ue.idSite,name:ue.helper.htmlDecode(ue.siteName)}:this.shouldDefaultToFirstSite?{id:this.sites[0].idsite,name:this.sites[0].name}:null},tooltipContent:function(){return function(){var e=$(this).attr("title")||"";return ue.helper.htmlEntities(e)}}},methods:{onSearchTermChanged:function(){this.searchTerm?(this.isLoading=!0,this.searchSite(this.searchTerm)):(this.isLoading=!1,this.loadInitialSites())},onAllSitesClick:function(e){this.switchSite({id:"all",name:this.$props.allSitesText},e),this.showSitesList=!1},switchSite:function(e,t){var n=-1!==navigator.userAgent.indexOf("Mac OS X")?t.metaKey:t.ctrlKey;t&&n&&t.target&&t.target.href?window.open(t.target.href,"_blank"):(this.$emit("update:modelValue",{id:e.id,name:e.name}),this.switchSiteOnSelect&&this.activeSiteId!==e.id&&Ia.loadSite(e.id))},onBlur:function(){this.showSitesList=!1,this.$emit("blur")},onClickSelector:function(){this.hasMultipleSites&&(this.showSitesList=!this.showSitesList,this.isLoading||this.searchTerm||this.loadInitialSites())},onPressEnter:function(e){"Enter"===e.key&&(e.preventDefault(),this.showSitesList=!this.showSitesList,this.showSitesList&&!this.isLoading&&this.loadInitialSites())},getMatchedSiteName:function(e){var t=e.toUpperCase().indexOf(this.searchTerm.toUpperCase());if(-1===t||this.isLoading)return this.htmlEntities(e);var n=this.htmlEntities(e.substring(0,t)),r=this.htmlEntities(e.substring(t+this.searchTerm.length));return"".concat(n,'<span class="autocompleteMatched">').concat(this.searchTerm,"</span>").concat(r)},loadInitialSites:function(){var e=this;return Ia.loadInitialSites(this.onlySitesWithAdminAccess,this.sitesToExclude?this.sitesToExclude:[]).then((function(t){e.sites=t||[]}))},searchSite:function(e){var t=this;this.isLoading=!0,Ia.searchSite(e,this.onlySitesWithAdminAccess,this.sitesToExclude?this.sitesToExclude:[]).then((function(n){e===t.searchTerm&&n&&(t.sites=n)})).finally((function(){t.isLoading=!1}))},getUrlForSiteId:function(e){var t=De.stringify(Object.assign(Object.assign({},De.urlParsed.value),{},{segment:"",idSite:e})),n=De.stringify(Object.assign(Object.assign({},De.hashParsed.value),{},{segment:"",idSite:e}));return"?".concat(t,"#?").concat(n)},htmlEntities:function(e){return ue.helper.htmlEntities(e)}}});Xa.render=Ga;var Za=Xa,ei={ref:"root",class:"quickAccessInside"},ti=["title","placeholder"],ni={class:"dropdown"},ri={class:"no-result"},oi=["onClick"],ai=["onMouseenter","onClick"],ii={class:"quickAccessMatomoSearch"},li=["onMouseenter","onClick"],ci=["textContent"],si={class:"quick-access-category helpCategory"},ui=["href"];function di(e,t,n,r,o,a){var i=Object(X["resolveDirective"])("focus-if"),l=Object(X["resolveDirective"])("focus-anywhere-but-here");return Object(X["withDirectives"])((Object(X["openBlock"])(),Object(X["createElementBlock"])("div",ei,[Object(X["createElementVNode"])("span",{class:"icon-search",onMouseenter:t[0]||(t[0]=function(t){return e.searchActive=!0})},null,32),Object(X["withDirectives"])(Object(X["createElementVNode"])("input",{class:"s",onKeydown:t[1]||(t[1]=function(t){return e.onKeypress(t)}),onFocus:t[2]||(t[2]=function(t){return e.searchActive=!0}),"onUpdate:modelValue":t[3]||(t[3]=function(t){return e.searchTerm=t}),type:"text",tabindex:"2",title:e.quickAccessTitle,placeholder:e.translate("General_Search"),ref:"input"},null,40,ti),[[X["vModelText"],e.searchTerm],[i,{focused:e.searchActive}]]),Object(X["withDirectives"])(Object(X["createElementVNode"])("div",ni,[Object(X["withDirectives"])(Object(X["createElementVNode"])("ul",null,[Object(X["createElementVNode"])("li",ri,Object(X["toDisplayString"])(e.translate("General_SearchNoResults")),1)],512),[[X["vShow"],!(e.numMenuItems>0||e.sites.length)]]),(Object(X["openBlock"])(!0),Object(X["createElementBlock"])(X["Fragment"],null,Object(X["renderList"])(e.menuItems,(function(t){return Object(X["openBlock"])(),Object(X["createElementBlock"])("ul",{key:t.title},[Object(X["createElementVNode"])("li",{class:"quick-access-category",onClick:function(n){e.searchTerm=t.title,e.searchMenu(e.searchTerm)}},Object(X["toDisplayString"])(t.title),9,oi),(Object(X["openBlock"])(!0),Object(X["createElementBlock"])(X["Fragment"],null,Object(X["renderList"])(t.items,(function(t){return Object(X["openBlock"])(),Object(X["createElementBlock"])("li",{class:Object(X["normalizeClass"])(["result",{selected:t.menuIndex===e.searchIndex}]),onMouseenter:function(n){return e.searchIndex=t.menuIndex},onClick:function(n){return e.selectMenuItem(t.index)},key:t.index},[Object(X["createElementVNode"])("a",null,Object(X["toDisplayString"])(t.name.trim()),1)],42,ai)})),128))])})),128)),Object(X["createElementVNode"])("ul",ii,[Object(X["withDirectives"])(Object(X["createElementVNode"])("li",{class:"quick-access-category websiteCategory"},Object(X["toDisplayString"])(e.translate("SitesManager_Sites")),513),[[X["vShow"],e.hasSitesSelector&&e.sites.length||e.isLoading]]),Object(X["withDirectives"])(Object(X["createElementVNode"])("li",{class:"no-result"},Object(X["toDisplayString"])(e.translate("MultiSites_LoadingWebsites")),513),[[X["vShow"],e.hasSitesSelector&&e.isLoading]]),(Object(X["openBlock"])(!0),Object(X["createElementBlock"])(X["Fragment"],null,Object(X["renderList"])(e.sites,(function(t,n){return Object(X["withDirectives"])((Object(X["openBlock"])(),Object(X["createElementBlock"])("li",{class:Object(X["normalizeClass"])(["result",{selected:e.numMenuItems+n===e.searchIndex}]),onMouseenter:function(t){return e.searchIndex=e.numMenuItems+n},onClick:function(n){return e.selectSite(t.idsite)},key:t.idsite},[Object(X["createElementVNode"])("a",{textContent:Object(X["toDisplayString"])(t.name)},null,8,ci)],42,li)),[[X["vShow"],e.hasSitesSelector&&!e.isLoading]])})),128))]),Object(X["createElementVNode"])("ul",null,[Object(X["createElementVNode"])("li",si,Object(X["toDisplayString"])(e.translate("General_HelpResources")),1),Object(X["createElementVNode"])("li",{class:Object(X["normalizeClass"])([{selected:"help"===e.searchIndex},"quick-access-help"]),onMouseenter:t[4]||(t[4]=function(t){return e.searchIndex="help"})},[Object(X["createElementVNode"])("a",{href:"https://matomo.org?mtm_campaign=App_Help&mtm_source=Matomo_App&mtm_keyword=QuickSearch&s=".concat(encodeURIComponent(e.searchTerm)),target:"_blank"},Object(X["toDisplayString"])(e.translate("CoreHome_SearchOnMatomo",e.searchTerm)),9,ui)],34)])],512),[[X["vShow"],e.searchTerm&&e.searchActive]])],512)),[[l,{blur:e.onBlur}]])}var mi=window,pi=mi.ListingFormatter;function fi(e){var t=e.getBoundingClientRect(),n=window.$(window);return t.top>=0&&t.left>=0&&t.bottom<=n.height()&&t.right<=n.width()}function hi(e){e&&e.scrollIntoView&&e.scrollIntoView()}var bi=Object(X["defineComponent"])({directives:{FocusAnywhereButHere:gn,FocusIf:On},watch:{searchActive:function(e){var t=this.$refs.root;if(t&&t.parentElement){var n=t.parentElement.classList;n.toggle("active",e),n.toggle("expanded",e)}}},mounted:function(){var e=this,t=this.$refs.root;t&&t.parentElement&&t.parentElement.classList.add("quick-access","piwikSelector"),"undefined"!==typeof window.initTopControls&&window.initTopControls&&window.initTopControls(),ue.helper.registerShortcut("f",a("CoreHome_ShortcutSearch"),(function(t){t.altKey||(t.preventDefault(),hi(e.$refs.root),e.activateSearch())}))},data:function(){var e=!!document.querySelector(".segmentEditorPanel");return{menuItems:[],numMenuItems:0,searchActive:!1,searchTerm:"",searchIndex:0,menuIndexCounter:-1,topMenuItems:null,leftMenuItems:null,segmentItems:null,hasSegmentSelector:e,sites:[],isLoading:!1}},created:function(){this.searchMenu=$t(this.searchMenu.bind(this))},computed:{hasSitesSelector:function(){return!!document.querySelector('.top_controls .siteSelector,.top_controls [vue-entry="CoreHome.SiteSelector"]')},quickAccessTitle:function(){var e=[a("CoreHome_MenuEntries")];return this.hasSegmentSelector&&e.push(a("CoreHome_Segments")),this.hasSitesSelector&&e.push(a("SitesManager_Sites")),a("CoreHome_QuickAccessTitle",pi.formatAnd(e))}},emits:["itemSelected","blur"],methods:{onKeypress:function(e){var t=this,n=this.searchTerm&&this.searchActive,r=9===e.which,o=27===e.which;38===e.which?(this.highlightPreviousItem(),e.preventDefault()):40===e.which?(this.highlightNextItem(),e.preventDefault()):13===e.which?this.clickQuickAccessMenuItem():r&&n||o&&n?this.deactivateSearch():setTimeout((function(){t.searchActive=!0,t.searchMenu(t.searchTerm)}))},highlightPreviousItem:function(){this.searchIndex-1<0?this.searchIndex=0:this.searchIndex-=1,this.makeSureSelectedItemIsInViewport()},highlightNextItem:function(){var e=this.$refs.root.querySelectorAll("li.result").length;e<=this.searchIndex+1?this.searchIndex=e-1:this.searchIndex+=1,this.makeSureSelectedItemIsInViewport()},clickQuickAccessMenuItem:function(){var e=this,t=this.getCurrentlySelectedElement();t&&setTimeout((function(){t.click(),e.$emit("itemSelected",t)}),20)},deactivateSearch:function(){this.searchTerm="",this.searchActive=!1,this.$refs.input&&this.$refs.input.blur()},makeSureSelectedItemIsInViewport:function(){var e=this.getCurrentlySelectedElement();e&&!fi(e)&&hi(e)},getCurrentlySelectedElement:function(){var e=this.$refs.root.querySelectorAll("li.result");if(e&&e.length&&e.item(this.searchIndex))return e.item(this.searchIndex)},searchMenu:function(e){var t=this,n=e.toLowerCase(),r=-1,o={},a=[],i=function(e){var t=Object.assign({},e);r+=1,t.menuIndex=r;var n=t.category;n in o||(a.push({title:n,items:[]}),o[n]=a.length-1);var i=o[n];a[i].items.push(t)};this.resetSearchIndex(),this.hasSitesSelector&&(this.isLoading=!0,Ia.searchSite(n).then((function(e){e&&(t.sites=e)})).finally((function(){t.isLoading=!1})));var l=function(e){return-1!==e.name.toLowerCase().indexOf(n)||-1!==e.category.toLowerCase().indexOf(n)};null===this.topMenuItems&&(this.topMenuItems=this.getTopMenuItems()),null===this.leftMenuItems&&(this.leftMenuItems=this.getLeftMenuItems()),null===this.segmentItems&&(this.segmentItems=this.getSegmentItems());var c=this.topMenuItems.filter(l),s=this.leftMenuItems.filter(l),u=this.segmentItems.filter(l);c.forEach(i),s.forEach(i),u.forEach(i),this.numMenuItems=c.length+s.length+u.length,this.menuItems=a},resetSearchIndex:function(){this.searchIndex=0,this.makeSureSelectedItemIsInViewport()},selectSite:function(e){Ia.loadSite(e)},selectMenuItem:function(e){var t=document.querySelector("[quick_access='".concat(e,"']"));if(t){this.deactivateSearch();var n=t.getAttribute("href");if(n&&n.length>10&&t&&t.click)try{t.click()}catch(r){window.$(t).click()}else window.$(t).click()}},onBlur:function(){this.searchActive=!1,this.$emit("blur")},activateSearch:function(){this.searchActive=!0},getTopMenuItems:function(){var e=this,t=a("CoreHome_Menu"),n=[];return document.querySelectorAll("nav .sidenav li > a, nav .sidenav li > div > a").forEach((function(r){var o,a,i=null===(o=r.textContent)||void 0===o?void 0:o.trim();(!i||null!=r.parentElement&&null!=r.parentElement.tagName&&"DIV"===r.parentElement.tagName)&&(i=null===(a=r.getAttribute("title"))||void 0===a?void 0:a.trim());i&&(n.push({name:i,index:e.menuIndexCounter+=1,category:t}),r.setAttribute("quick_access","".concat(e.menuIndexCounter)))})),n},getLeftMenuItems:function(){var e=this,t=[];return document.querySelectorAll("#secondNavBar .menuTab").forEach((function(n){var r,o=window.$(n).find("> .item"),a=(null===(r=o[0])||void 0===r?void 0:r.innerText.trim())||"";a&&-1!==a.lastIndexOf("\n")&&(a=a.slice(0,a.lastIndexOf("\n")).trim()),window.$(n).find("li .item").each((function(n,r){var o,i=null===(o=r.textContent)||void 0===o?void 0:o.trim();i&&(t.push({name:i,category:a,index:e.menuIndexCounter+=1}),r.setAttribute("quick_access","".concat(e.menuIndexCounter)))}))})),t},getSegmentItems:function(){var e=this;if(!this.hasSegmentSelector)return[];var t=a("CoreHome_Segments"),n=[];return document.querySelectorAll(".segmentList [data-idsegment]").forEach((function(r){var o,a,i=null===(o=r.querySelector(".segname"))||void 0===o||null===(a=o.textContent)||void 0===a?void 0:a.trim();i&&(n.push({name:i,category:t,index:e.menuIndexCounter+=1}),r.setAttribute("quick_access","".concat(e.menuIndexCounter)))})),n}}});bi.render=di;var vi=bi;function gi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var yi={class:"fieldArray form-group"},Oi={key:0,class:"fieldUiControl"},ji=["onClick","title"];function wi(e,t,n,r,o,a){var i=Object(X["resolveComponent"])("Field");return Object(X["openBlock"])(),Object(X["createElementBlock"])("div",yi,[(Object(X["openBlock"])(!0),Object(X["createElementBlock"])(X["Fragment"],null,Object(X["renderList"])(e.modelValue,(function(t,n){return Object(X["openBlock"])(),Object(X["createElementBlock"])("div",{class:Object(X["normalizeClass"])(["fieldArrayTable multiple valign-wrapper",gi({},"fieldArrayTable".concat(n),!0)]),key:n},[e.field.uiControl?(Object(X["openBlock"])(),Object(X["createElementBlock"])("div",Oi,[Object(X["createVNode"])(i,{"full-width":!0,"model-value":t,options:e.field.availableValues,"onUpdate:modelValue":function(t){return e.onEntryChange(t,n)},"model-modifiers":e.field.modelModifiers,placeholder:" ",uicontrol:e.field.uiControl,title:e.field.title,name:"".concat(e.name,"-").concat(n),"template-file":e.field.templateFile,component:e.field.component},null,8,["model-value","options","onUpdate:modelValue","model-modifiers","uicontrol","title","name","template-file","component"])])):Object(X["createCommentVNode"])("",!0),Object(X["withDirectives"])(Object(X["createElementVNode"])("span",{onClick:function(t){return e.removeEntry(n)},class:"icon-minus valign",title:e.translate("General_Remove")},null,8,ji),[[X["vShow"],n+1!==e.modelValue.length]])],2)})),128))])}function ki(e){return Di(e)||Ei(e)||Ci(e)||Si()}function Si(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Ci(e,t){if(e){if("string"===typeof e)return Pi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Pi(e,t):void 0}}function Ei(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function Di(e){if(Array.isArray(e))return Pi(e)}function Pi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ti=_t("CorePluginsAdmin","Field"),Vi=Object(X["defineComponent"])({props:{modelValue:Array,name:String,field:Object,rows:String},components:{Field:Ti},emits:["update:modelValue"],watch:{modelValue:function(e){this.checkEmptyModelValue(e)}},mounted:function(){this.checkEmptyModelValue(this.modelValue)},methods:{checkEmptyModelValue:function(e){e&&e.length&&""===e.slice(-1)[0]||this.rows&&!((this.modelValue||[]).length<parseInt(this.rows,10))||this.$emit("update:modelValue",[].concat(ki(e||[]),[""]))},onEntryChange:function(e,t){var n=ki(this.modelValue||[]);n[t]=e,this.$emit("update:modelValue",n)},removeEntry:function(e){if(e>-1&&this.modelValue){var t=this.modelValue.filter((function(t,n){return n!==e}));this.$emit("update:modelValue",t)}}}});Vi.render=wi;var Ni=Vi;function Ii(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var xi={class:"multiPairField form-group"},Bi={key:1,class:"fieldUiControl fieldUiControl2"},Ai={key:2,class:"fieldUiControl fieldUiControl3"},Mi={key:3,class:"fieldUiControl fieldUiControl4"},Li=["onClick","title"];function Fi(e,t,n,r,o,a){var i=Object(X["resolveComponent"])("Field");return Object(X["openBlock"])(),Object(X["createElementBlock"])("div",xi,[(Object(X["openBlock"])(!0),Object(X["createElementBlock"])(X["Fragment"],null,Object(X["renderList"])(e.modelValue,(function(t,n){var r;return Object(X["openBlock"])(),Object(X["createElementBlock"])("div",{class:Object(X["normalizeClass"])(["multiPairFieldTable multiple valign-wrapper",(r={},Ii(r,"multiPairFieldTable".concat(n),!0),Ii(r,"has".concat(e.fieldCount,"Fields"),!0),r)]),key:n},[e.field1?(Object(X["openBlock"])(),Object(X["createElementBlock"])("div",{key:0,class:Object(X["normalizeClass"])(["fieldUiControl fieldUiControl1",{hasMultiFields:e.field1.type&&e.field2.type}])},[Object(X["createVNode"])(i,{"full-width":!0,"model-value":t[e.field1.key],options:e.field1.availableValues,"onUpdate:modelValue":function(t){return e.onEntryChange(n,e.field1.key,t)},"model-modifiers":e.field1.modelModifiers,placeholder:" ",uicontrol:e.field1.uiControl,name:"".concat(e.name,"-p1-").concat(n),title:e.field1.title,"template-file":e.field1.templateFile,component:e.field1.component},null,8,["model-value","options","onUpdate:modelValue","model-modifiers","uicontrol","name","title","template-file","component"])],2)):Object(X["createCommentVNode"])("",!0),e.field2?(Object(X["openBlock"])(),Object(X["createElementBlock"])("div",Bi,[Object(X["createVNode"])(i,{"full-width":!0,options:e.field2.availableValues,"onUpdate:modelValue":function(t){return e.onEntryChange(n,e.field2.key,t)},"model-value":t[e.field2.key],"model-modifiers":e.field2.modelModifiers,placeholder:" ",uicontrol:e.field2.uiControl,name:"".concat(e.name,"-p2-").concat(n),title:e.field2.title,"template-file":e.field2.templateFile,component:e.field2.component},null,8,["options","onUpdate:modelValue","model-value","model-modifiers","uicontrol","name","title","template-file","component"])])):Object(X["createCommentVNode"])("",!0),e.field3?(Object(X["openBlock"])(),Object(X["createElementBlock"])("div",Ai,[Object(X["createVNode"])(i,{"full-width":!0,options:e.field3.availableValues,"onUpdate:modelValue":function(t){return e.onEntryChange(n,e.field3.key,t)},"model-value":t[e.field3.key],"model-modifiers":e.field3.modelModifiers,placeholder:" ",uicontrol:e.field3.uiControl,title:e.field3.title,"template-file":e.field3.templateFile,component:e.field3.component},null,8,["options","onUpdate:modelValue","model-value","model-modifiers","uicontrol","title","template-file","component"])])):Object(X["createCommentVNode"])("",!0),e.field4?(Object(X["openBlock"])(),Object(X["createElementBlock"])("div",Mi,[Object(X["createVNode"])(i,{"full-width":!0,options:e.field4.availableValues,"onUpdate:modelValue":function(t){return e.onEntryChange(n,e.field4.key,t)},"model-value":t[e.field4.key],"model-modifiers":e.field4.modelModifiers,placeholder:" ",uicontrol:e.field4.uiControl,title:e.field4.title,"template-file":e.field4.templateFile,component:e.field4.component},null,8,["options","onUpdate:modelValue","model-value","model-modifiers","uicontrol","title","template-file","component"])])):Object(X["createCommentVNode"])("",!0),Object(X["withDirectives"])(Object(X["createElementVNode"])("span",{onClick:function(t){return e.removeEntry(n)},class:"icon-minus valign",title:e.translate("General_Remove")},null,8,Li),[[X["vShow"],n+1!==e.modelValue.length]])],2)})),128))])}function _i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ri(e){return qi(e)||$i(e)||Ui(e)||Hi()}function Hi(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Ui(e,t){if(e){if("string"===typeof e)return Wi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Wi(e,t):void 0}}function $i(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function qi(e){if(Array.isArray(e))return Wi(e)}function Wi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var zi=_t("CorePluginsAdmin","Field"),Gi=Object(X["defineComponent"])({props:{modelValue:Array,name:String,field1:Object,field2:Object,field3:Object,field4:Object,rows:Number},components:{Field:zi},computed:{fieldCount:function(){return this.field1&&this.field2&&this.field3&&this.field4?4:this.field1&&this.field2&&this.field3?3:this.field1&&this.field2?2:this.field1?1:0}},emits:["update:modelValue"],watch:{modelValue:function(e){this.checkEmptyModelValue(e)}},mounted:function(){this.checkEmptyModelValue(this.modelValue)},methods:{checkEmptyModelValue:function(e){e&&e.length&&!this.isEmptyValue(e.slice(-1)[0])||this.rows&&!(this.modelValue.length<this.rows)||this.$emit("update:modelValue",[].concat(Ri(e||[]),[this.makeEmptyValue()]))},onEntryChange:function(e,t,n){var r=Ri(this.modelValue);r[e]=Object.assign(Object.assign({},r[e]),{},_i({},t,n)),this.$emit("update:modelValue",r)},removeEntry:function(e){if(e>-1&&this.modelValue){var t=this.modelValue.filter((function(t,n){return n!==e}));this.$emit("update:modelValue",t)}},isEmptyValue:function(e){var t=this.fieldCount;if(4===t){if(!e[this.field1.key]&&!e[this.field2.key]&&!e[this.field3.key]&&!e[this.field4.key])return!1}else if(3===t){if(!e[this.field1.key]&&!e[this.field2.key]&&!e[this.field3.key])return!1}else if(2===t){if(!e[this.field1.key]&&!e[this.field2.key])return!1}else if(1===t&&!e[this.field1.key])return!1;return!0},makeEmptyValue:function(){var e={};return this.field1&&this.field1.key&&(e[this.field1.key]=""),this.field2&&this.field2.key&&(e[this.field2.key]=""),this.field3&&this.field3.key&&(e[this.field3.key]=""),this.field4&&this.field4.key&&(e[this.field4.key]=""),e}}});Gi.render=Fi;var Yi=Gi,Ji=["disabled"],Ki=Object(X["createElementVNode"])("span",{class:"icon-chevron-left"},null,-1),Qi=[Ki],Xi=["title"],Zi=Object(X["createElementVNode"])("span",{class:"icon icon-calendar"},null,-1),el={id:"periodMore",class:"dropdown"},tl={class:"flex"},nl={key:0,class:"period-date"},rl={class:"period-type"},ol={id:"otherPeriods"},al=["onDblclick","title"],il=["id","checked","onChange","onDblclick"],ll={key:0,class:"compare-checkbox"},cl={id:"comparePeriodToDropdown"},sl={key:1,class:"compare-date-range"},ul={id:"comparePeriodStartDate"},dl=Object(X["createElementVNode"])("span",{class:"compare-dates-separator"},null,-1),ml={id:"comparePeriodEndDate"},pl={class:"apply-button-container"},fl=["disabled","value"],hl={key:2,id:"ajaxLoadingCalendar"},bl={class:"loadingSegment"},vl=["disabled"],gl=Object(X["createElementVNode"])("span",{class:"icon-chevron-right"},null,-1),yl=[gl];function Ol(e,t,n,r,o,a){var i=Object(X["resolveComponent"])("DateRangePicker"),l=Object(X["resolveComponent"])("PeriodDatePicker"),c=Object(X["resolveComponent"])("Field"),s=Object(X["resolveComponent"])("ActivityIndicator"),u=Object(X["resolveDirective"])("expand-on-click");return Object(X["withDirectives"])((Object(X["openBlock"])(),Object(X["createElementBlock"])("div",{ref:"root",class:Object(X["normalizeClass"])(["periodSelector piwikSelector",{"periodSelector-withPrevNext":e.canShowMovePeriod}])},[e.canShowMovePeriod?(Object(X["openBlock"])(),Object(X["createElementBlock"])("button",{key:0,class:"move-period move-period-prev",onClick:t[0]||(t[0]=function(t){return e.movePeriod(-1)}),disabled:e.isPeriodMoveDisabled(-1)},Qi,8,Ji)):Object(X["createCommentVNode"])("",!0),Object(X["createElementVNode"])("a",{ref:"title",id:"date",class:"title",tabindex:"-1",title:e.translate("General_ChooseDate",e.currentlyViewingText)},[Zi,Object(X["createTextVNode"])(" "+Object(X["toDisplayString"])(e.currentlyViewingText),1)],8,Xi),Object(X["createElementVNode"])("div",el,[Object(X["createElementVNode"])("div",tl,[Object(X["createElementVNode"])("div",null,[Object(X["withDirectives"])(Object(X["createVNode"])(i,{class:"period-range","start-date":e.startRangeDate,"end-date":e.endRangeDate,onRangeChange:t[1]||(t[1]=function(t){return e.onRangeChange(t.start,t.end)}),onSubmit:t[2]||(t[2]=function(t){return e.onApplyClicked()})},null,8,["start-date","end-date"]),[[X["vShow"],"range"===e.selectedPeriod]]),"range"!==e.selectedPeriod?(Object(X["openBlock"])(),Object(X["createElementBlock"])("div",nl,[Object(X["createVNode"])(l,{id:"datepicker",period:e.selectedPeriod,date:e.periodValue===e.selectedPeriod?e.dateValue:null,onSelect:t[3]||(t[3]=function(t){return e.setPiwikPeriodAndDate(e.selectedPeriod,t.date)})},null,8,["period","date"])])):Object(X["createCommentVNode"])("",!0)]),Object(X["createElementVNode"])("div",rl,[Object(X["createElementVNode"])("h6",null,Object(X["toDisplayString"])(e.translate("General_Period")),1),Object(X["createElementVNode"])("div",ol,[(Object(X["openBlock"])(!0),Object(X["createElementBlock"])(X["Fragment"],null,Object(X["renderList"])(e.periodsFiltered,(function(n){return Object(X["openBlock"])(),Object(X["createElementBlock"])("p",{key:n},[Object(X["createElementVNode"])("label",{class:Object(X["normalizeClass"])({"selected-period-label":n===e.selectedPeriod}),onDblclick:function(t){return e.changeViewedPeriod(n)},title:n===e.periodValue?"":e.translate("General_DoubleClickToChangePeriod")},[Object(X["withDirectives"])(Object(X["createElementVNode"])("input",{type:"radio",name:"period",id:"period_id_".concat(n),"onUpdate:modelValue":t[4]||(t[4]=function(t){return e.selectedPeriod=t}),checked:e.selectedPeriod===n,onChange:function(t){return e.selectedPeriod=n},onDblclick:function(t){return e.changeViewedPeriod(n)}},null,40,il),[[X["vModelRadio"],e.selectedPeriod]]),Object(X["createElementVNode"])("span",null,Object(X["toDisplayString"])(e.getPeriodDisplayText(n)),1)],42,al)])})),128))])])]),e.isComparisonEnabled?(Object(X["openBlock"])(),Object(X["createElementBlock"])("div",ll,[Object(X["createElementVNode"])("label",null,[Object(X["withDirectives"])(Object(X["createElementVNode"])("input",{id:"comparePeriodTo",type:"checkbox","onUpdate:modelValue":t[5]||(t[5]=function(t){return e.isComparing=t})},null,512),[[X["vModelCheckbox"],e.isComparing]]),Object(X["createElementVNode"])("span",null,Object(X["toDisplayString"])(e.translate("General_CompareTo")),1)]),Object(X["createElementVNode"])("div",cl,[Object(X["createVNode"])(c,{modelValue:e.comparePeriodType,"onUpdate:modelValue":t[6]||(t[6]=function(t){return e.comparePeriodType=t}),style:Object(X["normalizeStyle"])({visibility:e.isComparing?"visible":"hidden"}),name:"comparePeriodToDropdown",uicontrol:"select",options:e.comparePeriodDropdownOptions,"full-width":!0,disabled:!e.isComparing},null,8,["modelValue","style","options","disabled"])])])):Object(X["createCommentVNode"])("",!0),e.isComparing&&"custom"===e.comparePeriodType?(Object(X["openBlock"])(),Object(X["createElementBlock"])("div",sl,[Object(X["createElementVNode"])("div",null,[Object(X["createElementVNode"])("div",ul,[Object(X["createElementVNode"])("div",null,[Object(X["createVNode"])(c,{modelValue:e.compareStartDate,"onUpdate:modelValue":t[7]||(t[7]=function(t){return e.compareStartDate=t}),name:"comparePeriodStartDate",uicontrol:"text","full-width":!0,title:e.translate("CoreHome_StartDate"),placeholder:"YYYY-MM-DD"},null,8,["modelValue","title"])])]),dl,Object(X["createElementVNode"])("div",ml,[Object(X["createElementVNode"])("div",null,[Object(X["createVNode"])(c,{modelValue:e.compareEndDate,"onUpdate:modelValue":t[8]||(t[8]=function(t){return e.compareEndDate=t}),name:"comparePeriodEndDate",uicontrol:"text","full-width":!0,title:e.translate("CoreHome_EndDate"),placeholder:"YYYY-MM-DD"},null,8,["modelValue","title"])])])])])):Object(X["createCommentVNode"])("",!0),Object(X["createElementVNode"])("div",pl,[Object(X["createElementVNode"])("input",{type:"submit",id:"calendarApply",class:"btn",onClick:t[9]||(t[9]=function(t){return e.onApplyClicked()}),disabled:!e.isApplyEnabled(),value:e.translate("General_Apply")},null,8,fl)]),e.isLoadingNewPage?(Object(X["openBlock"])(),Object(X["createElementBlock"])("div",hl,[Object(X["createVNode"])(s,{loading:!0}),Object(X["createElementVNode"])("div",bl,Object(X["toDisplayString"])(e.translate("SegmentEditor_LoadingSegmentedDataMayTakeSomeTime")),1)])):Object(X["createCommentVNode"])("",!0)]),e.canShowMovePeriod?(Object(X["openBlock"])(),Object(X["createElementBlock"])("button",{key:1,class:"move-period move-period-next",onClick:t[10]||(t[10]=function(t){return e.movePeriod(1)}),disabled:e.isPeriodMoveDisabled(1)},yl,8,vl)):Object(X["createCommentVNode"])("",!0)],2)),[[u,{expander:"title"}]])}function jl(e,t){return El(e)||Cl(e,t)||kl(e,t)||wl()}function wl(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function kl(e,t){if(e){if("string"===typeof e)return Sl(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Sl(e,t):void 0}}function Sl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Cl(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0)if(a.push(r.value),t&&a.length===t)break}catch(c){l=!0,o=c}finally{try{i||null==n["return"]||n["return"]()}finally{if(l)throw o}}return a}}function El(e){if(Array.isArray(e))return e}var Dl=_t("CorePluginsAdmin","Field"),Pl=ue.helper.htmlDecode("&nbsp;"),Tl=["custom","previousPeriod","previousYear"],Vl=[{key:"custom",value:a("General_Custom")},{key:"previousPeriod",value:a("General_PreviousPeriod").replace(/\s+/,Pl)},{key:"previousYear",value:a("General_PreviousYear").replace(/\s+/,Pl)}],Nl=new Date(ue.minDateYear,ue.minDateMonth-1,ue.minDateDay),Il=new Date(ue.maxDateYear,ue.maxDateMonth-1,ue.maxDateDay);function xl(e){return"[object Date]"===Object.prototype.toString.call(e)&&!Number.isNaN(e.getTime())}var Bl=Object(X["defineComponent"])({props:{periods:Array},components:{DateRangePicker:qo,PeriodDatePicker:Jo,Field:Dl,ActivityIndicator:ln},directives:{ExpandOnClick:Fn},data:function(){var e=De.parsed.value.period;return{comparePeriodDropdownOptions:Vl,periodValue:e,dateValue:null,selectedPeriod:e,startRangeDate:null,endRangeDate:null,isRangeValid:null,isLoadingNewPage:!1,isComparing:null,comparePeriodType:"previousPeriod",compareStartDate:"",compareEndDate:""}},mounted:function(){var e=this;ue.on("hidePeriodSelector",(function(){window.$(e.$refs.root).parent("#periodString").hide()})),ue.on("matomoPageChange",(function(){window.$(e.$refs.root).parent("#periodString").show()})),this.isComparing=fo.isComparingPeriods(),Object(X["watch"])((function(){return fo.isComparingPeriods()}),(function(t){e.isComparing=t})),this.updateSelectedValuesFromHash(),Object(X["watch"])((function(){return De.parsed.value}),this.updateSelectedValuesFromHash),this.updateComparisonValuesFromStore(),Object(X["watch"])((function(){return fo.getPeriodComparisons()}),this.updateComparisonValuesFromStore),window.initTopControls(),this.handleZIndexPositionRelativeCompareDropdownIssue()},computed:{currentlyViewingText:function(){var e;if("range"===this.periodValue){if(!this.startRangeDate||!this.endRangeDate)return a("General_Error");e="".concat(this.startRangeDate,",").concat(this.endRangeDate)}else{if(!this.dateValue)return a("General_Error");e=p(this.dateValue)}try{return m.parse(this.periodValue,e).getPrettyString()}catch(t){return a("General_Error")}},isComparisonEnabled:function(){return fo.isComparisonEnabled()},periodsFiltered:function(){return(this.periods||[]).filter((function(e){return m.isRecognizedPeriod(e)}))},selectedComparisonParams:function(){if(!this.isComparing)return{};if("custom"===this.comparePeriodType)return{comparePeriods:["range"],comparePeriodType:"custom",compareDates:["".concat(this.compareStartDate,",").concat(this.compareEndDate)]};if("previousPeriod"===this.comparePeriodType)return{comparePeriods:[this.selectedPeriod],comparePeriodType:"previousPeriod",compareDates:[this.previousPeriodDateToSelectedPeriod]};if("previousYear"===this.comparePeriodType){var e="range"===this.selectedPeriod?"".concat(this.startRangeDate,",").concat(this.endRangeDate):p(this.dateValue),t=m.parse(this.selectedPeriod,e).getDateRange();return t[0].setFullYear(t[0].getFullYear()-1),t[1].setFullYear(t[1].getFullYear()-1),"range"===this.selectedPeriod?{comparePeriods:["range"],comparePeriodType:"previousYear",compareDates:["".concat(p(t[0]),",").concat(p(t[1]))]}:{comparePeriods:[this.selectedPeriod],comparePeriodType:"previousYear",compareDates:[p(t[0])]}}return console.warn("Unknown compare period type: ".concat(this.comparePeriodType)),{}},previousPeriodDateToSelectedPeriod:function(){if("range"===this.selectedPeriod){var e=h(this.startRangeDate),t=h(this.endRangeDate),n=K.getLastNRange("day",2,e).startDate,r=Math.floor((t.valueOf()-e.valueOf())/864e5),o=K.getLastNRange("day",1+r,n);return"".concat(p(o.startDate),",").concat(p(o.endDate))}var a=K.getLastNRange(this.selectedPeriod,2,this.dateValue).startDate;return p(a)},selectedDateString:function(){if("range"===this.selectedPeriod){var e=this.startRangeDate,t=this.endRangeDate,n=h(e),r=h(t);return!xl(n)||!xl(r)||n>r?(window.$("#alert").find("h2").text(a("General_InvalidDateRange")),ue.helper.modalConfirm("#alert",{}),null):"".concat(e,",").concat(t)}return p(this.dateValue)},isErrorDisplayed:function(){return this.currentlyViewingText===a("General_Error")},isRangeSelection:function(){return"range"===this.periodValue},canShowMovePeriod:function(){return!this.isRangeSelection&&!this.isErrorDisplayed}},methods:{handleZIndexPositionRelativeCompareDropdownIssue:function(){var e=window.$(this.$refs.root);e.on("focus","#comparePeriodToDropdown .select-dropdown",(function(){e.addClass("compare-dropdown-open")})).on("blur","#comparePeriodToDropdown .select-dropdown",(function(){e.removeClass("compare-dropdown-open")}))},changeViewedPeriod:function(e){e!==this.periodValue&&"range"!==e&&this.setPiwikPeriodAndDate(e,this.dateValue)},setPiwikPeriodAndDate:function(e,t){this.periodValue=e,this.selectedPeriod=e,this.dateValue=t;var n=p(t);this.setRangeStartEndFromPeriod(e,n),this.propagateNewUrlParams(n,this.selectedPeriod),window.initTopControls()},propagateNewUrlParams:function(e,t){var n,r=this.selectedComparisonParams;ue.helper.isReportingPage()?(this.closePeriodSelector(),n=De.hashParsed.value):(this.isLoadingNewPage=!0,n=De.parsed.value);var o=Object.assign({},n);delete o.comparePeriods,delete o.comparePeriodType,delete o.compareDates,De.updateLocation(Object.assign(Object.assign({},o),{},{date:e,period:t},r))},onApplyClicked:function(){if("range"===this.selectedPeriod){var e=this.selectedDateString;if(!e)return;return this.periodValue="range",void this.propagateNewUrlParams(e,"range")}this.setPiwikPeriodAndDate(this.selectedPeriod,this.dateValue)},updateComparisonValuesFromStore:function(){this.comparePeriodType="previousPeriod",this.compareStartDate="",this.compareEndDate="";var e=fo.getPeriodComparisons();if(!(e.length<2)){var t=De.parsed.value.comparePeriodType;if(Tl.includes(t)&&(this.comparePeriodType=t,"custom"===this.comparePeriodType&&"range"===e[1].params.period)){var n;try{n=m.parse(e[1].params.period,e[1].params.date)}catch(l){return}var r=n.getDateRange(),o=jl(r,2),a=o[0],i=o[1];this.compareStartDate=p(a),this.compareEndDate=p(i)}}},updateSelectedValuesFromHash:function(){var e=De.parsed.value.date,t=De.parsed.value.period;this.periodValue=t,this.selectedPeriod=t,this.dateValue=null,this.startRangeDate=null,this.endRangeDate=null;try{m.parse(t,e)}catch(l){return}if("range"===t){var n=m.get(t).parse(e),r=n.getDateRange(),o=jl(r,2),a=o[0],i=o[1];this.dateValue=a,this.startRangeDate=p(a),this.endRangeDate=p(i)}else this.dateValue=h(e),this.setRangeStartEndFromPeriod(t,e)},setRangeStartEndFromPeriod:function(e,t){var n=m.parse(e,t).getDateRange();this.startRangeDate=p(n[0]<Nl?Nl:n[0]),this.endRangeDate=p(n[1]>Il?Il:n[1])},getPeriodDisplayText:function(e){return m.get(e).getDisplayText()},onRangeChange:function(e,t){e&&t?(this.isRangeValid=!0,this.startRangeDate=e,this.endRangeDate=t):this.isRangeValid=!1},isApplyEnabled:function(){return!("range"===this.selectedPeriod&&!this.isRangeValid)&&!(this.isComparing&&"custom"===this.comparePeriodType&&!this.isCompareRangeValid())},closePeriodSelector:function(){this.$refs.root.classList.remove("expanded")},isCompareRangeValid:function(){try{h(this.compareStartDate)}catch(e){return!1}try{h(this.compareEndDate)}catch(e){return!1}return!0},movePeriod:function(e){if(this.canMovePeriod(e)){var t=new Date;switch(null!=this.dateValue&&(t=this.dateValue),this.periodValue){case"day":t.setDate(t.getDate()+e);break;case"week":t.setDate(t.getDate()+7*e);break;case"month":t.setMonth(t.getMonth()+e);break;case"year":t.setFullYear(t.getFullYear()+e);break;default:break}this.dateValue<Nl&&(this.dateValue=Nl),this.dateValue>Il&&(this.dateValue=Il),this.onApplyClicked()}},isPeriodMoveDisabled:function(e){return null===this.dateValue?this.isRangeSelection:this.isRangeSelection||!this.canMovePeriod(e)},canMovePeriod:function(e){if(null===this.dateValue)return!1;var t=-1===e?Nl:Il;return!g(this.dateValue,t,this.periodValue)}}});Bl.render=Ol;var Al=Bl,Ml={class:"reportingMenu"},Ll=["aria-label"],Fl=["data-category-id"],_l=["onClick"],Rl={class:"hidden"},Hl={key:2,role:"menu"},Ul=["href","onClick","title"],$l=["href","onClick"],ql=["onClick"],Wl=Object(X["createElementVNode"])("span",{class:"icon-help"},null,-1),zl=[Wl],Gl={id:"mobile-left-menu",class:"sidenav sidenav--reporting-menu-mobile hide-on-large-only"},Yl=["data-category-id"],Jl={key:1,class:"collapsible collapsible-accordion"},Kl={class:"collapsible-header"},Ql={class:"collapsible-body"},Xl=["onClick","href"],Zl=["onClick","href"];function ec(e,t,n,r,o,a){var i=Object(X["resolveComponent"])("MenuItemsDropdown"),l=Object(X["resolveDirective"])("side-nav");return Object(X["openBlock"])(),Object(X["createElementBlock"])("div",Ml,[Object(X["createElementVNode"])("ul",{class:"navbar hide-on-med-and-down collapsible",role:"menu","aria-label":e.translate("CoreHome_MainNavigation")},[(Object(X["openBlock"])(!0),Object(X["createElementBlock"])(X["Fragment"],null,Object(X["renderList"])(e.menu,(function(t){return Object(X["openBlock"])(),Object(X["createElementBlock"])("li",{class:Object(X["normalizeClass"])(["menuTab",{active:t.id===e.activeCategory}]),role:"menuitem",key:t.id,"data-category-id":t.id},[t.component?(Object(X["openBlock"])(),Object(X["createBlock"])(Object(X["resolveDynamicComponent"])(t.component),{key:0,onAction:function(n){return e.loadCategory(t)}},null,8,["onAction"])):Object(X["createCommentVNode"])("",!0),t.component?Object(X["createCommentVNode"])("",!0):(Object(X["openBlock"])(),Object(X["createElementBlock"])("a",{key:1,class:"item",tabindex:"5",href:"",onClick:Object(X["withModifiers"])((function(n){return e.loadCategory(t)}),["prevent"])},[Object(X["createElementVNode"])("span",{class:Object(X["normalizeClass"])("menu-icon ".concat(t.icon?t.icon:t.subcategories&&t.id===e.activeCategory?"icon-chevron-down":"icon-chevron-right"))},null,2),Object(X["createTextVNode"])(Object(X["toDisplayString"])(t.name)+" ",1),Object(X["createElementVNode"])("span",Rl,Object(X["toDisplayString"])(e.translate("CoreHome_Menu")),1)],8,_l)),t.component?Object(X["createCommentVNode"])("",!0):(Object(X["openBlock"])(),Object(X["createElementBlock"])("ul",Hl,[(Object(X["openBlock"])(!0),Object(X["createElementBlock"])(X["Fragment"],null,Object(X["renderList"])(t.subcategories,(function(n){return Object(X["openBlock"])(),Object(X["createElementBlock"])("li",{role:"menuitem",class:Object(X["normalizeClass"])({active:(n.id===e.displayedSubcategory||n.isGroup&&e.activeSubsubcategory===e.displayedSubcategory)&&t.id===e.displayedCategory}),key:n.id},[n.isGroup?(Object(X["openBlock"])(),Object(X["createBlock"])(i,{key:0,"show-search":!0,"menu-title":e.htmlEntities(n.name)},{default:Object(X["withCtx"])((function(){return[(Object(X["openBlock"])(!0),Object(X["createElementBlock"])(X["Fragment"],null,Object(X["renderList"])(n.subcategories,(function(r){return Object(X["openBlock"])(),Object(X["createElementBlock"])("a",{class:Object(X["normalizeClass"])(["item",{active:r.id===e.activeSubsubcategory&&n.id===e.displayedSubcategory&&t.id===e.displayedCategory}]),tabindex:"5",href:"#?".concat(e.makeUrl(t,r)),onClick:function(n){return e.loadSubcategory(t,r,n)},title:r.tooltip,key:r.id},Object(X["toDisplayString"])(r.name),11,Ul)})),128))]})),_:2},1032,["menu-title"])):Object(X["createCommentVNode"])("",!0),n.isGroup?Object(X["createCommentVNode"])("",!0):(Object(X["openBlock"])(),Object(X["createElementBlock"])("a",{key:1,href:"#?".concat(e.makeUrl(t,n)),class:"item",onClick:function(r){return e.loadSubcategory(t,n,r)}},Object(X["toDisplayString"])(n.name),9,$l)),n.help?(Object(X["openBlock"])(),Object(X["createElementBlock"])("a",{key:2,class:Object(X["normalizeClass"])(["item-help-icon",{active:e.helpShownCategory&&e.helpShownCategory.subcategory===n.id&&e.helpShownCategory.category===t.id&&n.help}]),tabindex:"5",href:"javascript:",onClick:function(r){return e.showHelp(t,n,r)}},zl,10,ql)):Object(X["createCommentVNode"])("",!0)],2)})),128))]))],10,Fl)})),128))],8,Ll),Object(X["createElementVNode"])("ul",Gl,[(Object(X["openBlock"])(!0),Object(X["createElementBlock"])(X["Fragment"],null,Object(X["renderList"])(e.menu,(function(t){return Object(X["openBlock"])(),Object(X["createElementBlock"])("li",{class:"no-padding",key:t.id,"data-category-id":t.id},[t.component?(Object(X["openBlock"])(),Object(X["createBlock"])(Object(X["resolveDynamicComponent"])(t.component),{key:0,onAction:function(n){return e.loadCategory(t)}},null,8,["onAction"])):Object(X["createCommentVNode"])("",!0),t.component?Object(X["createCommentVNode"])("",!0):Object(X["withDirectives"])((Object(X["openBlock"])(),Object(X["createElementBlock"])("ul",Jl,[Object(X["createElementVNode"])("li",null,[Object(X["createElementVNode"])("a",Kl,[Object(X["createElementVNode"])("i",{class:Object(X["normalizeClass"])(t.icon?t.icon:"icon-chevron-down")},null,2),Object(X["createTextVNode"])(Object(X["toDisplayString"])(t.name),1)]),Object(X["createElementVNode"])("div",Ql,[Object(X["createElementVNode"])("ul",null,[(Object(X["openBlock"])(!0),Object(X["createElementBlock"])(X["Fragment"],null,Object(X["renderList"])(t.subcategories,(function(n){return Object(X["openBlock"])(),Object(X["createElementBlock"])("li",{key:n.id},[n.isGroup?(Object(X["openBlock"])(!0),Object(X["createElementBlock"])(X["Fragment"],{key:0},Object(X["renderList"])(n.subcategories,(function(n){return Object(X["openBlock"])(),Object(X["createElementBlock"])("a",{onClick:function(r){return e.loadSubcategory(t,n)},href:"#?".concat(e.makeUrl(t,n)),key:n.id},Object(X["toDisplayString"])(n.name),9,Xl)})),128)):Object(X["createCommentVNode"])("",!0),n.isGroup?Object(X["createCommentVNode"])("",!0):(Object(X["openBlock"])(),Object(X["createElementBlock"])("a",{key:1,onClick:function(r){return e.loadSubcategory(t,n)},href:"#?".concat(e.makeUrl(t,n))},Object(X["toDisplayString"])(n.name),9,Zl))])})),128))])])])],512)),[[l,{activator:e.sideNavActivator}]])],8,Yl)})),128))])])}function tc(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function rc(e,t,n){return t&&nc(e.prototype,t),n&&nc(e,n),e}function oc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}
/*!
 * Matomo - free/libre analytics platform
 *
 * @link    https://matomo.org
 * @license https://www.gnu.org/licenses/gpl-3.0.html GPL v3 or later
 */var ac=function(){function e(){var t=this;tc(this,e),oc(this,"privateState",Object(X["reactive"])({pages:[]})),oc(this,"state",Object(X["computed"])((function(){return Object(X["readonly"])(t.privateState)}))),oc(this,"fetchAllPagesPromise",void 0),oc(this,"pages",Object(X["computed"])((function(){return t.state.value.pages})))}return rc(e,[{key:"findPageInCategory",value:function(e){return this.pages.value.find((function(t){return t&&t.category&&t.category.id===e&&t.subcategory&&t.subcategory.id}))}},{key:"findPage",value:function(e,t){return this.pages.value.find((function(n){return n&&n.category&&n.subcategory&&n.category.id===e&&"".concat(n.subcategory.id)===t}))}},{key:"reloadAllPages",value:function(){return delete this.fetchAllPagesPromise,this.getAllPages()}},{key:"getAllPages",value:function(){var e=this;return this.fetchAllPagesPromise||(this.fetchAllPagesPromise=Ze.fetch({method:"API.getReportPagesMetadata",filter_limit:"-1"}).then((function(t){return e.privateState.pages=t,e.pages.value}))),this.fetchAllPagesPromise.then((function(){return e.pages.value}))}}]),e}(),ic=new ac;function lc(e){return dc(e)||uc(e)||sc(e)||cc()}function cc(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function sc(e,t){if(e){if("string"===typeof e)return mc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?mc(e,t):void 0}}function uc(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function dc(e){if(Array.isArray(e))return mc(e)}function mc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}
/*!
 * Matomo - free/libre analytics platform
 *
 * @link    https://matomo.org
 * @license https://www.gnu.org/licenses/gpl-3.0.html GPL v3 or later
 */function pc(e){var t=lc(e||[]);return t.sort((function(e,t){return e.order<t.order?-1:e.order>t.order?1:0})),t}
/*!
 * Matomo - free/libre analytics platform
 *
 * @link    https://matomo.org
 * @license https://www.gnu.org/licenses/gpl-3.0.html GPL v3 or later
 */function fc(e){var t=e;return t.subcategories?t.subcategories:[]}
/*!
 * Matomo - free/libre analytics platform
 *
 * @link    https://matomo.org
 * @license https://www.gnu.org/licenses/gpl-3.0.html GPL v3 or later
 */function hc(e){var t=e;return t.subcategories?t.subcategories:[]}function bc(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function gc(e,t,n){return t&&vc(e.prototype,t),n&&vc(e,n),e}function yc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}
/*!
 * Matomo - free/libre analytics platform
 *
 * @link    https://matomo.org
 * @license https://www.gnu.org/licenses/gpl-3.0.html GPL v3 or later
 */function Oc(e){var t=parseFloat(e);return!Number.isNaN(t)&&Number.isFinite(t)}var jc=function(){function e(){var t=this;bc(this,e),yc(this,"privateState",Object(X["reactive"])({activeSubcategoryId:null,activeSubsubcategoryId:null})),yc(this,"state",Object(X["computed"])((function(){return Object(X["readonly"])(t.privateState)}))),yc(this,"activeCategory",Object(X["computed"])((function(){return"undefined"!==typeof t.state.value.activeCategoryId?t.state.value.activeCategoryId:De.parsed.value.category}))),yc(this,"activeSubcategory",Object(X["computed"])((function(){return t.state.value.activeSubcategoryId||De.parsed.value.subcategory}))),yc(this,"activeSubsubcategory",Object(X["computed"])((function(){var e=t.state.value.activeSubsubcategoryId;if(e)return e;var n=t.findSubcategory(t.activeCategory.value,t.activeSubcategory.value);return n.subsubcategory&&n.subsubcategory.id===t.activeSubcategory.value?n.subsubcategory.id:null}))),yc(this,"menu",Object(X["computed"])((function(){return t.buildMenuFromPages()})))}return gc(e,[{key:"fetchMenuItems",value:function(){var e=this;return ic.getAllPages().then((function(){return e.menu.value}))}},{key:"reloadMenuItems",value:function(){var e=this;return ic.reloadAllPages().then((function(){return e.menu.value}))}},{key:"findSubcategory",value:function(e,t){var n=void 0,r=void 0,o=void 0;return this.menu.value.forEach((function(a){a.id===e&&(fc(a)||[]).forEach((function(e){e.id===t&&(n=a,r=e),e.isGroup&&(hc(e)||[]).forEach((function(i){i.id===t&&(n=a,r=e,o=i)}))}))})),{category:n,subcategory:r,subsubcategory:o}}},{key:"buildMenuFromPages",value:function(){var e=[],t=De.parsed.value.category,n=De.parsed.value.subcategory,r=ic.pages.value,o={};return r.forEach((function(i){var l=Object.assign({},i.category),c=l.id,s=c===t;if(!o[c]){o[c]=!0,l.subcategories=[];var u=null,d=r.filter((function(e){return e.category.id===c}));d.forEach((function(e){var t=Object.assign({},e.subcategory),r=t.id===n&&s;if(e.widgets&&e.widgets[0]&&Oc(e.subcategory.id)){u||(u=Object.assign({},t),u.name=a("CoreHome_ChooseX",[l.name]),u.isGroup=!0,u.subcategories=[],u.order=10),r&&(u.name=t.name);var o=t.id;return t.tooltip="".concat(t.name," (id = ").concat(o,")"),void u.subcategories.push(t)}l.subcategories.push(t)})),u&&u.subcategories&&u.subcategories.length<=5?u.subcategories.forEach((function(e){return l.subcategories.push(e)})):u&&l.subcategories.push(u),l.subcategories=pc(fc(l)),e.push(l)}})),pc(e)}},{key:"toggleCategory",value:function(e){return this.privateState.activeSubcategoryId=null,this.privateState.activeSubsubcategoryId=null,this.activeCategory.value===e.id?(this.privateState.activeCategoryId=null,!1):(this.privateState.activeCategoryId=e.id,!0)}},{key:"enterSubcategory",value:function(e,t,n){e&&t&&(this.privateState.activeCategoryId=e.id,this.privateState.activeSubcategoryId=t.id,n&&(this.privateState.activeSubsubcategoryId=n.id))}}]),e}(),wc=new jc;function kc(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Sc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Cc(e,t,n){return t&&Sc(e.prototype,t),n&&Sc(e,n),e}function Ec(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}
/*!
 * Matomo - free/libre analytics platform
 *
 * @link    https://matomo.org
 * @license https://www.gnu.org/licenses/gpl-3.0.html GPL v3 or later
 */function Dc(e){var t=e;return t.widgets?t.widgets:[]}var Pc=function(){function e(){var t=this;kc(this,e),Ec(this,"privateState",Object(X["reactive"])({isFetchedFirstTime:!1,categorizedWidgets:{}})),Ec(this,"state",Object(X["computed"])((function(){return t.privateState.isFetchedFirstTime||t.fetchAvailableWidgets(),Object(X["readonly"])(t.privateState)}))),Ec(this,"widgets",Object(X["computed"])((function(){return t.state.value.categorizedWidgets})))}return Cc(e,[{key:"fetchAvailableWidgets",value:function(){var e=this;return De.parsed.value.idSite?(this.privateState.isFetchedFirstTime=!0,new Promise((function(t,n){try{window.widgetsHelper.getAvailableWidgets((function(n){var r=n;e.privateState.categorizedWidgets=r,t(e.widgets.value)}))}catch(r){n(r)}}))):Promise.resolve(this.widgets.value)}},{key:"reloadAvailableWidgets",value:function(){window.widgetsHelper.clearAvailableWidgets();var e=this.fetchAvailableWidgets();return e.then((function(){ue.postEvent("WidgetsStore.reloaded")})),e}}]),e}(),Tc=new Pc;function Vc(e,t){return Ac(e)||Bc(e,t)||Ic(e,t)||Nc()}function Nc(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Ic(e,t){if(e){if("string"===typeof e)return xc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?xc(e,t):void 0}}function xc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Bc(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0)if(a.push(r.value),t&&a.length===t)break}catch(c){l=!0,o=c}finally{try{i||null==n["return"]||n["return"]()}finally{if(l)throw o}}return a}}function Ac(e){if(Array.isArray(e))return e}var Mc="reportingmenu-help",Lc=Object(X["defineComponent"])({components:{MenuItemsDropdown:Vo},directives:{SideNav:ir},props:{},data:function(){return{showSubcategoryHelpOnLoad:null,initialLoad:!0,helpShownCategory:null}},computed:{sideNavActivator:function(){return document.querySelector("nav .activateLeftMenu")},menu:function(){var e=wc.menu.value;return e.forEach((function(e){if(e.widget&&e.widget.indexOf(".")>0){var t=e.widget.split("."),n=Vc(t,2),r=n[0],o=n[1];e.component=_t(r,o)}})),e},activeCategory:function(){return wc.activeCategory.value},activeSubcategory:function(){return wc.activeSubcategory.value},activeSubsubcategory:function(){return wc.activeSubsubcategory.value},displayedCategory:function(){return De.parsed.value.category},displayedSubcategory:function(){return De.parsed.value.subcategory}},created:function(){var e=this;wc.fetchMenuItems().then((function(t){if(!De.parsed.value.subcategory){var n=t[0],r=n.subcategories[0];wc.enterSubcategory(n,r),e.propagateUrlChange(n,r)}})),Object(X["watch"])((function(){return De.parsed.value}),(function(e){var t=wc.findSubcategory(e.category,e.subcategory);wc.enterSubcategory(t.category,t.subcategory,t.subsubcategory)})),ue.on("matomoPageChange",(function(){e.initialLoad||window.globalAjaxQueue.abort(),e.helpShownCategory=null,e.showSubcategoryHelpOnLoad&&(e.showHelp(e.showSubcategoryHelpOnLoad.category,e.showSubcategoryHelpOnLoad.subcategory),e.showSubcategoryHelpOnLoad=null),window.$("#loadingError,#loadingRateLimitError").hide(),e.initialLoad=!1})),ue.on("updateReportingMenu",(function(){wc.reloadMenuItems().then((function(){var e=De.parsed.value.category,t=De.parsed.value.subcategory;if(e&&t){var n=wc.findSubcategory(e,t);n.category&&wc.enterSubcategory(n.category,n.subcategory,n.subsubcategory)}})),Tc.reloadAvailableWidgets()}))},methods:{propagateUrlChange:function(e,t){var n=De.parsed.value;n.category===e.id&&n.subcategory===t.id?this.loadSubcategory(e,t):De.updateHash(Object.assign(Object.assign({},De.hashParsed.value),{},{category:e.id,subcategory:t.id}))},loadCategory:function(e){ga.remove(Mc);var t=wc.toggleCategory(e),n=e.subcategories,r=n&&1===n.length||e.widget&&n&&n.length;if(t&&r){this.helpShownCategory=null;var o=e.subcategories[0];this.propagateUrlChange(e,o)}},loadSubcategory:function(e,t,n){n&&(n.shiftKey||n.ctrlKey||n.metaKey)||(ga.remove(Mc),t&&t.id===De.parsed.value.subcategory&&e.id===De.parsed.value.category&&(this.helpShownCategory=null,setTimeout((function(){ue.postEvent("loadPage",e.id,t.id)}))))},makeUrl:function(e,t){var n=De.parsed.value,r=n.idSite,o=n.period,a=n.date,i=n.segment,l=n.comparePeriods,c=n.compareDates,s=n.compareSegments;return De.stringify({idSite:r,period:o,date:a,segment:i,comparePeriods:l,compareDates:c,compareSegments:s,category:e.id,subcategory:t.id})},htmlEntities:function(e){return ue.helper.htmlEntities(e)},showHelp:function(e,t,n){var r=De.parsed.value,o=r.category,i=r.subcategory;if((o!==e.id||i!==t.id)&&n)return this.showSubcategoryHelpOnLoad={category:e,subcategory:t},void De.updateHash(Object.assign(Object.assign({},De.hashParsed.value),{},{category:e.id,subcategory:t.id}));if(this.helpShownCategory&&e.id===this.helpShownCategory.category&&t.id===this.helpShownCategory.subcategory)return ga.remove(Mc),void(this.helpShownCategory=null);var l=a("CoreHome_ReportingCategoryHelpPrefix",e.name,t.name),c="<strong>".concat(l,"</strong><br/>");ga.show({context:"info",id:Mc,type:"help",noclear:!0,class:"help-notification",message:c+t.help,placeat:"#notificationContainer",prepend:!0}),this.helpShownCategory={category:e.id,subcategory:t.id}}}});Lc.render=ec;var Fc=Lc;function _c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Rc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Hc(e,t,n){return t&&Rc(e.prototype,t),n&&Rc(e,n),e}function Uc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}
/*!
 * Matomo - free/libre analytics platform
 *
 * @link    https://matomo.org
 * @license https://www.gnu.org/licenses/gpl-3.0.html GPL v3 or later
 */var $c=function(){function e(){var t=this;_c(this,e),Uc(this,"privateState",Object(X["reactive"])({reports:[]})),Uc(this,"state",Object(X["readonly"])(this.privateState)),Uc(this,"reports",Object(X["computed"])((function(){return t.state.reports}))),Uc(this,"reportsPromise",void 0)}return Hc(e,[{key:"findReport",value:function(e,t){return this.reports.value.find((function(n){return n.module===e&&n.action===t}))}},{key:"fetchReportMetadata",value:function(){var e=this;return this.reportsPromise||(this.reportsPromise=Ze.fetch({method:"API.getReportMetadata",filter_limit:"-1",idSite:ue.idSite||De.parsed.value.idSite}).then((function(t){return e.privateState.reports=t,t}))),this.reportsPromise.then((function(){return e.reports.value}))}}]),e}(),qc=new $c,Wc={class:"widgetLoader"},zc={key:0},Gc={key:1,class:"notification system notification-error"},Yc=["href"],Jc={key:2,class:"notification system notification-error"},Kc={class:"theWidgetContent",ref:"widgetContent"};function Qc(e,t,n,r,o,a){var i=Object(X["resolveComponent"])("ActivityIndicator");return Object(X["openBlock"])(),Object(X["createElementBlock"])("div",Wc,[Object(X["createVNode"])(i,{"loading-message":e.finalLoadingMessage,loading:e.loading},null,8,["loading-message","loading"]),Object(X["withDirectives"])(Object(X["createElementVNode"])("div",null,[e.widgetName?(Object(X["openBlock"])(),Object(X["createElementBlock"])("h2",zc,Object(X["toDisplayString"])(e.widgetName),1)):Object(X["createCommentVNode"])("",!0),e.loadingFailedRateLimit?(Object(X["openBlock"])(),Object(X["createElementBlock"])("div",Jc,Object(X["toDisplayString"])(e.translate("General_ErrorRateLimit")),1)):(Object(X["openBlock"])(),Object(X["createElementBlock"])("div",Gc,[Object(X["createTextVNode"])(Object(X["toDisplayString"])(e.translate("General_ErrorRequest","",""))+" ",1),e.hasErrorFaqLink?(Object(X["openBlock"])(),Object(X["createElementBlock"])("a",{key:0,rel:"noreferrer noopener",target:"_blank",href:e.externalRawLink("https://matomo.org/faq/troubleshooting/faq_19489/")},Object(X["toDisplayString"])(e.translate("General_ErrorRequestFaqLink")),9,Yc)):Object(X["createCommentVNode"])("",!0)]))],512),[[X["vShow"],e.loadingFailed]]),Object(X["createElementVNode"])("div",Kc,null,512)])}var Xc=Object(X["defineComponent"])({props:{widgetParams:Object,widgetName:String,loadingMessage:String},components:{ActivityIndicator:ln},data:function(){return{loading:!1,loadingFailed:!1,loadingFailedRateLimit:!1,changeCounter:0,lastWidgetAbortController:null}},watch:{widgetParams:function(e){e&&this.loadWidgetUrl(e,this.changeCounter+=1)}},computed:{finalLoadingMessage:function(){return this.loadingMessage?this.loadingMessage:this.widgetName?a("General_LoadingPopover",this.widgetName):a("General_LoadingData")},hasErrorFaqLink:function(){var e=ue.config.enable_general_settings_admin,t=ue.config.enable_plugins_admin;return ue.hasSuperUserAccess&&(e||t)}},mounted:function(){this.widgetParams&&this.loadWidgetUrl(this.widgetParams,this.changeCounter+=1)},beforeUnmount:function(){this.cleanupLastWidgetContent()},methods:{abortHttpRequestIfNeeded:function(){this.lastWidgetAbortController&&(this.lastWidgetAbortController.abort(),this.lastWidgetAbortController=null)},cleanupLastWidgetContent:function(){var e=this.$refs.widgetContent;ue.helper.destroyVueComponent(e),e&&(e.innerHTML="")},getWidgetUrl:function(e){var t=De.parsed.value,n=Object.assign({},e||{}),r=Object.keys(Object.assign(Object.assign({},De.hashParsed.value),{},{idSite:"",period:"",date:"",segment:"",widget:""}));return r.forEach((function(e){"category"!==e&&"subcategory"!==e&&(e in n||(n[e]=t[e]))})),fo.isComparisonEnabled()&&(n=Object.assign(Object.assign({},n),{},{comparePeriods:t.comparePeriods,compareDates:t.compareDates,compareSegments:t.compareSegments})),e&&"showtitle"in e||(n.showtitle="1"),ue.shouldPropagateTokenAuth&&t.token_auth&&(ue.broadcast.isWidgetizeRequestWithoutSession()||(n.force_api_session="1"),n.token_auth=t.token_auth),n.random=Math.floor(1e4*Math.random()),n},loadWidgetUrl:function(e,t){var n=this;this.loading=!0,this.abortHttpRequestIfNeeded(),this.cleanupLastWidgetContent(),this.lastWidgetAbortController=new AbortController,Ze.fetch(this.getWidgetUrl(e),{format:"html",abortController:this.lastWidgetAbortController}).then((function(r){if(t===n.changeCounter&&"string"===typeof r){n.lastWidgetAbortController=null,n.loading=!1,n.loadingFailed=!1;var o=n.$refs.widgetContent;window.$(o).html(r);var a=window.$(o).children();if(n.widgetName){var i=a.find("> .card-content .card-title");i.length||(i=a.find("> h2")),i.length&&i.html(ue.helper.htmlEntities(n.widgetName))}ue.helper.compileVueEntryComponents(a),ga.parseNotificationDivs(),setTimeout((function(){ue.postEvent("widget:loaded",{parameters:e,element:a})}))}})).catch((function(e){t===n.changeCounter&&(n.lastWidgetAbortController=null,n.cleanupLastWidgetContent(),n.loading=!1,"abort"!==e.xhrStatus&&(429===e.status&&(n.loadingFailedRateLimit=!0),n.loadingFailed=!0))}))}}});Xc.render=Qc;var Zc=Xc,es={class:"widget-container"};function ts(e,t,n,r,o,a){var i=Object(X["resolveComponent"])("Widget");return Object(X["openBlock"])(),Object(X["createElementBlock"])("div",es,[(Object(X["openBlock"])(!0),Object(X["createElementBlock"])(X["Fragment"],null,Object(X["renderList"])(e.actualContainer,(function(e,t){return Object(X["openBlock"])(),Object(X["createElementBlock"])("div",{key:t},[Object(X["createElementVNode"])("div",null,[Object(X["createVNode"])(i,{widget:e,"prevent-recursion":!0},null,8,["widget"])])])})),128))])}function ns(e){return as(e)||os(e)||cs(e)||rs()}function rs(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function os(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function as(e){if(Array.isArray(e))return ss(e)}function is(e,t){return ds(e)||us(e,t)||cs(e,t)||ls()}function ls(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function cs(e,t){if(e){if("string"===typeof e)return ss(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ss(e,t):void 0}}function ss(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function us(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0)if(a.push(r.value),t&&a.length===t)break}catch(c){l=!0,o=c}finally{try{i||null==n["return"]||n["return"]()}finally{if(l)throw o}}return a}}function ds(e){if(Array.isArray(e))return e}var ms=_t("CoreHome","Widget"),ps=Object(X["defineComponent"])({props:{container:{type:Array,required:!0}},components:{Widget:ms},computed:{actualContainer:function(){var e,t,n,r=this.container;if(null===r||void 0===r||null===(e=r[0])||void 0===e||!e.parameters)return r;var o=is(r,1),a=o[0],i="1"===(null===(t=a.parameters)||void 0===t?void 0:t.widget)||1===(null===(n=a.parameters)||void 0===n?void 0:n.widget),l=i&&"graphEvolution"===a.viewDataTable,c=l?Object.assign(Object.assign({},a),{},{parameters:Object.assign(Object.assign({},a.parameters),{},{showtitle:"0"})}):a;return[c].concat(ns(r.slice(1)))}}});ps.render=ts;var fs=ps,hs={class:"reportsByDimensionView"},bs={class:"entityList"},vs={class:"listCircle"},gs=["onClick"],ys={class:"dimension"},Os={class:"reportContainer"},js=Object(X["createElementVNode"])("div",{class:"clear"},null,-1);function ws(e,t,n,r,o,a){var i=Object(X["resolveComponent"])("WidgetLoader");return Object(X["openBlock"])(),Object(X["createElementBlock"])("div",hs,[Object(X["createElementVNode"])("div",bs,[(Object(X["openBlock"])(!0),Object(X["createElementBlock"])(X["Fragment"],null,Object(X["renderList"])(e.widgetsByCategory,(function(t){return Object(X["openBlock"])(),Object(X["createElementBlock"])("div",{class:"dimensionCategory",key:t.name},[Object(X["createTextVNode"])(Object(X["toDisplayString"])(t.name)+" ",1),Object(X["createElementVNode"])("ul",vs,[(Object(X["openBlock"])(!0),Object(X["createElementBlock"])(X["Fragment"],null,Object(X["renderList"])(t.widgets,(function(t){return Object(X["openBlock"])(),Object(X["createElementBlock"])("li",{class:Object(X["normalizeClass"])(["reportDimension",{activeDimension:e.selectedWidget.uniqueId===t.uniqueId}]),key:t.uniqueId,onClick:function(n){return e.selectWidget(t)}},[Object(X["createElementVNode"])("span",ys,Object(X["toDisplayString"])(t.name),1)],10,gs)})),128))])])})),128))]),Object(X["createElementVNode"])("div",Os,[e.selectedWidget.parameters?(Object(X["openBlock"])(),Object(X["createBlock"])(i,{key:0,"widget-params":e.selectedWidget.parameters,class:"dimensionReport"},null,8,["widget-params"])):Object(X["createCommentVNode"])("",!0)]),js])}function ks(e,t){return Ps(e)||Ds(e,t)||Cs(e,t)||Ss()}function Ss(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Cs(e,t){if(e){if("string"===typeof e)return Es(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Es(e,t):void 0}}function Es(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ds(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0)if(a.push(r.value),t&&a.length===t)break}catch(c){l=!0,o=c}finally{try{i||null==n["return"]||n["return"]()}finally{if(l)throw o}}return a}}function Ps(e){if(Array.isArray(e))return e}var Ts=Object(X["defineComponent"])({props:{widgets:Array},components:{WidgetLoader:Zc},data:function(){return{selectedWidget:null}},created:function(){var e=ks(this.widgetsSorted,1);this.selectedWidget=e[0]},computed:{widgetsSorted:function(){return pc(this.widgets)},widgetsByCategory:function(){var e={};return this.widgetsSorted.forEach((function(t){var n,r=null===(n=t.subcategory)||void 0===n?void 0:n.name;r&&(e[r]||(e[r]={name:r,order:t.order,widgets:[]}),e[r].widgets.push(t))})),pc(Object.values(e))}},methods:{selectWidget:function(e){this.selectedWidget=Object.assign({},e)}}});Ts.render=ws;var Vs=Ts,Ns=["id"],Is={key:1},xs={key:2};function Bs(e,t,n,r,o,a){var i=Object(X["resolveComponent"])("WidgetLoader"),l=Object(X["resolveComponent"])("WidgetContainer"),c=Object(X["resolveComponent"])("WidgetByDimensionContainer"),s=Object(X["resolveDirective"])("tooltips");return e.actualWidget&&e.showWidget?Object(X["withDirectives"])((Object(X["openBlock"])(),Object(X["createElementBlock"])("div",{key:0,class:Object(X["normalizeClass"])(["matomo-widget",{isFirstWidgetInPage:e.actualWidget.isFirstInPage}]),id:e.actualWidget.uniqueId},[!e.actualWidget.isContainer&&e.actualWidget.parameters?(Object(X["openBlock"])(),Object(X["createBlock"])(i,{key:0,"widget-params":e.actualWidget.parameters,"widget-name":e.actualWidget.name},null,8,["widget-params","widget-name"])):Object(X["createCommentVNode"])("",!0),e.actualWidget.isContainer&&"ByDimension"!==e.actualWidget.layout&&!this.preventRecursion?(Object(X["openBlock"])(),Object(X["createElementBlock"])("div",Is,[Object(X["createElementVNode"])("div",null,[Object(X["createVNode"])(l,{container:e.actualWidget.widgets},null,8,["container"])])])):Object(X["createCommentVNode"])("",!0),e.actualWidget.isContainer&&"ByDimension"===e.actualWidget.layout?(Object(X["openBlock"])(),Object(X["createElementBlock"])("div",xs,[Object(X["createElementVNode"])("div",null,[Object(X["createVNode"])(c,{widgets:e.actualWidget.widgets},null,8,["widgets"])])])):Object(X["createCommentVNode"])("",!0)],10,Ns)),[[s,{content:e.tooltipContent}]]):Object(X["createCommentVNode"])("",!0)}function As(e,t){var n=void 0;return Object.values(e||{}).some((function(e){return n=e.find((function(e){var n;return e&&e.isContainer&&(null===(n=e.parameters)||void 0===n?void 0:n.containerId)===t})),n})),n}var Ms=Object(X["defineComponent"])({props:{widget:Object,widgetized:Boolean,containerid:String,preventRecursion:Boolean},components:{WidgetLoader:Zc,WidgetContainer:fs,WidgetByDimensionContainer:Vs},directives:{Tooltips:Cn},data:function(){return{showWidget:!1}},setup:function(){function e(){var e=window.$(this);if(e.hasClass("matomo-form-field"))return"";var t=window.$(this).attr("title")||"";return window.vueSanitize(t.replace(/\n/g,"<br />"))}return{tooltipContent:e}},created:function(){var e=this,t=this.actualWidget;if(t&&t.middlewareParameters){var n=t.middlewareParameters;Ze.fetch(n).then((function(t){e.showWidget=!!t}))}else this.showWidget=!0},computed:{allWidgets:function(){return Tc.widgets.value},actualWidget:function(){var e=this,t=this.widget;if(t){var n=Object.assign({},t);if(t&&t.isReport&&!t.documentation){var r=qc.findReport(t.module,t.action);r&&r.documentation&&(n.documentation=r.documentation)}return t}if(this.containerid){var o=As(this.allWidgets,this.containerid);if(o){var a=Object.assign({},o);if(this.widgetized){a.isFirstInPage=!0,a.parameters=Object.assign(Object.assign({},a.parameters),{},{widget:"1"});var i=Dc(a);i&&(a.widgets=i.map((function(t){return Object.assign(Object.assign({},t),{},{parameters:Object.assign(Object.assign({},t.parameters),{},{widget:"1",containerId:e.containerid})})})))}return a}}return null}}});Ms.render=Bs;var Ls=Ms,Fs={class:"reporting-page"},_s={key:1,class:"col s12 l6 leftWidgetColumn"},Rs={key:2,class:"col s12 l6 rightWidgetColumn"};function Hs(e,t,n,r,o,a){var i=Object(X["resolveComponent"])("ActivityIndicator"),l=Object(X["resolveComponent"])("Widget");return Object(X["openBlock"])(),Object(X["createElementBlock"])("div",Fs,[Object(X["createVNode"])(i,{loading:e.loading},null,8,["loading"]),Object(X["withDirectives"])(Object(X["createElementVNode"])("div",null,Object(X["toDisplayString"])(e.translate("CoreHome_NoSuchPage")),513),[[X["vShow"],e.hasNoPage]]),(Object(X["openBlock"])(!0),Object(X["createElementBlock"])(X["Fragment"],null,Object(X["renderList"])(e.widgets,(function(e){return Object(X["openBlock"])(),Object(X["createElementBlock"])("div",{class:"row",key:e.uniqueId},[e.group?Object(X["createCommentVNode"])("",!0):(Object(X["openBlock"])(),Object(X["createBlock"])(l,{key:0,class:"col s12 fullWidgetColumn",widget:e},null,8,["widget"])),e.group?(Object(X["openBlock"])(),Object(X["createElementBlock"])("div",_s,[(Object(X["openBlock"])(!0),Object(X["createElementBlock"])(X["Fragment"],null,Object(X["renderList"])(e.left,(function(e){return Object(X["openBlock"])(),Object(X["createBlock"])(l,{widget:e,key:e.uniqueId},null,8,["widget"])})),128))])):Object(X["createCommentVNode"])("",!0),e.group?(Object(X["openBlock"])(),Object(X["createElementBlock"])("div",Rs,[(Object(X["openBlock"])(!0),Object(X["createElementBlock"])(X["Fragment"],null,Object(X["renderList"])(e.right,(function(e){return Object(X["openBlock"])(),Object(X["createBlock"])(l,{widget:e,key:e.uniqueId},null,8,["widget"])})),128))])):Object(X["createCommentVNode"])("",!0)])})),128))])}function Us(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function qs(e,t,n){return t&&$s(e.prototype,t),n&&$s(e,n),e}function Ws(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zs(e){return Ks(e)||Js(e)||Ys(e)||Gs()}function Gs(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Ys(e,t){if(e){if("string"===typeof e)return Qs(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Qs(e,t):void 0}}function Js(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function Ks(e){if(Array.isArray(e))return Qs(e)}function Qs(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}
/*!
 * Matomo - free/libre analytics platform
 *
 * @link    https://matomo.org
 * @license https://www.gnu.org/licenses/gpl-3.0.html GPL v3 or later
 */function Xs(e){return!!(e.isContainer&&e.layout&&"ByDimension"===e.layout||"bydimension"===e.viewDataTable)||(!!e.isWide||e.viewDataTable&&("tableAllColumns"===e.viewDataTable||"sparklines"===e.viewDataTable||"graphEvolution"===e.viewDataTable))}function Zs(e){if(e&&e[0]){var t=zs(e),n=e[0];return n.group?t[0]=Object.assign(Object.assign({},t[0]),{},{left:Zs(n.left||[]),right:Zs(n.right||[])}):t[0]=Object.assign(Object.assign({},t[0]),{},{isFirstInPage:!0}),t}return e}var eu=function(){function e(){var t=this;Us(this,e),Ws(this,"privateState",Object(X["reactive"])({})),Ws(this,"state",Object(X["computed"])((function(){return Object(X["readonly"])(t.privateState)}))),Ws(this,"page",Object(X["computed"])((function(){return t.state.value.page}))),Ws(this,"widgets",Object(X["computed"])((function(){var e=t.page.value;if(!e)return[];var n=[],r={},o=function(e){return e.isReport&&r["".concat(e.module,".").concat(e.action)]},a=function(e){if(!e.isReport)return[];var t=qc.findReport(e.module,e.action);return t&&t.relatedReports?t.relatedReports:[]};if((e.widgets||[]).forEach((function(e){o(e)||(a(e).forEach((function(e){r["".concat(e.module,".").concat(e.action)]=!0})),n.push(e))})),n=pc(n),1===n.length)return Zs(n);for(var i=[],l=0;l<n.length;l+=1){var c=n[l];if(Xs(c)||n[l+1]&&Xs(n[l+1]))i.push(Object.assign(Object.assign({},c),{},{widgets:pc(Dc(c))}));else{var s=0,u=[c],d=[];while(n[l+1]&&!Xs(n[l+1]))l+=1,s+=1,s%2===0?u.push(n[l]):d.push(n[l]);i.push({group:!0,left:u,right:d})}}var m=Zs(i);return m})))}return qs(e,[{key:"fetchPage",value:function(e,t){var n=this;return this.resetPage(),Promise.all([ic.getAllPages(),qc.fetchReportMetadata()]).then((function(){return n.privateState.page=ic.findPage(e,t),n.page.value}))}},{key:"resetPage",value:function(){this.privateState.page=void 0}}]),e}(),tu=new eu;function nu(){var e="category=General_Visitors&subcategory=Live_VisitorLog",t=window.broadcast.buildReportingUrl(e),n=a("CoreHome_PeriodHasOnlyRawData",'<a href="'.concat(t,'">'),"</a>");ue.visitorLogEnabled||(n=a("CoreHome_PeriodHasOnlyRawDataNoVisitsLog")),ga.show({id:"onlyRawData",animate:!1,context:"info",message:n,type:"transient"})}function ru(){ga.remove("onlyRawData")}var ou=Object(X["defineComponent"])({components:{ActivityIndicator:ln,Widget:Ls},data:function(){return{loading:!1,hasRawData:!1,hasNoVisits:!1,dateLastChecked:null,hasNoPage:!1}},created:function(){var e=this;tu.resetPage(),this.loading=!0,this.renderInitialPage(),Object(X["watch"])((function(){return De.parsed.value}),(function(t,n){t.category===n.category&&t.subcategory===n.subcategory&&t.period===n.period&&t.date===n.date&&t.segment===n.segment&&JSON.stringify(t.compareDates)===JSON.stringify(n.compareDates)&&JSON.stringify(t.comparePeriods)===JSON.stringify(n.comparePeriods)&&JSON.stringify(t.compareSegments)===JSON.stringify(n.compareSegments)&&JSON.stringify(t.columns||"")===JSON.stringify(n.columns||"")||(t.date===n.date&&t.period===n.period||(ru(),e.dateLastChecked=null,e.hasRawData=!1,e.hasNoVisits=!1),e.renderPage(t.category,t.subcategory,t.period,t.date,t.segment))})),ue.on("loadPage",(function(t,n){var r=De.parsed.value;e.renderPage(t,n,r.period,r.date,r.segment)}))},computed:{widgets:function(){return tu.widgets.value}},methods:{renderPage:function(e,t,n,r,o){var i=this;if(!e||!t)return tu.resetPage(),void(this.loading=!1);try{m.parse(n,r)}catch(c){return ga.show({id:"invalidDate",animate:!1,context:"error",message:a("CoreHome_DateInvalid"),type:"transient"}),tu.resetPage(),void(this.loading=!1)}ga.remove("invalidDate"),ue.postEvent("matomoPageChange",{}),ga.clearTransientNotifications(),m.parse(n,r).containsToday()&&this.showOnlyRawDataMessageIfRequired(e,t,n,r,o);var l={category:e,subcategory:t};if(ue.postEvent("ReportingPage.loadPage",l),l.promise)return this.loading=!0,void Promise.resolve(l.promise).finally((function(){i.loading=!1}));tu.fetchPage(e,t).then((function(){var t=!tu.page.value;if(t){var n=ic.findPageInCategory(e);if(n&&n.subcategory)return void De.updateHash(Object.assign(Object.assign({},De.hashParsed.value),{},{subcategory:n.subcategory.id}))}i.hasNoPage=t,i.loading=!1}))},renderInitialPage:function(){var e=De.parsed.value;this.renderPage(e.category,e.subcategory,e.period,e.date,e.segment)},showOnlyRawDataMessageIfRequired:function(e,t,n,r,o){var a=this;if(this.hasRawData&&this.hasNoVisits&&nu(),o)ru();else{var i=["Live_VisitorLog","General_RealTime","UserCountryMap_RealTimeMap","MediaAnalytics_TypeAudienceLog","MediaAnalytics_TypeRealTime","FormAnalytics_TypeRealTime","Goals_AddNewGoal"],l=["HeatmapSessionRecording_Heatmaps","HeatmapSessionRecording_SessionRecordings","Marketplace_Marketplace"];if(-1===i.indexOf(t)&&-1===l.indexOf(e)&&-1===t.toLowerCase().indexOf("manage")){var c=6e4;this.dateLastChecked&&(new Date).valueOf()-this.dateLastChecked.valueOf()<c||Ze.fetch({method:"VisitsSummary.getVisits",date:r,period:n,segment:o}).then((function(e){return a.dateLastChecked=new Date,e.value>0?(a.hasNoVisits=!1,void ru()):(a.hasNoVisits=!0,a.hasRawData?void nu():Ze.fetch({method:"Live.getMostRecentVisitsDateTime",date:r,period:n}).then((function(e){if(!e||""===e.value)return a.hasRawData=!1,void ru();a.hasRawData=!0,nu()})))}))}else ru()}}}});ou.render=Hs;var au=ou,iu={class:"report-export-popover row",id:"reportExport"},lu={class:"col l6"},cu={name:"format"},su={name:"option_flat"},uu={name:"option_expanded"},du={name:"option_format_metrics"},mu={class:"col l6"},pu={name:"filter_type"},fu={class:"filter_limit"},hu={name:"filter_limit_all"},bu={key:0,name:"filter_limit"},vu={key:1,name:"filter_limit"},gu={class:"col l12"},yu=["value"],Ou=Object(X["createTextVNode"])("\n      "),ju=[Ou],wu=["innerHTML"],ku={class:"col l12"},Su=["href","title"],Cu=["innerHTML"];function Eu(e,t,n,r,o,a){var i=Object(X["resolveComponent"])("Field"),l=Object(X["resolveDirective"])("select-on-focus");return Object(X["openBlock"])(),Object(X["createElementBlock"])("div",iu,[Object(X["createElementVNode"])("div",lu,[Object(X["createElementVNode"])("div",cu,[Object(X["createVNode"])(i,{uicontrol:"radio",name:"format",title:e.translate("CoreHome_ExportFormat"),modelValue:e.reportFormat,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.reportFormat=t}),"full-width":!0,options:e.availableReportFormats[e.reportType]},null,8,["title","modelValue","options"])]),Object(X["createElementVNode"])("div",null,[Object(X["createElementVNode"])("div",su,[Object(X["withDirectives"])(Object(X["createVNode"])(i,{uicontrol:"checkbox",name:"option_flat",title:e.translate("CoreHome_FlattenReport"),modelValue:e.optionFlat,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.optionFlat=t})},null,8,["title","modelValue"]),[[X["vShow"],e.hasSubtables]])])]),Object(X["createElementVNode"])("div",null,[Object(X["createElementVNode"])("div",uu,[Object(X["withDirectives"])(Object(X["createVNode"])(i,{uicontrol:"checkbox",name:"option_expanded",title:e.translate("CoreHome_ExpandSubtables"),modelValue:e.optionExpanded,"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.optionExpanded=t})},null,8,["title","modelValue"]),[[X["vShow"],e.hasSubtables&&!e.optionFlat]])])]),Object(X["createElementVNode"])("div",null,[Object(X["createElementVNode"])("div",du,[Object(X["createVNode"])(i,{uicontrol:"checkbox",name:"option_format_metrics",title:e.translate("CoreHome_FormatMetrics"),modelValue:e.optionFormatMetrics,"onUpdate:modelValue":t[3]||(t[3]=function(t){return e.optionFormatMetrics=t})},null,8,["title","modelValue"])])])]),Object(X["createElementVNode"])("div",mu,[Object(X["createElementVNode"])("div",null,[Object(X["createElementVNode"])("div",pu,[Object(X["createVNode"])(i,{uicontrol:"radio",name:"filter_type",title:e.translate("CoreHome_ReportType"),modelValue:e.reportType,"onUpdate:modelValue":t[4]||(t[4]=function(t){return e.reportType=t}),"full-width":!0,options:e.availableReportTypes},null,8,["title","modelValue","options"])])]),Object(X["createElementVNode"])("div",fu,[Object(X["withDirectives"])(Object(X["createElementVNode"])("div",hu,[Object(X["createVNode"])(i,{uicontrol:"radio",name:"filter_limit_all",title:e.translate("CoreHome_RowLimit"),modelValue:e.reportLimitAll,"onUpdate:modelValue":t[5]||(t[5]=function(t){return e.reportLimitAll=t}),"full-width":!0,options:e.limitAllOptions},null,8,["title","modelValue","options"])],512),[[X["vShow"],!e.maxFilterLimit||e.maxFilterLimit<=0]]),"no"===e.reportLimitAll&&e.maxFilterLimit<=0?(Object(X["openBlock"])(),Object(X["createElementBlock"])("div",bu,[Object(X["createVNode"])(i,{uicontrol:"number",name:"filter_limit",min:1,modelValue:e.reportLimit,"onUpdate:modelValue":t[6]||(t[6]=function(t){return e.reportLimit=t}),"full-width":!0},null,8,["modelValue"])])):Object(X["createCommentVNode"])("",!0),"no"===e.reportLimitAll&&e.maxFilterLimit>0?(Object(X["openBlock"])(),Object(X["createElementBlock"])("div",vu,[Object(X["createVNode"])(i,{uicontrol:"number",name:"filter_limit",min:1,max:e.maxFilterLimit,modelValue:e.reportLimit,"onUpdate:modelValue":t[7]||(t[7]=function(t){return e.reportLimit=t}),value:e.reportLimit,"full-width":!0,title:e.filterLimitTooltip},null,8,["max","modelValue","value","title"])])):Object(X["createCommentVNode"])("",!0)])]),Object(X["withDirectives"])(Object(X["createElementVNode"])("div",gu,[Object(X["withDirectives"])(Object(X["createElementVNode"])("textarea",{readonly:"",class:"exportFullUrl",value:e.exportLinkWithoutToken},ju,8,yu),[[l,{}]]),Object(X["createElementVNode"])("div",{class:"tooltip",innerHTML:e.$sanitize(e.translate("CoreHome_ExportTooltipWithLink","<a target=_blank href='?module=UsersManager&action=userSecurity'>","</a>","ENTER_YOUR_TOKEN_AUTH_HERE"))},null,8,wu)],512),[[X["vShow"],e.showUrl]]),Object(X["createElementVNode"])("div",ku,[Object(X["createElementVNode"])("a",{class:"btn",href:e.exportLink,target:"_new",title:e.translate("CoreHome_ExportTooltip")},Object(X["toDisplayString"])(e.translate("General_Export")),9,Su),Object(X["createElementVNode"])("a",{href:"javascript:",onClick:t[8]||(t[8]=function(t){return e.showUrl=!e.showUrl}),class:"toggle-export-url"},[Object(X["withDirectives"])(Object(X["createElementVNode"])("span",null,Object(X["toDisplayString"])(e.translate("CoreHome_ShowExportUrl")),513),[[X["vShow"],!e.showUrl]]),Object(X["withDirectives"])(Object(X["createElementVNode"])("span",null,Object(X["toDisplayString"])(e.translate("CoreHome_HideExportUrl")),513),[[X["vShow"],e.showUrl]])])]),e.additionalContent?(Object(X["openBlock"])(),Object(X["createElementBlock"])("div",{key:0,class:"col l12 report-export-popover-footer",innerHTML:e.$sanitize(e.additionalContent)},null,8,Cu)):Object(X["createCommentVNode"])("",!0)])}function Du(e,t){return Iu(e)||Nu(e,t)||Tu(e,t)||Pu()}function Pu(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Tu(e,t){if(e){if("string"===typeof e)return Vu(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Vu(e,t):void 0}}function Vu(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Nu(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0)if(a.push(r.value),t&&a.length===t)break}catch(c){l=!0,o=c}finally{try{i||null==n["return"]||n["return"]()}finally{if(l)throw o}}return a}}function Iu(e){if(Array.isArray(e))return e}function xu(e){return xu="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xu(e)}var Bu=_t("CorePluginsAdmin","Field"),Au=Object(X["defineComponent"])({components:{Field:Bu},directives:{SelectOnFocus:nr},props:{hasSubtables:Boolean,availableReportTypes:Object,availableReportFormats:{type:Object,required:!0},maxFilterLimit:Number,limitAllOptions:Object,dataTable:{type:Object,required:!0},requestParams:[Object,String],apiMethod:{type:String,required:!0},initialReportType:{type:String,default:"default"},initialReportLimit:{type:[String,Number],default:100},initialReportLimitAll:{type:String,default:"yes"},initialOptionFlat:{type:Boolean,default:!1},initialOptionExpanded:{type:Boolean,default:!0},initialOptionFormatMetrics:{type:Boolean,default:!1},initialReportFormat:{type:String,default:"XML"}},mounted:function(){var e={content:this.additionalContent,dataTable:this.dataTable};ue.postEvent("ReportExportPopover.additionalContent",e),this.additionalContent=e.content},data:function(){return{showUrl:!1,reportFormat:this.initialReportFormat,optionFlat:this.initialOptionFlat,optionExpanded:this.initialOptionExpanded,optionFormatMetrics:this.initialOptionFormatMetrics,reportType:this.initialReportType,reportLimitAll:this.initialReportLimitAll,reportLimit:"string"===typeof this.initialReportLimit?parseInt(this.initialReportLimit,10):this.initialReportLimit,additionalContent:""}},watch:{reportType:function(e){this.availableReportFormats[e][this.reportFormat]||(this.reportFormat="XML")},reportLimit:function(e,t){this.maxFilterLimit&&this.maxFilterLimit>0&&e>this.maxFilterLimit&&(this.reportLimit=t)}},computed:{filterLimitTooltip:function(){var e=a("CoreHome_RowLimit"),t=this.maxFilterLimit?a("General_ComputedMetricMax",this.maxFilterLimit.toString()):"";return"".concat(e," (").concat(t,")")},exportLink:function(){return this.getExportLink(!0)},exportLinkWithoutToken:function(){return this.getExportLink(!1)}},methods:{getExportLink:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=this.reportFormat,n=this.apiMethod,r=this.reportType,o=this.dataTable;if(t){var a={},i="yes"===this.reportLimitAll?-1:this.reportLimit;this.requestParams&&"string"===typeof this.requestParams?a=JSON.parse(this.requestParams):this.requestParams&&"object"===xu(this.requestParams)&&(a=this.requestParams);var l=o.param,c=l.segment,s=l.label,u=l.idGoal,d=l.idDimension,m=l.idSite,p=o.param,f=p.date,h=p.period;"RSS"===t&&(f="last10"),"undefined"!==typeof o.param.dateUsedInGraph&&(f=o.param.dateUsedInGraph);var b=ue.config.datatable_export_range_as_day.toLowerCase();-1!==b.indexOf(t.toLowerCase())&&"range"===o.param.period&&(h="day"),"range"===o.param.period&&"graphEvolution"===o.param.viewDataTable&&(h="day");var v={module:"API",format:t,idSite:m,period:h,date:f};if("processed"===r){v.method="API.getProcessedReport";var g=n.split("."),y=Du(g,2);v.apiModule=y[0],v.apiAction=y[1]}else v.method=n;if(o.param.compareDates&&o.param.compareDates.length&&(v.compareDates=o.param.compareDates,v.compare="1"),o.param.comparePeriods&&o.param.comparePeriods.length&&(v.comparePeriods=o.param.comparePeriods,v.compare="1"),o.param.compareSegments&&o.param.compareSegments.length&&(v.compareSegments=o.param.compareSegments,v.compare="1"),"undefined"!==typeof o.param.filter_pattern&&(v.filter_pattern=o.param.filter_pattern),"undefined"!==typeof o.param.filter_pattern_recursive&&(v.filter_pattern_recursive=o.param.filter_pattern_recursive),window.$.isPlainObject(a)&&Object.entries(a).forEach((function(e){var t=Du(e,2),n=t[0],r=t[1],o=r;!0===o?o=1:!1===o&&(o=0),v[n]=o})),this.optionFlat&&(v.flat=1,"undefined"!==typeof o.param.include_aggregate_rows&&"1"===o.param.include_aggregate_rows&&(v.include_aggregate_rows=1)),!this.optionFlat&&this.optionExpanded&&(v.expanded=1),this.optionFormatMetrics&&(v.format_metrics=1),o.param.pivotBy&&(v.pivotBy=o.param.pivotBy,v.pivotByColumnLimit=20,o.props.pivot_by_column&&(v.pivotByColumn=o.props.pivot_by_column)),"CSV"!==t&&"TSV"!==t&&"RSS"!==t||(v.translateColumnNames=1,v.language=ue.language),"undefined"!==typeof c&&(v.segment=decodeURIComponent(c)),"undefined"!==typeof u&&"-1"!==u&&(v.idGoal=u),"undefined"!==typeof d&&"-1"!==d&&(v.idDimension=d),s){var O=s.split(",");if(O.length>1)v.label=O;else{var j=Du(O,1);v.label=j[0]}}v.token_auth="ENTER_YOUR_TOKEN_AUTH_HERE",!0===e&&(v.token_auth=ue.token_auth,v.force_api_session=1),v.filter_limit=i;var w=window.location.href.split("?")[0];return"".concat(w,"?").concat(De.stringify(v))}}}});Au.render=Eu;var Mu=Au,Lu=window,Fu=Lu.$,_u={mounted:function(e,t){e.addEventListener("click",(function(){var n=De.hashParsed.value.popover,r=Fu(e).closest("[data-report]").data("uiControlObject"),o=window.Piwik_Popover.showLoading("Export"),i=t.value.reportFormats,l=r.param.filter_limit;t.value.maxFilterLimit>0&&(l=Math.min(l,t.value.maxFilterLimit));var c=!0===r.param.flat||1===r.param.flat||"1"===r.param.flat,s={initialReportType:"default",initialReportLimit:l>0?l:100,initialReportLimitAll:-1===l?"yes":"no",initialOptionFlat:c,initialOptionExpanded:!0,initialOptionFormatMetrics:!1,hasSubtables:c||r.numberOfSubtables>0,availableReportFormats:{default:i,processed:{XML:i.XML,JSON:i.JSON}},availableReportTypes:{default:a("CoreHome_StandardReport"),processed:a("CoreHome_ReportWithMetadata")},limitAllOptions:{yes:a("General_All"),no:a("CoreHome_CustomLimit")},maxFilterLimit:t.value.maxFilterLimit,dataTable:r,requestParams:t.value.requestParams,apiMethod:t.value.apiMethod},u=xt({template:'\n          <popover v-bind="bind"/>',data:function(){return{bind:s}}});u.component("popover",Mu);var d=document.createElement("div");u.mount(d);var m=t.value.reportTitle;window.Piwik_Popover.setTitle("".concat(a("General_Export")," ").concat(ue.helper.htmlEntities(m))),window.Piwik_Popover.setContent(d),window.Piwik_Popover.onClose((function(){u.unmount(),""!==n&&setTimeout((function(){De.updateHash(Object.assign(Object.assign({},De.hashParsed.value),{},{popover:n})),t.value.onClose&&t.value.onClose()}),100)})),setTimeout((function(){o.dialog(),Fu(".exportFullUrl, .btn",o).tooltip({track:!0,show:!1,hide:!1})}),100)}))}},Ru=["src","width","height"];
/*!
 * Matomo - free/libre analytics platform
 *
 * @link    https://matomo.org
 * @license https://www.gnu.org/licenses/gpl-3.0.html GPL v3 or later
 */function Hu(e,t,n,r,o,a){return Object(X["openBlock"])(),Object(X["createElementBlock"])("img",{class:"sparklineImg",loading:"lazy",alt:"",src:e.sparklineUrl,width:e.width,height:e.height},null,8,Ru)}function Uu(e){return Uu="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uu(e)}var $u=Object(X["defineComponent"])({props:{seriesIndices:Array,params:[Object,String],width:Number,height:Number},data:function(){return{isWidget:!1}},mounted:function(){this.isWidget=!!this.$el.closest("[widgetId]")},computed:{sparklineUrl:function(){var e=this.seriesIndices,t=this.params,n=ue.getSparklineColors();e&&(n.lineColor=n.lineColor.filter((function(t,n){return-1!==e.indexOf(n)})));var r=JSON.stringify(n),o={forceView:"1",viewDataTable:"sparkline",widget:this.isWidget?"1":"0",showtitle:"1",colors:r,random:Date.now(),date:this.defaultDate,segment:De.parsed.value.segment},a="object"===Uu(t)?t:De.parse(t.substring(t.indexOf("?")+1)),i=new Ze,l=i.mixinDefaultGetParams(Object.assign(Object.assign({},o),a)),c=De.parsed.value.token_auth;return c&&c.length&&ue.shouldPropagateTokenAuth&&(l.token_auth=c),"?".concat(De.stringify(l))},defaultDate:function(){if("range"===ue.period)return"".concat(ue.startDateString,",").concat(ue.endDateString);var e=K.getLastNRange(ue.period,30,ue.currentDateString).getDateRange(),t=new Date(ue.minDateYear,ue.minDateMonth-1,ue.minDateDay);e[0]<t&&(e[0]=t);var n=p(e[0]),r=p(e[1]);return"".concat(n,",").concat(r)}}});$u.render=Hu;var qu=$u,Wu={class:"progressbar"},zu={class:"progress"},Gu=Object(X["createElementVNode"])("img",{src:"plugins/Morpheus/images/loading-blue.gif",style:{"margin-right":"3.5px"}},null,-1),Yu=["innerHTML"];function Ju(e,t,n,r,o,a){return Object(X["openBlock"])(),Object(X["createElementBlock"])("div",Wu,[Object(X["createElementVNode"])("div",zu,[Object(X["createElementVNode"])("div",{class:"determinate",style:Object(X["normalizeStyle"])([{width:"0"},{width:"".concat(e.actualProgress,"%")}])},null,4)]),Object(X["withDirectives"])(Object(X["createElementVNode"])("span",null,[Gu,Object(X["createElementVNode"])("span",{class:"label",innerHTML:e.$sanitize(e.label)},null,8,Yu)],512),[[X["vShow"],!!e.label]])])}var Ku=Object(X["defineComponent"])({props:{progress:{type:Number,required:!0},label:String},computed:{actualProgress:function(){return this.progress>100?100:this.progress<0?0:this.progress}}});Ku.render=Ju;var Qu=Ku,Xu={mounted:function(e){e.classList.add("piwik-content-intro")},updated:function(e){Object(X["nextTick"])((function(){e.classList.add("piwik-content-intro")}))}},Zu={mounted:function(e,t){var n;null!==t&&void 0!==t&&null!==(n=t.value)&&void 0!==n&&n.off||e.classList.add("card","card-table","entityTable")},updated:function(e,t){var n;null!==t&&void 0!==t&&null!==(n=t.value)&&void 0!==n&&n.off||Object(X["nextTick"])((function(){e.classList.add("card","card-table","entityTable")}))}},ed={ref:"root"};
/*!
 * Matomo - free/libre analytics platform
 *
 * @link    https://matomo.org
 * @license https://www.gnu.org/licenses/gpl-3.0.html GPL v3 or later
 */function td(e,t,n,r,o,a){return Object(X["openBlock"])(),Object(X["createElementBlock"])("div",ed,[Object(X["renderSlot"])(e.$slots,"default",{formData:e.formData,submitApiMethod:e.submitApiMethod,sendJsonPayload:e.sendJsonPayload,noErrorNotification:e.noErrorNotification,noSuccessNotification:e.noSuccessNotification,submitForm:e.submitForm,isSubmitting:e.isSubmitting,successfulPostResponse:e.successfulPostResponse,errorPostResponse:e.errorPostResponse})],512)}var nd=window,rd=nd.$,od=Object(X["defineComponent"])({props:{formData:{type:Object,required:!0},submitApiMethod:{type:String,required:!0},sendJsonPayload:Boolean,noErrorNotification:Boolean,noSuccessNotification:Boolean},data:function(){return{isSubmitting:!1,successfulPostResponse:null,errorPostResponse:null}},emits:["update:modelValue"],mounted:function(){var e=this;rd(this.$refs.root).on("click","input[type=submit]",(function(){e.submitForm()}))},methods:{submitForm:function(){var e=this;this.successfulPostResponse=null,this.errorPostResponse=null;var t=this.formData;this.sendJsonPayload&&(t={data:JSON.stringify(this.formData)}),this.isSubmitting=!0,Ze.post({module:"API",method:this.submitApiMethod},t,{createErrorNotification:!this.noErrorNotification}).then((function(t){if(e.successfulPostResponse=t,!e.noSuccessNotification){var n=ga.show({message:a("General_YourChangesHaveBeenSaved"),context:"success",type:"toast",id:"ajaxHelper"});ga.scrollToNotification(n)}})).catch((function(t){e.errorPostResponse=t.message})).finally((function(){e.isSubmitting=!1}))}}});od.render=td;var ad=od;function id(e,t,n,r,o,a){return Object(X["renderSlot"])(e.$slots,"default")}var ld=Object(X["defineComponent"])({});ld.render=id;var cd=ld,sd={key:0},ud=["data-target"],dd=Object(X["createElementVNode"])("span",{class:"icon-configure"},null,-1),md=[dd],pd=["data-target"],fd=["title"],hd=["title","src"],bd=["id"],vd=["data-footer-icon-id"],gd=["title"],yd=["title","src"],Od={key:2},jd=Object(X["createElementVNode"])("li",{class:"divider"},null,-1),wd=Object(X["createElementVNode"])("li",{class:"divider"},null,-1),kd=["title"],Sd=Object(X["createElementVNode"])("span",{class:"icon-export"},null,-1),Cd=[Sd],Ed=["title"],Dd=Object(X["createElementVNode"])("span",{class:"icon-image"},null,-1),Pd=[Dd],Td=["title"],Vd=Object(X["createElementVNode"])("span",{class:"icon-annotation"},null,-1),Nd=[Vd],Id=["title"],xd=Object(X["createElementVNode"])("span",{class:"icon-search",draggable:"false"},null,-1),Bd=["title"],Ad=["id","title"],Md=["title"],Ld=["title","src"],Fd=["id"],_d={key:0},Rd=["innerHTML"],Hd={key:1},Ud=["innerHTML"],$d={key:2},qd=["innerHTML"],Wd={key:3},zd=["innerHTML"],Gd={key:4},Yd=["innerHTML"],Jd={key:5},Kd=["innerHTML"],Qd=["title","data-target"],Xd=Object(X["createElementVNode"])("span",{class:"icon-calendar"},null,-1),Zd={class:"periodName"},em=["id"],tm=["data-period"];function nm(e,t,n,r,o,a){var i=Object(X["resolveComponent"])("Passthrough"),l=Object(X["resolveDirective"])("dropdown-button"),c=Object(X["resolveDirective"])("report-export");return e.showFooter&&e.showFooterIcons?(Object(X["openBlock"])(),Object(X["createElementBlock"])("div",sd,[e.hasConfigItems&&(e.isAnyConfigureIconHighlighted||e.isTableView)?Object(X["withDirectives"])((Object(X["openBlock"])(),Object(X["createElementBlock"])("a",{key:0,class:Object(X["normalizeClass"])(["dropdown-button dropdownConfigureIcon dataTableAction",{highlighted:e.isAnyConfigureIconHighlighted}]),href:"",onClick:t[0]||(t[0]=Object(X["withModifiers"])((function(){}),["prevent"])),"data-target":"dropdownConfigure".concat(e.randomIdForDropdown),style:{"margin-right":"3.5px"}},md,10,ud)),[[l]]):Object(X["createCommentVNode"])("",!0),e.hasFooterIconsToShow?Object(X["withDirectives"])((Object(X["openBlock"])(),Object(X["createElementBlock"])("a",{key:1,class:"dropdown-button dataTableAction activateVisualizationSelection",href:"","data-target":"dropdownVisualizations".concat(e.randomIdForDropdown),style:{"margin-right":"3.5px"},onClick:t[1]||(t[1]=Object(X["withModifiers"])((function(){}),["prevent"]))},[/^icon-/.test(e.activeFooterIcon||"")?(Object(X["openBlock"])(),Object(X["createElementBlock"])("span",{key:0,title:e.translate("CoreHome_ChangeVisualization"),class:Object(X["normalizeClass"])(e.activeFooterIcon)},null,10,fd)):(Object(X["openBlock"])(),Object(X["createElementBlock"])("img",{key:1,title:e.translate("CoreHome_ChangeVisualization"),width:"16",height:"16",src:e.activeFooterIcon},null,8,hd))],8,pd)),[[l]]):Object(X["createCommentVNode"])("",!0),e.showFooterIcons?(Object(X["openBlock"])(),Object(X["createElementBlock"])("ul",{key:2,id:"dropdownVisualizations".concat(e.randomIdForDropdown),class:"dropdown-content dataTableFooterIcons"},[(Object(X["openBlock"])(!0),Object(X["createElementBlock"])(X["Fragment"],null,Object(X["renderList"])(e.footerIcons,(function(t,n){return Object(X["openBlock"])(),Object(X["createBlock"])(i,{key:n},{default:Object(X["withCtx"])((function(){return[(Object(X["openBlock"])(!0),Object(X["createElementBlock"])(X["Fragment"],null,Object(X["renderList"])(t.buttons.filter((function(e){return!!e.icon})),(function(n){return Object(X["openBlock"])(),Object(X["createElementBlock"])("li",{key:n.id},[Object(X["createElementVNode"])("a",{class:Object(X["normalizeClass"])("".concat(t.class," tableIcon\n              ").concat(-1!==e.activeFooterIconIds.indexOf(n.id)?"activeIcon":"")),"data-footer-icon-id":n.id},[/^icon-/.test(n.icon||"")?(Object(X["openBlock"])(),Object(X["createElementBlock"])("span",{key:0,title:n.title,class:Object(X["normalizeClass"])(n.icon),style:{"margin-right":"5.5px"}},null,10,gd)):(Object(X["openBlock"])(),Object(X["createElementBlock"])("img",{key:1,width:"16",height:"16",title:n.title,src:n.icon,style:{"margin-right":"5.5px"}},null,8,yd)),n.title?(Object(X["openBlock"])(),Object(X["createElementBlock"])("span",Od,Object(X["toDisplayString"])(n.title),1)):Object(X["createCommentVNode"])("",!0)],10,vd)])})),128)),jd]})),_:2},1024)})),128)),wd],8,bd)):Object(X["createCommentVNode"])("",!0),e.showExport?Object(X["withDirectives"])((Object(X["openBlock"])(),Object(X["createElementBlock"])("a",{key:3,class:"dataTableAction activateExportSelection",title:e.translate("General_ExportThisReport"),href:"",style:{"margin-right":"3.5px"},onClick:t[2]||(t[2]=Object(X["withModifiers"])((function(){}),["prevent"]))},Cd,8,kd)),[[c,{reportTitle:e.reportTitle,requestParams:e.requestParams,apiMethod:e.apiMethodToRequestDataTable,reportFormats:e.reportFormats,maxFilterLimit:e.maxFilterLimit}]]):Object(X["createCommentVNode"])("",!0),e.showExportAsImageIcon?(Object(X["openBlock"])(),Object(X["createElementBlock"])("a",{key:4,class:"dataTableAction tableIcon",href:"",id:"dataTableFooterExportAsImageIcon",onClick:t[3]||(t[3]=Object(X["withModifiers"])((function(t){return e.showExportImage(t)}),["prevent"])),title:e.translate("General_ExportAsImage"),style:{"margin-right":"3.5px"}},Pd,8,Ed)):Object(X["createCommentVNode"])("",!0),e.showAnnotations?(Object(X["openBlock"])(),Object(X["createElementBlock"])("a",{key:5,class:"dataTableAction annotationView",href:"",title:e.translate("Annotations_Annotations"),onClick:t[4]||(t[4]=Object(X["withModifiers"])((function(){}),["prevent"])),style:{"margin-right":"3.5px"}},Nd,8,Td)):Object(X["createCommentVNode"])("",!0),e.showSearch?(Object(X["openBlock"])(),Object(X["createElementBlock"])("a",{key:6,class:"dropdown-button dataTableAction searchAction",href:"",title:e.translate("General_Search"),style:{"margin-right":"3.5px"},draggable:"false",onClick:t[5]||(t[5]=Object(X["withModifiers"])((function(){}),["prevent"]))},[xd,Object(X["createElementVNode"])("span",{class:"icon-close",draggable:"false",title:e.translate("CoreHome_CloseSearch")},null,8,Bd),Object(X["createElementVNode"])("input",{id:"widgetSearch_".concat(e.reportId,"_").concat(e.placement),title:e.translate("CoreHome_DataTableHowToSearch"),type:"text",class:"dataTableSearchInput"},null,8,Ad)],8,Id)):Object(X["createCommentVNode"])("",!0),(Object(X["openBlock"])(!0),Object(X["createElementBlock"])(X["Fragment"],null,Object(X["renderList"])(e.dataTableActions,(function(e){return Object(X["openBlock"])(),Object(X["createElementBlock"])("a",{key:e.id,class:Object(X["normalizeClass"])("dataTableAction ".concat(e.id)),href:"",onClick:t[6]||(t[6]=Object(X["withModifiers"])((function(){}),["prevent"])),title:e.title,style:{"margin-right":"3.5px"}},[/^icon-/.test(e.icon||"")?(Object(X["openBlock"])(),Object(X["createElementBlock"])("span",{key:0,class:Object(X["normalizeClass"])(e.icon)},null,2)):(Object(X["openBlock"])(),Object(X["createElementBlock"])("img",{key:1,width:"16",height:"16",title:e.title,src:e.icon},null,8,Ld))],10,Md)})),128)),Object(X["createElementVNode"])("ul",{id:"dropdownConfigure".concat(e.randomIdForDropdown),class:"dropdown-content tableConfiguration"},[e.showFlattenTable?(Object(X["openBlock"])(),Object(X["createElementBlock"])("li",_d,[Object(X["createElementVNode"])("div",{class:"configItem dataTableFlatten",innerHTML:e.$sanitize(e.flattenItemText)},null,8,Rd)])):Object(X["createCommentVNode"])("",!0),e.showDimensionsConfigItem?(Object(X["openBlock"])(),Object(X["createElementBlock"])("li",Hd,[Object(X["createElementVNode"])("div",{class:"configItem dataTableShowDimensions",innerHTML:e.$sanitize(e.showDimensionsText)},null,8,Ud)])):Object(X["createCommentVNode"])("",!0),e.showFlatConfigItem?(Object(X["openBlock"])(),Object(X["createElementBlock"])("li",$d,[Object(X["createElementVNode"])("div",{class:"configItem dataTableIncludeAggregateRows",innerHTML:e.$sanitize(e.includeAggregateRowsText)},null,8,qd)])):Object(X["createCommentVNode"])("",!0),e.showTotalsConfigItem?(Object(X["openBlock"])(),Object(X["createElementBlock"])("li",Wd,[Object(X["createElementVNode"])("div",{class:"configItem dataTableShowTotalsRow",innerHTML:e.$sanitize(e.keepTotalsRowText)},null,8,zd)])):Object(X["createCommentVNode"])("",!0),e.showExcludeLowPopulation?(Object(X["openBlock"])(),Object(X["createElementBlock"])("li",Gd,[Object(X["createElementVNode"])("div",{class:"configItem dataTableExcludeLowPopulation",innerHTML:e.$sanitize(e.excludeLowPopText)},null,8,Yd)])):Object(X["createCommentVNode"])("",!0),e.showPivotBySubtable?(Object(X["openBlock"])(),Object(X["createElementBlock"])("li",Jd,[Object(X["createElementVNode"])("div",{class:"configItem dataTablePivotBySubtable",innerHTML:e.$sanitize(e.pivotByText)},null,8,Kd)])):Object(X["createCommentVNode"])("",!0)],8,Fd),e.showPeriods?Object(X["withDirectives"])((Object(X["openBlock"])(),Object(X["createElementBlock"])("a",{key:7,class:"dropdown-button dataTableAction activatePeriodsSelection",href:"",onClick:t[7]||(t[7]=Object(X["withModifiers"])((function(){}),["prevent"])),title:e.translate("CoreHome_ChangePeriod"),"data-target":"dropdownPeriods".concat(e.randomIdForDropdown)},[Object(X["createElementVNode"])("div",null,[Xd,Object(X["createElementVNode"])("span",Zd,Object(X["toDisplayString"])(e.translations[e.clientSideParameters.period]||e.clientSideParameters.period),1)])],8,Qd)),[[l]]):Object(X["createCommentVNode"])("",!0),e.showPeriods?(Object(X["openBlock"])(),Object(X["createElementBlock"])("ul",{key:8,id:"dropdownPeriods".concat(e.randomIdForDropdown),class:"dropdown-content dataTablePeriods"},[(Object(X["openBlock"])(!0),Object(X["createElementBlock"])(X["Fragment"],null,Object(X["renderList"])(e.selectablePeriods,(function(t){return Object(X["openBlock"])(),Object(X["createElementBlock"])("li",{key:t},[Object(X["createElementVNode"])("a",{"data-period":t,class:Object(X["normalizeClass"])("tableIcon ".concat(e.clientSideParameters.period===t?"activeIcon":""))},[Object(X["createElementVNode"])("span",null,Object(X["toDisplayString"])(e.translations[t]||t),1)],10,tm)])})),128))],8,em)):Object(X["createCommentVNode"])("",!0)])):Object(X["createCommentVNode"])("",!0)}function rm(e){return lm(e)||im(e)||am(e)||om()}function om(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function am(e,t){if(e){if("string"===typeof e)return cm(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?cm(e,t):void 0}}function im(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function lm(e){if(Array.isArray(e))return cm(e)}function cm(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var sm=window,um=sm.$;function dm(e,t,n){if(/(%(.\$)?s+)/g.test(a(e))){var r=['<br /><span class="action">'];n&&r.push(n);var o=a.apply(void 0,[e].concat(r));return t&&(o+=" (".concat(a("CoreHome_Default"),")")),o+="</span>",o}return a(e)}function mm(e,t,n){return e?dm(t,!0):dm(n)}function pm(e){return!!e&&"0"!==e}var fm=Object(X["defineComponent"])({props:{showPeriods:Boolean,showFooter:Boolean,showFooterIcons:Boolean,showSearch:Boolean,showFlattenTable:Boolean,footerIcons:{type:Array,required:!0},viewDataTable:{type:String,required:!0},reportTitle:String,requestParams:{type:Object,required:!0},apiMethodToRequestDataTable:{type:String,required:!0},maxFilterLimit:{type:Number,required:!0},showExport:Boolean,showExportAsImageIcon:Boolean,showAnnotations:Boolean,reportId:{type:String,required:!0},dataTableActions:{type:Array,required:!0},clientSideParameters:{type:Object,required:!0},hasMultipleDimensions:Boolean,isDataTableEmpty:Boolean,showTotalsRow:Boolean,showExcludeLowPopulation:Boolean,showPivotBySubtable:Boolean,selectablePeriods:Array,translations:{type:Object,required:!0},pivotDimensionName:String,placement:{type:String,default:"footer"}},components:{Passthrough:cd},directives:{DropdownButton:Kn,ReportExport:_u},methods:{showExportImage:function(e){um(e.target).closest(".dataTable").find("div.jqplot-target").trigger("piwikExportAsImage")}},computed:{randomIdForDropdown:function(){return Math.floor(999999*Math.random())},allFooterIcons:function(){return this.footerIcons.reduce((function(e,t){return e.push.apply(e,rm(t.buttons)),e}),[])},activeFooterIcons:function(){var e=this,t=this.clientSideParameters,n=[this.viewDataTable];return 0===t.abandonedCarts||"0"===t.abandonedCarts?n.push("ecommerceOrder"):1!==t.abandonedCarts&&"1"!==t.abandonedCarts||n.push("ecommerceAbandonedCart"),n.map((function(t){return e.allFooterIcons.find((function(e){return e.id===t}))})).filter((function(e){return!!e}))},activeFooterIcon:function(){var e;return null===(e=this.activeFooterIcons[0])||void 0===e?void 0:e.icon},activeFooterIconIds:function(){return this.activeFooterIcons.map((function(e){return e.id}))},numIcons:function(){return this.allFooterIcons.length},hasFooterIconsToShow:function(){return!!this.activeFooterIcons.length&&this.numIcons>1},reportFormats:function(){var e={CSV:"CSV",TSV:"TSV (Excel)",XML:"XML",JSON:"Json",HTML:"HTML",RSS:"RSS"};return e},showDimensionsConfigItem:function(){return this.showFlattenTable&&"1"==="".concat(this.clientSideParameters.flat)&&this.hasMultipleDimensions},showFlatConfigItem:function(){return this.showFlattenTable&&"1"==="".concat(this.clientSideParameters.flat)},showTotalsConfigItem:function(){return!this.isDataTableEmpty&&this.showTotalsRow},hasConfigItems:function(){return this.showFlattenTable||this.showDimensionsConfigItem||this.showFlatConfigItem||this.showTotalsConfigItem||this.showExcludeLowPopulation||this.showPivotBySubtable},flattenItemText:function(){var e=this.clientSideParameters;return mm(pm(e.flat),"CoreHome_UnFlattenDataTable","CoreHome_FlattenDataTable")},keepTotalsRowText:function(){var e=this.clientSideParameters;return mm(pm(e.keep_totals_row),"CoreHome_RemoveTotalsRowDataTable","CoreHome_AddTotalsRowDataTable")},includeAggregateRowsText:function(){var e=this.clientSideParameters;return mm(pm(e.include_aggregate_rows),"CoreHome_DataTableExcludeAggregateRows","CoreHome_DataTableIncludeAggregateRows")},showDimensionsText:function(){var e=this.clientSideParameters;return mm(pm(e.show_dimensions),"CoreHome_DataTableCombineDimensions","CoreHome_DataTableShowDimensions")},pivotByText:function(){var e=this.clientSideParameters;return pm(e.pivotBy)?dm("CoreHome_UndoPivotBySubtable",!0):dm("CoreHome_PivotBySubtable",!1,this.pivotDimensionName)},excludeLowPopText:function(){var e=this.clientSideParameters;return mm(pm(e.enable_filter_excludelowpop),"CoreHome_IncludeRowsWithLowPopulation","CoreHome_ExcludeRowsWithLowPopulation")},isAnyConfigureIconHighlighted:function(){var e=this.clientSideParameters;return pm(e.flat)||pm(e.keep_totals_row)||pm(e.include_aggregate_rows)||pm(e.show_dimensions)||pm(e.pivotBy)||pm(e.enable_filter_excludelowpop)},isTableView:function(){return"table"===this.viewDataTable||"tableAllColumns"===this.viewDataTable||"tableGoals"===this.viewDataTable}}});fm.render=nm;var hm=fm,bm={key:0,class:"title",style:{cursor:"pointer"},ref:"expander"},vm=Object(X["createElementVNode"])("span",{class:"icon-warning"},null,-1),gm={key:1,class:"title",href:"?module=CoreUpdater&action=newVersionAvailable",style:{cursor:"pointer"},ref:"expander"},ym=Object(X["createElementVNode"])("span",{class:"icon-warning"},null,-1),Om=["innerHTML"],jm=["href"],wm={id:"updateCheckLinkContainer"},km={class:"dropdown positionInViewport"},Sm=["innerHTML"],Cm=["innerHTML"];function Em(e,t,n,r,o,a){var i=Object(X["resolveComponent"])("Passthrough"),l=Object(X["resolveDirective"])("expand-on-hover");return Object(X["withDirectives"])((Object(X["openBlock"])(),Object(X["createElementBlock"])("div",{id:"header_message",class:Object(X["normalizeClass"])(["piwikSelector",{header_info:!e.latestVersionAvailable||e.lastUpdateCheckFailed,update_available:e.latestVersionAvailable}])},[e.latestVersionAvailable&&!e.isPiwikDemo?(Object(X["openBlock"])(),Object(X["createBlock"])(i,{key:0},{default:Object(X["withCtx"])((function(){return[e.isMultiServerEnvironment?(Object(X["openBlock"])(),Object(X["createElementBlock"])("span",bm,[Object(X["createTextVNode"])(Object(X["toDisplayString"])(e.translate("General_NewUpdatePiwikX",e.latestVersionAvailable))+" ",1),vm],512)):(Object(X["openBlock"])(),Object(X["createElementBlock"])("a",gm,[Object(X["createTextVNode"])(Object(X["toDisplayString"])(e.translate("General_NewUpdatePiwikX",e.latestVersionAvailable))+" ",1),ym],512))]})),_:1})):e.isSuperUser&&(e.isAdminArea||e.lastUpdateCheckFailed)?(Object(X["openBlock"])(),Object(X["createBlock"])(i,{key:1},{default:Object(X["withCtx"])((function(){return[e.isInternetEnabled?(Object(X["openBlock"])(),Object(X["createElementBlock"])("a",{key:0,class:"title",innerHTML:e.$sanitize(e.updateCheck)},null,8,Om)):(Object(X["openBlock"])(),Object(X["createElementBlock"])("a",{key:1,class:"title",href:e.externalRawLink("https://matomo.org/changelog/"),target:"_blank",rel:"noreferrer noopener"},[Object(X["createElementVNode"])("span",wm,Object(X["toDisplayString"])(e.translate("CoreHome_SeeAvailableVersions")),1)],8,jm))]})),_:1})):Object(X["createCommentVNode"])("",!0),Object(X["createElementVNode"])("div",km,[e.latestVersionAvailable&&e.isSuperUser?(Object(X["openBlock"])(),Object(X["createElementBlock"])("span",{key:0,innerHTML:e.$sanitize(e.updateNowText)},null,8,Sm)):e.latestVersionAvailable&&!e.isPiwikDemo&&e.hasSomeViewAccess&&!e.isAnonymous?(Object(X["openBlock"])(),Object(X["createElementBlock"])("span",{key:1,innerHTML:e.$sanitize(e.updateAvailableText)},null,8,Cm)):Object(X["createCommentVNode"])("",!0),Object(X["createTextVNode"])(" "+Object(X["toDisplayString"])(e.translate("General_YouAreCurrentlyUsing",e.piwikVersion)),1)])],2)),[[l,{expander:"expander"}]])}var Dm=Object(X["defineComponent"])({props:{isMultiServerEnvironment:Boolean,lastUpdateCheckFailed:Boolean,latestVersionAvailable:String,isPiwikDemo:Boolean,isSuperUser:Boolean,isAdminArea:Boolean,isInternetEnabled:Boolean,updateCheck:String,isAnonymous:Boolean,hasSomeViewAccess:Boolean,contactEmail:String,piwikVersion:String},components:{Passthrough:cd},directives:{ExpandOnHover:qn},computed:{updateNowText:function(){var e="";if(this.isMultiServerEnvironment){var t=Et("https://builds.matomo.org/matomo-".concat(this.latestVersionAvailable,".zip"));e=a("CoreHome_OneClickUpdateNotPossibleAsMultiServerEnvironment",'<a rel="noreferrer noopener" href="'.concat(t,'">builds.matomo.org</a>'))}else e=a("General_PiwikXIsAvailablePleaseUpdateNow",this.latestVersionAvailable||"",'<br /><a href="index.php?module=CoreUpdater&amp;action=newVersionAvailable">',"</a>",Dt("https://matomo.org/changelog/"),"</a>");return"".concat(e,"<br/>")},updateAvailableText:function(){var e=a("General_NewUpdatePiwikX",this.latestVersionAvailable||""),t=Dt("https://matomo.org/")+"Matomo</a>",n=Dt("https://matomo.org/changelog/"),r=a("General_PiwikXIsAvailablePleaseNotifyPiwikAdmin","".concat(t," ").concat(n).concat(this.latestVersionAvailable,"</a>"),'<a href="mailto:'.concat(this.contactEmail,"?subject=").concat(encodeURIComponent(e),'">'),"</a>");return"".concat(r,"<br />")}}});Dm.render=Em;var Pm=Dm;function Tm(e,t){return Bm(e)||xm(e,t)||Nm(e,t)||Vm()}function Vm(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Nm(e,t){if(e){if("string"===typeof e)return Im(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Im(e,t):void 0}}function Im(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function xm(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0)if(a.push(r.value),t&&a.length===t)break}catch(c){l=!0,o=c}finally{try{i||null==n["return"]||n["return"]()}finally{if(l)throw o}}return a}}function Bm(e){if(Array.isArray(e))return e}var Am={id:"mobile-left-menu",class:"sidenav hide-on-large-only"},Mm={class:"collapsible collapsible-accordion"},Lm={class:"collapsible-header"},Fm={class:"collapsible-body"},_m=["title","href"];function Rm(e,t,n,r,o,a){var i=Object(X["resolveDirective"])("side-nav");return Object(X["openBlock"])(),Object(X["createElementBlock"])("ul",Am,[(Object(X["openBlock"])(!0),Object(X["createElementBlock"])(X["Fragment"],null,Object(X["renderList"])(e.menuWithSubmenuItems,(function(t,n){return Object(X["openBlock"])(),Object(X["createElementBlock"])("li",{class:"no-padding",key:n},[Object(X["withDirectives"])(Object(X["createElementVNode"])("ul",Mm,[Object(X["createElementVNode"])("li",null,[Object(X["createElementVNode"])("a",Lm,[Object(X["createTextVNode"])(Object(X["toDisplayString"])(e.translateOrDefault(n)),1),Object(X["createElementVNode"])("i",{class:Object(X["normalizeClass"])(t._icon||"icon-chevron-down")},null,2)]),Object(X["createElementVNode"])("div",Fm,[Object(X["createElementVNode"])("ul",null,[(Object(X["openBlock"])(!0),Object(X["createElementBlock"])(X["Fragment"],null,Object(X["renderList"])(Object.entries(t).filter((function(e){var t=Tm(e,1),n=t[0];return"_"!==n[0]})),(function(t){var n=Tm(t,2),r=n[0],o=n[1];return Object(X["openBlock"])(),Object(X["createElementBlock"])("li",{key:r},[Object(X["createElementVNode"])("a",{title:o._tooltip?e.translateIfNecessary(o._tooltip):"",target:"_self",href:e.getMenuUrl(o._url)},Object(X["toDisplayString"])(e.translateIfNecessary(r)),9,_m)])})),128))])])])],512),[[i,{activator:e.activateLeftMenu}]])])})),128))])}function Hm(e,t){return zm(e)||Wm(e,t)||$m(e,t)||Um()}function Um(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function $m(e,t){if(e){if("string"===typeof e)return qm(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?qm(e,t):void 0}}function qm(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Wm(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0)if(a.push(r.value),t&&a.length===t)break}catch(c){l=!0,o=c}finally{try{i||null==n["return"]||n["return"]()}finally{if(l)throw o}}return a}}function zm(e){if(Array.isArray(e))return e}var Gm=window,Ym=Gm.$,Jm=Object(X["defineComponent"])({props:{menu:{type:Object,required:!0}},directives:{SideNav:ir},methods:{getMenuUrl:function(e){return"?".concat(De.stringify(Object.assign(Object.assign({},De.urlParsed.value),e)))},translateIfNecessary:function(e){return e.includes("_")?a(e):e}},computed:{menuWithSubmenuItems:function(){var e=this.menu||{};return Object.fromEntries(Object.entries(e).filter((function(e){var t=Hm(e,2),n=t[1],r=Object.entries(n).filter((function(e){var t=Hm(e,1),n=t[0];return"_"!==n[0]}));return Object.keys(r).length})))},activateLeftMenu:function(){return Ym("nav .activateLeftMenu")[0]}}});Jm.render=Rm;var Km=Jm,Qm=window,Xm=Qm.$;
/*!
 * Matomo - free/libre analytics platform
 *
 * @link    https://matomo.org
 * @license https://www.gnu.org/licenses/gpl-3.0.html GPL v3 or later
 */function Zm(e){Xm.scrollTo(e,20)}function ep(e){e&&e.preventDefault()}function tp(e,t){var n,r;if(e&&-1===e.indexOf("&")){var o=null;try{o=Xm("#".concat(e))}catch(a){return}if(null!==(n=o)&&void 0!==n&&n.length)return Zm(o),void ep(t);o=Xm("a[name=".concat(e,"]")),null!==(r=o)&&void 0!==r&&r.length&&(Zm(o),ep(t))}}function np(e,t){return(!e||!e.origin||-1!==t.indexOf(e.origin))&&((!e||!e.pathname||-1!==t.indexOf(e.pathname))&&(!e||!e.search||-1!==t.indexOf(e.search)))}function rp(){if("#/"===window.location.hash.slice(0,2)){var e=window.location.hash.slice(2);tp(e,null)}}function op(){Object(X["watch"])((function(){return De.url.value}),(function(e,t){if(e){var n=e.href.indexOf("#/");if(-1!==n&&(!t||np(t,e.href))){var r=e.href.slice(n+2);tp(r,null)}}}))}function ap(){Object(X["nextTick"])(rp)}
/*!
 * Matomo - free/libre analytics platform
 *
 * @link    https://matomo.org
 * @license https://www.gnu.org/licenses/gpl-3.0.html GPL v3 or later
 */op(),Xm(rp)}})}));
//# 
(function(e,t){"object"===typeof exports&&"object"===typeof module?module.exports=t(require("CoreHome"),require("vue")):"function"===typeof define&&define.amd?define(["CoreHome"],t):"object"===typeof exports?exports["CorePluginsAdmin"]=t(require("CoreHome"),require("vue")):e["CorePluginsAdmin"]=t(e["CoreHome"],e["Vue"])})("undefined"!==typeof self?self:this,(function(e,t){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="plugins/CorePluginsAdmin/vue/dist/",n(n.s="fae3")}({"19dc":function(t,n){t.exports=e},4788:function(e,t,n){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o={"{":"\\{","}":"\\}","\\":"\\textbackslash{}","#":"\\#",$:"\\$","%":"\\%","&":"\\&","^":"\\textasciicircum{}",_:"\\_","~":"\\textasciitilde{}"},i={"–":"\\--","—":"\\---"," ":"~","\t":"\\qquad{}","\r\n":"\\newline{}","\n":"\\newline{}"},a=function(e,t){return r({},e,t)};e.exports=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.preserveFormatting,s=void 0!==n&&n,l=t.escapeMapFn,c=void 0===l?a:l,u=String(e),p="",d=c(r({},o),s?r({},i):{}),f=Object.keys(d),m=function(){var e=!1;f.forEach((function(t,n){e||u.length>=t.length&&u.slice(0,t.length)===t&&(p+=d[f[n]],u=u.slice(t.length,u.length),e=!0)})),e||(p+=u.slice(0,1),u=u.slice(1,u.length))};while(u)m();return p}},7634:function(e,t,n){"use strict";var r,o,i;(function(n,a){o=[],r=a,i="function"===typeof r?r.apply(t,o):r,void 0===i||(e.exports=i)})(0,(function(){function e(){return!0}function t(){return!1}function n(){}function r(){var o=[{name:"number",test:function(e){return"number"===typeof e}},{name:"string",test:function(e){return"string"===typeof e}},{name:"boolean",test:function(e){return"boolean"===typeof e}},{name:"Function",test:function(e){return"function"===typeof e}},{name:"Array",test:Array.isArray},{name:"Date",test:function(e){return e instanceof Date}},{name:"RegExp",test:function(e){return e instanceof RegExp}},{name:"Object",test:function(e){return"object"===typeof e&&null!==e&&e.constructor===Object}},{name:"null",test:function(e){return null===e}},{name:"undefined",test:function(e){return void 0===e}}],i={name:"any",test:e},a=[],s=[],l={types:o,conversions:s,ignore:a};function c(e){var t=K(l.types,(function(t){return t.name===e}));if(t)return t;if("any"===e)return i;var n=K(l.types,(function(t){return t.name.toLowerCase()===e.toLowerCase()}));throw new TypeError('Unknown type "'+e+'"'+(n?'. Did you mean "'+n.name+'"?':""))}function u(e){return e===i?999:l.types.indexOf(e)}function p(e){var t=K(l.types,(function(t){return t.test(e)}));if(t)return t.name;throw new TypeError("Value has unknown type. Value: "+e)}function d(e,t){if(!e.signatures)throw new TypeError("Function is no typed-function");var n;if("string"===typeof t){n=t.split(",");for(var r=0;r<n.length;r++)n[r]=n[r].trim()}else{if(!Array.isArray(t))throw new TypeError("String array or a comma separated string expected");n=t}var o=n.join(","),i=e.signatures[o];if(i)return i;throw new TypeError("Signature not found (signature: "+(e.name||"unnamed")+"("+n.join(", ")+"))")}function f(e,t){var n=p(e);if(t===n)return e;for(var r=0;r<l.conversions.length;r++){var o=l.conversions[r];if(o.from===n&&o.to===t)return o.convert(e)}throw new Error("Cannot convert from "+n+" to "+t)}function m(e){return e.map((function(e){var t=e.types.map(N);return(e.restParam?"...":"")+t.join("|")})).join(",")}function h(e,t){var n=0===e.indexOf("..."),r=n?e.length>3?e.slice(3):"any":e,o=r.split("|").map(L).filter(U).filter(I),i=T(t,o),a=o.map((function(e){var t=c(e);return{name:e,typeIndex:u(t),test:t.test,conversion:null,conversionIndex:-1}})),s=i.map((function(e){var n=c(e.from);return{name:e.from,typeIndex:u(n),test:n.test,conversion:e,conversionIndex:t.indexOf(e)}}));return{types:a.concat(s),restParam:n}}function g(e,t,n){var r=[];return""!==e.trim()&&(r=e.split(",").map(L).map((function(e,t,r){var o=h(e,n);if(o.restParam&&t!==r.length-1)throw new SyntaxError('Unexpected rest parameter "'+e+'": only allowed for the last parameter');return o}))),r.some(q)?null:{params:r,fn:t}}function b(e){var t=z(e);return!!t&&t.restParam}function y(e){return e.types.some((function(e){return null!=e.conversion}))}function v(t){if(t&&0!==t.types.length){if(1===t.types.length)return c(t.types[0].name).test;if(2===t.types.length){var n=c(t.types[0].name).test,r=c(t.types[1].name).test;return function(e){return n(e)||r(e)}}var o=t.types.map((function(e){return c(e.name).test}));return function(e){for(var t=0;t<o.length;t++)if(o[t](e))return!0;return!1}}return e}function O(e){var t,n,r;if(b(e)){t=R(e).map(v);var o=t.length,i=v(z(e)),a=function(e){for(var t=o;t<e.length;t++)if(!i(e[t]))return!1;return!0};return function(e){for(var n=0;n<t.length;n++)if(!t[n](e[n]))return!1;return a(e)&&e.length>=o+1}}return 0===e.length?function(e){return 0===e.length}:1===e.length?(n=v(e[0]),function(e){return n(e[0])&&1===e.length}):2===e.length?(n=v(e[0]),r=v(e[1]),function(e){return n(e[0])&&r(e[1])&&2===e.length}):(t=e.map(v),function(e){for(var n=0;n<t.length;n++)if(!t[n](e[n]))return!1;return e.length===t.length})}function j(e,t){return t<e.params.length?e.params[t]:b(e.params)?z(e.params):null}function w(e,t,n){var r=j(e,t),o=r?n?r.types.filter(x):r.types:[];return o.map(N)}function N(e){return e.name}function x(e){return null===e.conversion||void 0===e.conversion}function k(e,t){var n=Y(Z(e,(function(e){return w(e,t,!1)})));return-1!==n.indexOf("any")?["any"]:n}function E(e,t,n){var r,o,i,a=e||"unnamed",s=n;for(i=0;i<t.length;i++){var l=s.filter((function(e){var n=v(j(e,i));return(i<e.params.length||b(e.params))&&n(t[i])}));if(0===l.length){if(o=k(s,i),o.length>0){var c=p(t[i]);return r=new TypeError("Unexpected type of argument in function "+a+" (expected: "+o.join(" or ")+", actual: "+c+", index: "+i+")"),r.data={category:"wrongType",fn:a,index:i,actual:c,expected:o},r}}else s=l}var u=s.map((function(e){return b(e.params)?1/0:e.params.length}));if(t.length<Math.min.apply(null,u))return o=k(s,i),r=new TypeError("Too few arguments in function "+a+" (expected: "+o.join(" or ")+", index: "+t.length+")"),r.data={category:"tooFewArgs",fn:a,index:t.length,expected:o},r;var d=Math.max.apply(null,u);return t.length>d?(r=new TypeError("Too many arguments in function "+a+" (expected: "+d+", actual: "+t.length+")"),r.data={category:"tooManyArgs",fn:a,index:t.length,expectedLength:d},r):(r=new TypeError('Arguments of type "'+t.join(", ")+'" do not match any of the defined signatures of function '+a+"."),r.data={category:"mismatch",actual:t.map(p)},r)}function C(e){for(var t=999,n=0;n<e.types.length;n++)x(e.types[n])&&(t=Math.min(t,e.types[n].typeIndex));return t}function S(e){for(var t=999,n=0;n<e.types.length;n++)x(e.types[n])||(t=Math.min(t,e.types[n].conversionIndex));return t}function A(e,t){var n;return n=e.restParam-t.restParam,0!==n?n:(n=y(e)-y(t),0!==n?n:(n=C(e)-C(t),0!==n?n:S(e)-S(t)))}function V(e,t){var n,r,o=Math.min(e.params.length,t.params.length);if(r=e.params.some(y)-t.params.some(y),0!==r)return r;for(n=0;n<o;n++)if(r=y(e.params[n])-y(t.params[n]),0!==r)return r;for(n=0;n<o;n++)if(r=A(e.params[n],t.params[n]),0!==r)return r;return e.params.length-t.params.length}function T(e,t){var n={};return e.forEach((function(e){-1!==t.indexOf(e.from)||-1===t.indexOf(e.to)||n[e.from]||(n[e.from]=e)})),Object.keys(n).map((function(e){return n[e]}))}function P(e,t){var n=t;if(e.some(y)){var r=b(e),o=e.map(M);n=function(){for(var e=[],n=r?arguments.length-1:arguments.length,i=0;i<n;i++)e[i]=o[i](arguments[i]);return r&&(e[n]=arguments[n].map(o[n])),t.apply(this,e)}}var i=n;if(b(e)){var a=e.length-1;i=function(){return n.apply(this,W(arguments,0,a).concat([W(arguments,a)]))}}return i}function M(e){var t,n,r,o,i=[],a=[];switch(e.types.forEach((function(e){e.conversion&&(i.push(c(e.conversion.from).test),a.push(e.conversion.convert))})),a.length){case 0:return function(e){return e};case 1:return t=i[0],r=a[0],function(e){return t(e)?r(e):e};case 2:return t=i[0],n=i[1],r=a[0],o=a[1],function(e){return t(e)?r(e):n(e)?o(e):e};default:return function(e){for(var t=0;t<a.length;t++)if(i[t](e))return a[t](e);return e}}}function B(e){var t={};return e.forEach((function(e){e.params.some(y)||D(e.params,!0).forEach((function(n){t[m(n)]=e.fn}))})),t}function D(e,t){function n(e,r,o){if(r<e.length){var i,a=e[r],s=t?a.types.filter(x):a.types;if(a.restParam){var l=s.filter(x);i=l.length<s.length?[l,s]:[s]}else i=s.map((function(e){return[e]}));return Z(i,(function(t){return n(e,r+1,o.concat([t]))}))}var c=o.map((function(t,n){return{types:t,restParam:n===e.length-1&&b(e)}}));return[c]}return n(e,0,[])}function $(e,t){for(var n=Math.max(e.params.length,t.params.length),r=0;r<n;r++){var o=w(e,r,!0),i=w(t,r,!0);if(!G(o,i))return!1}var a=e.params.length,s=t.params.length,l=b(e.params),c=b(t.params);return l?c?a===s:s>=a:c?a>=s:a===s}function F(e,r){if(0===Object.keys(r).length)throw new SyntaxError("No signatures provided");var o=[];Object.keys(r).map((function(e){return g(e,r[e],l.conversions)})).filter(H).forEach((function(e){var t=K(o,(function(t){return $(t,e)}));if(t)throw new TypeError('Conflicting signatures "'+m(t.params)+'" and "'+m(e.params)+'".');o.push(e)}));var i=Z(o,(function(e){var t=e?D(e.params,!1):[];return t.map((function(t){return{params:t,fn:e.fn}}))})).filter(H);i.sort(V);var a=i[0]&&i[0].params.length<=2&&!b(i[0].params),s=i[1]&&i[1].params.length<=2&&!b(i[1].params),c=i[2]&&i[2].params.length<=2&&!b(i[2].params),u=i[3]&&i[3].params.length<=2&&!b(i[3].params),p=i[4]&&i[4].params.length<=2&&!b(i[4].params),d=i[5]&&i[5].params.length<=2&&!b(i[5].params),f=a&&s&&c&&u&&p&&d,h=i.map((function(e){return O(e.params)})),y=a?v(i[0].params[0]):t,j=s?v(i[1].params[0]):t,w=c?v(i[2].params[0]):t,N=u?v(i[3].params[0]):t,x=p?v(i[4].params[0]):t,k=d?v(i[5].params[0]):t,E=a?v(i[0].params[1]):t,C=s?v(i[1].params[1]):t,S=c?v(i[2].params[1]):t,A=u?v(i[3].params[1]):t,T=p?v(i[4].params[1]):t,M=d?v(i[5].params[1]):t,F=i.map((function(e){return P(e.params,e.fn)})),_=a?F[0]:n,I=s?F[1]:n,L=c?F[2]:n,U=u?F[3]:n,q=p?F[4]:n,R=d?F[5]:n,z=a?i[0].params.length:-1,W=s?i[1].params.length:-1,J=c?i[2].params.length:-1,G=u?i[3].params.length:-1,Y=p?i[4].params.length:-1,X=d?i[5].params.length:-1,Q=f?6:0,ee=i.length,te=function(){for(var t=Q;t<ee;t++)if(h[t](arguments))return F[t].apply(this,arguments);return l.onMismatch(e,arguments,i)},ne=function e(t,n){return arguments.length===z&&y(t)&&E(n)?_.apply(e,arguments):arguments.length===W&&j(t)&&C(n)?I.apply(e,arguments):arguments.length===J&&w(t)&&S(n)?L.apply(e,arguments):arguments.length===G&&N(t)&&A(n)?U.apply(e,arguments):arguments.length===Y&&x(t)&&T(n)?q.apply(e,arguments):arguments.length===X&&k(t)&&M(n)?R.apply(e,arguments):te.apply(e,arguments)};try{Object.defineProperty(ne,"name",{value:e})}catch(re){}return ne.signatures=B(i),ne}function _(e,t,n){throw E(e,t,n)}function I(e){return-1===l.ignore.indexOf(e)}function L(e){return e.trim()}function U(e){return!!e}function H(e){return null!==e}function q(e){return 0===e.types.length}function R(e){return e.slice(0,e.length-1)}function z(e){return e[e.length-1]}function W(e,t,n){return Array.prototype.slice.call(e,t,n)}function J(e,t){return-1!==e.indexOf(t)}function G(e,t){for(var n=0;n<e.length;n++)if(J(t,e[n]))return!0;return!1}function K(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return e[n]}function Y(e){for(var t={},n=0;n<e.length;n++)t[e[n]]=!0;return Object.keys(t)}function Z(e,t){return Array.prototype.concat.apply([],e.map(t))}function X(e){for(var t="",n=0;n<e.length;n++){var r=e[n];if(("object"===typeof r.signatures||"string"===typeof r.signature)&&""!==r.name)if(""===t)t=r.name;else if(t!==r.name){var o=new Error("Function names do not match (expected: "+t+", actual: "+r.name+")");throw o.data={actual:r.name,expected:t},o}}return t}function Q(e){var t,n={};function r(e,r){if(n.hasOwnProperty(e)&&r!==n[e])throw t=new Error('Signature "'+e+'" is defined twice'),t.data={signature:e},t}for(var o=0;o<e.length;o++){var i=e[o];if("object"===typeof i.signatures)for(var a in i.signatures)i.signatures.hasOwnProperty(a)&&(r(a,i.signatures[a]),n[a]=i.signatures[a]);else{if("string"!==typeof i.signature)throw t=new TypeError("Function is no typed-function (index: "+o+")"),t.data={index:o},t;r(i.signature,i),n[i.signature]=i}}return n}return l=F("typed",{"string, Object":F,Object:function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(e[n]);var r=X(t);return F(r,e)},"...Function":function(e){return F(X(e),Q(e))},"string, ...Function":function(e,t){return F(e,Q(t))}}),l.create=r,l.types=o,l.conversions=s,l.ignore=a,l.onMismatch=_,l.throwMismatchError=_,l.createError=E,l.convert=f,l.find=d,l.addType=function(e,t){if(!e||"string"!==typeof e.name||"function"!==typeof e.test)throw new TypeError("Object with properties {name: string, test: function} expected");if(!1!==t)for(var n=0;n<l.types.length;n++)if("Object"===l.types[n].name)return void l.types.splice(n,0,e);l.types.push(e)},l.addConversion=function(e){if(!e||"string"!==typeof e.from||"string"!==typeof e.to||"function"!==typeof e.convert)throw new TypeError("Object with properties {from: string, to: string, convert: function} expected");l.conversions.push(e)},l}return r()}))},"8bbf":function(e,n){e.exports=t},a559:function(e,t){function n(){return e.exports=n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},e.exports.__esModule=!0,e.exports["default"]=e.exports,n.apply(this,arguments)}e.exports=n,e.exports.__esModule=!0,e.exports["default"]=e.exports},c0e2:function(e,t){function n(){}n.prototype={on:function(e,t,n){var r=this.e||(this.e={});return(r[e]||(r[e]=[])).push({fn:t,ctx:n}),this},once:function(e,t,n){var r=this;function o(){r.off(e,o),t.apply(n,arguments)}return o._=t,this.on(e,o,n)},emit:function(e){var t=[].slice.call(arguments,1),n=((this.e||(this.e={}))[e]||[]).slice(),r=0,o=n.length;for(r;r<o;r++)n[r].fn.apply(n[r].ctx,t);return this},off:function(e,t){var n=this.e||(this.e={}),r=n[e],o=[];if(r&&t)for(var i=0,a=r.length;i<a;i++)r[i].fn!==t&&r[i].fn._!==t&&o.push(r[i]);return o.length?n[e]=o:delete n[e],this}},e.exports=n,e.exports.TinyEmitter=n},fae3:function(e,t,n){"use strict";if(n.r(t),n.d(t,"expressions",(function(){return vi})),n.d(t,"FormField",(function(){return il})),n.d(t,"Field",(function(){return cl})),n.d(t,"PluginSettings",(function(){return Zl})),n.d(t,"PluginFilter",(function(){return lc})),n.d(t,"PluginManagement",(function(){return fc})),n.d(t,"PluginUpload",(function(){return yc})),n.d(t,"SaveButton",(function(){return Nc})),n.d(t,"Form",(function(){return Ec})),n.d(t,"GroupedSettings",(function(){return Cl})),n.d(t,"PluginsIntro",(function(){return Uc})),n.d(t,"ThemesIntro",(function(){return Kc})),n.d(t,"PasswordConfirmation",(function(){return Ul})),n.d(t,"PluginName",(function(){return Qc})),n.d(t,"PluginsTable",(function(){return zp})),n.d(t,"PluginsTableWithUpdates",(function(){return xd})),n.d(t,"UploadPluginDialog",(function(){return _d})),n.d(t,"InstallAllPaidPluginsButton",(function(){return Ic})),"undefined"!==typeof window){var r=window.document.currentScript,o=r&&r.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);o&&(n.p=o[1])}var i=n("a559"),a=n.n(i);function s(e){return"number"===typeof e}function l(e){return!(!e||"object"!==typeof e||"function"!==typeof e.constructor)&&(!0===e.isBigNumber&&"object"===typeof e.constructor.prototype&&!0===e.constructor.prototype.isBigNumber||"function"===typeof e.constructor.isDecimal&&!0===e.constructor.isDecimal(e))}function c(e){return e&&"object"===typeof e&&!0===Object.getPrototypeOf(e).isComplex||!1}function u(e){return e&&"object"===typeof e&&!0===Object.getPrototypeOf(e).isFraction||!1}function p(e){return e&&!0===e.constructor.prototype.isUnit||!1}function d(e){return"string"===typeof e}var f=Array.isArray;function m(e){return e&&!0===e.constructor.prototype.isMatrix||!1}function h(e){return Array.isArray(e)||m(e)}function g(e){return e&&e.isDenseMatrix&&!0===e.constructor.prototype.isMatrix||!1}function b(e){return e&&e.isSparseMatrix&&!0===e.constructor.prototype.isMatrix||!1}function y(e){return e&&!0===e.constructor.prototype.isRange||!1}function v(e){return e&&!0===e.constructor.prototype.isIndex||!1}function O(e){return"boolean"===typeof e}function j(e){return e&&!0===e.constructor.prototype.isResultSet||!1}function w(e){return e&&!0===e.constructor.prototype.isHelp||!1}function N(e){return"function"===typeof e}function x(e){return e instanceof Date}function k(e){return e instanceof RegExp}function E(e){return!(!e||"object"!==typeof e||e.constructor!==Object||c(e)||u(e))}function C(e){return null===e}function S(e){return void 0===e}function A(e){return e&&!0===e.isAccessorNode&&!0===e.constructor.prototype.isNode||!1}function V(e){return e&&!0===e.isArrayNode&&!0===e.constructor.prototype.isNode||!1}function T(e){return e&&!0===e.isAssignmentNode&&!0===e.constructor.prototype.isNode||!1}function P(e){return e&&!0===e.isBlockNode&&!0===e.constructor.prototype.isNode||!1}function M(e){return e&&!0===e.isConditionalNode&&!0===e.constructor.prototype.isNode||!1}function B(e){return e&&!0===e.isConstantNode&&!0===e.constructor.prototype.isNode||!1}function D(e){return e&&!0===e.isFunctionAssignmentNode&&!0===e.constructor.prototype.isNode||!1}function $(e){return e&&!0===e.isFunctionNode&&!0===e.constructor.prototype.isNode||!1}function F(e){return e&&!0===e.isIndexNode&&!0===e.constructor.prototype.isNode||!1}function _(e){return e&&!0===e.isNode&&!0===e.constructor.prototype.isNode||!1}function I(e){return e&&!0===e.isObjectNode&&!0===e.constructor.prototype.isNode||!1}function L(e){return e&&!0===e.isOperatorNode&&!0===e.constructor.prototype.isNode||!1}function U(e){return e&&!0===e.isParenthesisNode&&!0===e.constructor.prototype.isNode||!1}function H(e){return e&&!0===e.isRangeNode&&!0===e.constructor.prototype.isNode||!1}function q(e){return e&&!0===e.isSymbolNode&&!0===e.constructor.prototype.isNode||!1}function R(e){return e&&!0===e.constructor.prototype.isChain||!1}function z(e){var t=typeof e;return"object"===t?null===e?"null":Array.isArray(e)?"Array":e instanceof Date?"Date":e instanceof RegExp?"RegExp":l(e)?"BigNumber":c(e)?"Complex":u(e)?"Fraction":m(e)?"Matrix":p(e)?"Unit":v(e)?"Index":y(e)?"Range":j(e)?"ResultSet":_(e)?e.type:R(e)?"Chain":w(e)?"Help":"Object":"function"===t?"Function":t}function W(e){var t=typeof e;if("number"===t||"string"===t||"boolean"===t||null===e||void 0===e)return e;if("function"===typeof e.clone)return e.clone();if(Array.isArray(e))return e.map((function(e){return W(e)}));if(e instanceof Date)return new Date(e.valueOf());if(l(e))return e;if(e instanceof RegExp)throw new TypeError("Cannot clone "+e);return J(e,W)}function J(e,t){var n={};for(var r in e)Q(e,r)&&(n[r]=t(e[r]));return n}function G(e,t){if(Array.isArray(t))throw new TypeError("Arrays are not supported by deepExtend");for(var n in t)if(Q(t,n)&&!(n in Object.prototype)&&!(n in Function.prototype))if(t[n]&&t[n].constructor===Object)void 0===e[n]&&(e[n]={}),e[n]&&e[n].constructor===Object?G(e[n],t[n]):e[n]=t[n];else{if(Array.isArray(t[n]))throw new TypeError("Arrays are not supported by deepExtend");e[n]=t[n]}return e}function K(e,t){var n,r,o;if(Array.isArray(e)){if(!Array.isArray(t))return!1;if(e.length!==t.length)return!1;for(r=0,o=e.length;r<o;r++)if(!K(e[r],t[r]))return!1;return!0}if("function"===typeof e)return e===t;if(e instanceof Object){if(Array.isArray(t)||!(t instanceof Object))return!1;for(n in e)if(!(n in t)||!K(e[n],t[n]))return!1;for(n in t)if(!(n in e))return!1;return!0}return e===t}function Y(e){var t={};return Z(e,t),t}function Z(e,t){for(var n in e)if(Q(e,n)){var r=e[n];"object"===typeof r&&null!==r?Z(r,t):t[n]=r}}function X(e,t,n){var r,o=!0;Object.defineProperty(e,t,{get:function(){return o&&(r=n(),o=!1),r},set:function(e){r=e,o=!1},configurable:!0,enumerable:!0})}function Q(e,t){return e&&Object.hasOwnProperty.call(e,t)}function ee(e){return e&&"function"===typeof e.factory}function te(e,t){for(var n={},r=0;r<t.length;r++){var o=t[r],i=e[o];void 0!==i&&(n[o]=i)}return n}function ne(e){return Object.keys(e).map(t=>e[t])}var re=n("c0e2"),oe=n.n(re);function ie(e){var t=new oe.a;return e.on=t.on.bind(t),e.off=t.off.bind(t),e.once=t.once.bind(t),e.emit=t.emit.bind(t),e}function ae(e){return"boolean"===typeof e||!!isFinite(e)&&e===Math.round(e)}var se=Math.sign||function(e){return e>0?1:e<0?-1:0},le=Math.log2||function(e){return Math.log(e)/Math.LN2},ce=Math.log10||function(e){return Math.log(e)/Math.LN10},ue=Math.log1p||function(e){return Math.log(e+1)},pe=Math.cbrt||function(e){if(0===e)return e;var t,n=e<0;return n&&(e=-e),isFinite(e)?(t=Math.exp(Math.log(e)/3),t=(e/(t*t)+2*t)/3):t=e,n?-t:t},de=Math.expm1||function(e){return e>=2e-4||e<=-2e-4?Math.exp(e)-1:e+e*e/2+e*e*e/6};function fe(e,t,n){var r={2:"0b",8:"0o",16:"0x"},o=r[t],i="";if(n){if(n<1)throw new Error("size must be in greater than 0");if(!ae(n))throw new Error("size must be an integer");if(e>2**(n-1)-1||e<-(2**(n-1)))throw new Error("Value must be in range [-2^".concat(n-1,", 2^").concat(n-1,"-1]"));if(!ae(e))throw new Error("Value must be an integer");e<0&&(e+=2**n),i="i".concat(n)}var a="";return e<0&&(e=-e,a="-"),"".concat(a).concat(o).concat(e.toString(t)).concat(i)}function me(e,t){if("function"===typeof t)return t(e);if(e===1/0)return"Infinity";if(e===-1/0)return"-Infinity";if(isNaN(e))return"NaN";var n,r,o="auto";if(t&&(t.notation&&(o=t.notation),s(t)?n=t:s(t.precision)&&(n=t.precision),t.wordSize&&(r=t.wordSize,"number"!==typeof r)))throw new Error('Option "wordSize" must be a number');switch(o){case"fixed":return be(e,n);case"exponential":return ye(e,n);case"engineering":return ge(e,n);case"bin":return fe(e,2,r);case"oct":return fe(e,8,r);case"hex":return fe(e,16,r);case"auto":return ve(e,n,t&&t).replace(/((\.\d*?)(0+))($|e)/,(function(){var e=arguments[2],t=arguments[4];return"."!==e?e+t:t}));default:throw new Error('Unknown notation "'+o+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function he(e){var t=String(e).toLowerCase().match(/^(-?)(\d+\.?\d*)(e([+-]?\d+))?$/);if(!t)throw new SyntaxError("Invalid number "+e);var n=t[1],r=t[2],o=parseFloat(t[4]||"0"),i=r.indexOf(".");o+=-1!==i?i-1:r.length-1;var a=r.replace(".","").replace(/^0*/,(function(e){return o-=e.length,""})).replace(/0*$/,"").split("").map((function(e){return parseInt(e)}));return 0===a.length&&(a.push(0),o++),{sign:n,coefficients:a,exponent:o}}function ge(e,t){if(isNaN(e)||!isFinite(e))return String(e);var n=he(e),r=Oe(n,t),o=r.exponent,i=r.coefficients,a=o%3===0?o:o<0?o-3-o%3:o-o%3;if(s(t))while(t>i.length||o-a+1>i.length)i.push(0);else for(var l=Math.abs(o-a)-(i.length-1),c=0;c<l;c++)i.push(0);var u=Math.abs(o-a),p=1;while(u>0)p++,u--;var d=i.slice(p).join(""),f=s(t)&&d.length||d.match(/[1-9]/)?"."+d:"",m=i.slice(0,p).join("")+f+"e"+(o>=0?"+":"")+a.toString();return r.sign+m}function be(e,t){if(isNaN(e)||!isFinite(e))return String(e);var n=he(e),r="number"===typeof t?Oe(n,n.exponent+1+t):n,o=r.coefficients,i=r.exponent+1,a=i+(t||0);return o.length<a&&(o=o.concat(je(a-o.length))),i<0&&(o=je(1-i).concat(o),i=1),i<o.length&&o.splice(i,0,0===i?"0.":"."),r.sign+o.join("")}function ye(e,t){if(isNaN(e)||!isFinite(e))return String(e);var n=he(e),r=t?Oe(n,t):n,o=r.coefficients,i=r.exponent;o.length<t&&(o=o.concat(je(t-o.length)));var a=o.shift();return r.sign+a+(o.length>0?"."+o.join(""):"")+"e"+(i>=0?"+":"")+i}function ve(e,t,n){if(isNaN(e)||!isFinite(e))return String(e);var r=n&&void 0!==n.lowerExp?n.lowerExp:-3,o=n&&void 0!==n.upperExp?n.upperExp:5,i=he(e),a=t?Oe(i,t):i;if(a.exponent<r||a.exponent>=o)return ye(e,t);var s=a.coefficients,l=a.exponent;s.length<t&&(s=s.concat(je(t-s.length))),s=s.concat(je(l-s.length+1+(s.length<t?t-s.length:0))),s=je(-l).concat(s);var c=l>0?l:0;return c<s.length-1&&s.splice(c+1,0,"."),a.sign+s.join("")}function Oe(e,t){var n={sign:e.sign,coefficients:e.coefficients,exponent:e.exponent},r=n.coefficients;while(t<=0)r.unshift(0),n.exponent++,t++;if(r.length>t){var o=r.splice(t,r.length-t);if(o[0]>=5){var i=t-1;r[i]++;while(10===r[i])r.pop(),0===i&&(r.unshift(0),n.exponent++,i++),i--,r[i]++}}return n}function je(e){for(var t=[],n=0;n<e;n++)t.push(0);return t}function we(e){return e.toExponential().replace(/e.*$/,"").replace(/^0\.?0*|\./,"").length}Number.EPSILON;var Ne=Math.acosh||function(e){return Math.log(Math.sqrt(e*e-1)+e)},xe=Math.asinh||function(e){return Math.log(Math.sqrt(e*e+1)+e)},ke=Math.atanh||function(e){return Math.log((1+e)/(1-e))/2},Ee=Math.cosh||function(e){return(Math.exp(e)+Math.exp(-e))/2},Ce=Math.sinh||function(e){return(Math.exp(e)-Math.exp(-e))/2},Se=Math.tanh||function(e){var t=Math.exp(2*e);return(t-1)/(t+1)};function Ae(e,t,n){var r=e.constructor,o=new r(2),i="";if(n){if(n<1)throw new Error("size must be in greater than 0");if(!ae(n))throw new Error("size must be an integer");if(e.greaterThan(o.pow(n-1).sub(1))||e.lessThan(o.pow(n-1).mul(-1)))throw new Error("Value must be in range [-2^".concat(n-1,", 2^").concat(n-1,"-1]"));if(!e.isInteger())throw new Error("Value must be an integer");e.lessThan(0)&&(e=e.add(o.pow(n))),i="i".concat(n)}switch(t){case 2:return"".concat(e.toBinary()).concat(i);case 8:return"".concat(e.toOctal()).concat(i);case 16:return"".concat(e.toHexadecimal()).concat(i);default:throw new Error("Base ".concat(t," not supported "))}}function Ve(e,t){if("function"===typeof t)return t(e);if(!e.isFinite())return e.isNaN()?"NaN":e.gt(0)?"Infinity":"-Infinity";var n,r,o="auto";if(void 0!==t&&(t.notation&&(o=t.notation),"number"===typeof t?n=t:t.precision&&(n=t.precision),t.wordSize&&(r=t.wordSize,"number"!==typeof r)))throw new Error('Option "wordSize" must be a number');switch(o){case"fixed":return Me(e,n);case"exponential":return Pe(e,n);case"engineering":return Te(e,n);case"bin":return Ae(e,2,r);case"oct":return Ae(e,8,r);case"hex":return Ae(e,16,r);case"auto":var i,a=t&&void 0!==t.lowerExp?t.lowerExp:-3,s=t&&void 0!==t.upperExp?t.upperExp:5;if(e.isZero())return"0";var l=e.toSignificantDigits(n),c=l.e;return i=c>=a&&c<s?l.toFixed():Pe(e,n),i.replace(/((\.\d*?)(0+))($|e)/,(function(){var e=arguments[2],t=arguments[4];return"."!==e?e+t:t}));default:throw new Error('Unknown notation "'+o+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function Te(e,t){var n=e.e,r=n%3===0?n:n<0?n-3-n%3:n-n%3,o=e.mul(Math.pow(10,-r)),i=o.toPrecision(t);return-1!==i.indexOf("e")&&(i=o.toString()),i+"e"+(n>=0?"+":"")+r.toString()}function Pe(e,t){return void 0!==t?e.toExponential(t-1):e.toExponential()}function Me(e,t){return e.toFixed(t)}function Be(e,t){var n=De(e,t);return t&&"object"===typeof t&&"truncate"in t&&n.length>t.truncate?n.substring(0,t.truncate-3)+"...":n}function De(e,t){if("number"===typeof e)return me(e,t);if(l(e))return Ve(e,t);if(Ie(e))return t&&"decimal"===t.fraction?e.toString():e.s*e.n+"/"+e.d;if(Array.isArray(e))return _e(e,t);if(d(e))return'"'+e+'"';if("function"===typeof e)return e.syntax?String(e.syntax):"function";if(e&&"object"===typeof e){if("function"===typeof e.format)return e.format(t);if(e&&e.toString(t)!=={}.toString())return e.toString(t);var n=Object.keys(e).map(n=>'"'+n+'": '+Be(e[n],t));return"{"+n.join(", ")+"}"}return String(e)}function $e(e){var t=String(e),n="",r=0;while(r<t.length){var o=t.charAt(r);"\\"===o?(n+=o,r++,o=t.charAt(r),""!==o&&-1!=='"\\/bfnrtu'.indexOf(o)||(n+="\\"),n+=o):n+='"'===o?'\\"':o,r++}return'"'+n+'"'}function Fe(e){var t=String(e);return t=t.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),t}function _e(e,t){if(Array.isArray(e)){for(var n="[",r=e.length,o=0;o<r;o++)0!==o&&(n+=", "),n+=_e(e[o],t);return n+="]",n}return Be(e,t)}function Ie(e){return e&&"object"===typeof e&&"number"===typeof e.s&&"number"===typeof e.n&&"number"===typeof e.d||!1}function Le(e,t,n){if(!(this instanceof Le))throw new SyntaxError("Constructor must be called with the new operator");this.actual=e,this.expected=t,this.relation=n,this.message="Dimension mismatch ("+(Array.isArray(e)?"["+e.join(", ")+"]":e)+" "+(this.relation||"!=")+" "+(Array.isArray(t)?"["+t.join(", ")+"]":t)+")",this.stack=(new Error).stack}function Ue(e,t,n){if(!(this instanceof Ue))throw new SyntaxError("Constructor must be called with the new operator");this.index=e,arguments.length<3?(this.min=0,this.max=t):(this.min=t,this.max=n),void 0!==this.min&&this.index<this.min?this.message="Index out of range ("+this.index+" < "+this.min+")":void 0!==this.max&&this.index>=this.max?this.message="Index out of range ("+this.index+" > "+(this.max-1)+")":this.message="Index out of range ("+this.index+")",this.stack=(new Error).stack}function He(e){var t=[];while(Array.isArray(e))t.push(e.length),e=e[0];return t}function qe(e,t){return Array.prototype.map.call(e,t)}function Re(e,t){Array.prototype.forEach.call(e,t)}function ze(e,t){return Array.prototype.join.call(e,t)}function We(e,t){return-1!==e.indexOf(t)}function Je(e,t,n,r){function o(r){var o=te(r,t.map(Ze));return Ke(e,t,r),n(o)}return o.isFactory=!0,o.fn=e,o.dependencies=t.slice().sort(),r&&(o.meta=r),o}function Ge(e){return"function"===typeof e&&"string"===typeof e.fn&&Array.isArray(e.dependencies)}function Ke(e,t,n){var r=t.filter(e=>!Ye(e)).every(e=>void 0!==n[e]);if(!r){var o=t.filter(e=>void 0===n[e]);throw new Error('Cannot create function "'.concat(e,'", ')+"some dependencies are missing: ".concat(o.map(e=>'"'.concat(e,'"')).join(", "),"."))}}function Ye(e){return e&&"?"===e[0]}function Ze(e){return e&&"?"===e[0]?e.slice(1):e}function Xe(e,t,n,r){if(!(this instanceof Xe))throw new SyntaxError("Constructor must be called with the new operator");this.fn=e,this.count=t,this.min=n,this.max=r,this.message="Wrong number of arguments in function "+e+" ("+t+" provided, "+n+(void 0!==r&&null!==r?"-"+r:"")+" expected)",this.stack=(new Error).stack}function Qe(e,t,n,r){function o(e,t){var n=arguments.length;if(1!==n&&2!==n)throw new Xe("import",n,1,2);function r(e,n,o){if(Array.isArray(n))n.forEach(t=>r(e,t));else if("object"===typeof n)for(var i in n)Q(n,i)&&r(e,n[i],i);else if(Ge(n)||void 0!==o){var a=Ge(n)?O(n)?n.fn+".transform":n.fn:o;if(Q(e,a)&&e[a]!==n&&!t.silent)throw new Error('Cannot import "'+a+'" twice');e[a]=n}else if(!t.silent)throw new TypeError("Factory, Object, or Array expected")}t||(t={});var o={};for(var a in r(o,e),o)if(Q(o,a)){var s=o[a];if(Ge(s))f(s,t);else if(h(s))i(a,s,t);else if(!t.silent)throw new TypeError("Factory, Object, or Array expected")}}function i(t,o,i){if(i.wrap&&"function"===typeof o&&(o=d(o)),b(o)&&(o=e(t,{[o.signature]:o})),g(n[t])&&g(o))return o=i.override?e(t,o.signatures):e(n[t],o),n[t]=o,delete r[t],a(t,o),void n.emit("import",t,(function(){return o}));if(void 0===n[t]||i.override)return n[t]=o,delete r[t],a(t,o),void n.emit("import",t,(function(){return o}));if(!i.silent)throw new Error('Cannot import "'+t+'": already exists')}function a(e,t){t&&"function"===typeof t.transform?(n.expression.transform[e]=t.transform,y(e)&&(n.expression.mathWithTransform[e]=t.transform)):(delete n.expression.transform[e],y(e)&&(n.expression.mathWithTransform[e]=t))}function s(e){delete n.expression.transform[e],y(e)?n.expression.mathWithTransform[e]=n[e]:delete n.expression.mathWithTransform[e]}function d(e){var t=function(){for(var t=[],r=0,o=arguments.length;r<o;r++){var i=arguments[r];t[r]=i&&i.valueOf()}return e.apply(n,t)};return e.transform&&(t.transform=e.transform),t}function f(t,o){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.fn;if(We(i,"."))throw new Error("Factory name should not contain a nested path. Name: "+JSON.stringify(i));var a=O(t)?n.expression.transform:n,l=i in n.expression.transform,c=Q(a,i)?a[i]:void 0,u=function(){var r={};t.dependencies.map(Ze).forEach(e=>{if(We(e,"."))throw new Error("Factory dependency should not contain a nested path. Name: "+JSON.stringify(e));"math"===e?r.math=n:"mathWithTransform"===e?r.mathWithTransform=n.expression.mathWithTransform:"classes"===e?r.classes=n:r[e]=n[e]});var a=t(r);if(a&&"function"===typeof a.transform)throw new Error('Transforms cannot be attached to factory functions. Please create a separate function for it with exports.path="expression.transform"');if(void 0===c||o.override)return a;if(g(c)&&g(a))return e(c,a);if(o.silent)return c;throw new Error('Cannot import "'+i+'": already exists')};t.meta&&!1===t.meta.lazy?(a[i]=u(),c&&l?s(i):(O(t)||v(t))&&X(n.expression.mathWithTransform,i,()=>a[i])):(X(a,i,u),c&&l?s(i):(O(t)||v(t))&&X(n.expression.mathWithTransform,i,()=>a[i])),r[i]=t,n.emit("import",i,u)}function h(e){return"function"===typeof e||"number"===typeof e||"string"===typeof e||"boolean"===typeof e||null===e||p(e)||c(e)||l(e)||u(e)||m(e)||Array.isArray(e)}function g(e){return"function"===typeof e&&"object"===typeof e.signatures}function b(e){return"function"===typeof e&&"string"===typeof e.signature}function y(e){return!Q(j,e)}function v(e){return-1===e.fn.indexOf(".")&&!Q(j,e.fn)&&(!e.meta||!e.meta.isClass)}function O(e){return void 0!==e&&void 0!==e.meta&&!0===e.meta.isTransformFunction||!1}var j={expression:!0,type:!0,docs:!0,error:!0,json:!0,chain:!0};return o}Le.prototype=new RangeError,Le.prototype.constructor=RangeError,Le.prototype.name="DimensionError",Le.prototype.isDimensionError=!0,Ue.prototype=new RangeError,Ue.prototype.constructor=RangeError,Ue.prototype.name="IndexError",Ue.prototype.isIndexError=!0,Xe.prototype=new Error,Xe.prototype.constructor=Error,Xe.prototype.name="ArgumentsError",Xe.prototype.isArgumentsError=!0;var et={epsilon:1e-12,matrix:"Matrix",number:"number",precision:64,predictable:!1,randomSeed:null},tt=["Matrix","Array"],nt=["number","BigNumber","Fraction"];function rt(e,t){function n(n){if(n){var r=J(e,W);it(n,"matrix",tt),it(n,"number",nt),G(e,n);var o=J(e,W),i=J(n,W);return t("config",o,r,i),o}return J(e,W)}return n.MATRIX_OPTIONS=tt,n.NUMBER_OPTIONS=nt,Object.keys(et).forEach(t=>{Object.defineProperty(n,t,{get:()=>e[t],enumerable:!0,configurable:!0})}),n}function ot(e,t){return-1!==e.indexOf(t)}function it(e,t,n){void 0===e[t]||ot(n,e[t])||console.warn('Warning: Unknown value "'+e[t]+'" for configuration option "'+t+'". Available options: '+n.map(e=>JSON.stringify(e)).join(", ")+".")}function at(e,t){var n=a()({},et,t);if("function"!==typeof Object.create)throw new Error("ES5 not supported by this JavaScript engine. Please load the es5-shim and es5-sham library for compatibility.");var r=ie({isNumber:s,isComplex:c,isBigNumber:l,isFraction:u,isUnit:p,isString:d,isArray:f,isMatrix:m,isCollection:h,isDenseMatrix:g,isSparseMatrix:b,isRange:y,isIndex:v,isBoolean:O,isResultSet:j,isHelp:w,isFunction:N,isDate:x,isRegExp:k,isObject:E,isNull:C,isUndefined:S,isAccessorNode:A,isArrayNode:V,isAssignmentNode:T,isBlockNode:P,isConditionalNode:M,isConstantNode:B,isFunctionAssignmentNode:D,isFunctionNode:$,isIndexNode:F,isNode:_,isObjectNode:I,isOperatorNode:L,isParenthesisNode:U,isRangeNode:H,isSymbolNode:q,isChain:R});r.config=rt(n,r.emit),r.expression={transform:{},mathWithTransform:{config:r.config}};var o=[],i=[];function z(e){if(Ge(e))return e(r);var t=e[Object.keys(e)[0]];if(Ge(t))return t(r);if(!ee(e))throw console.warn("Factory object with properties `type`, `name`, and `factory` expected",e),new Error("Factory object with properties `type`, `name`, and `factory` expected");var a,s=o.indexOf(e);return-1===s?(a=!0===e.math?e.factory(r.type,n,z,r.typed,r):e.factory(r.type,n,z,r.typed),o.push(e),i.push(a)):a=i[s],a}var W={};function J(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return r.typed.apply(r.typed,t)}var G=Qe(J,z,r,W);return r.import=G,r.on("config",()=>{ne(W).forEach(e=>{e&&e.meta&&e.meta.recreateOnConfigChange&&G(e,{override:!0})})}),r.create=at.bind(null,e),r.factory=Je,r.import(ne(Y(e))),r.ArgumentsError=Xe,r.DimensionError=Le,r.IndexError=Ue,r}var st=new Set(["end"]);function lt(e,t){if(mt(e)&&pt(e,t))return e[t];if("function"===typeof e[t]&&ft(e,t))throw new Error('Cannot access method "'+t+'" as a property');throw new Error('No access to property "'+t+'"')}function ct(e,t,n){if(mt(e)&&pt(e,t))return e[t]=n,n;throw new Error('No access to property "'+t+'"')}function ut(e,t){return t in e}function pt(e,t){return!(!e||"object"!==typeof e)&&(!!Q(ht,t)||!(t in Object.prototype)&&!(t in Function.prototype))}function dt(e,t){if(!ft(e,t))throw new Error('No access to method "'+t+'"')}function ft(e,t){return null!==e&&void 0!==e&&"function"===typeof e[t]&&(!(Q(e,t)&&Object.getPrototypeOf&&t in Object.getPrototypeOf(e))&&(!!Q(gt,t)||!(t in Object.prototype)&&!(t in Function.prototype)))}function mt(e){return"object"===typeof e&&e&&e.constructor===Object}var ht={length:!0,name:!0},gt={toString:!0,valueOf:!0,toLocaleString:!0};class bt{constructor(e){this.wrappedObject=e}keys(){return Object.keys(this.wrappedObject)}get(e){return lt(this.wrappedObject,e)}set(e,t){return ct(this.wrappedObject,e,t),this}has(e){return ut(this.wrappedObject,e)}}function yt(){return new Map}function vt(e){if(!e)return yt();if(Ot(e))return e;if(E(e))return new bt(e);throw new Error("createMap can create maps from objects or Maps")}function Ot(e){return!!e&&(e instanceof Map||e instanceof bt||"function"===typeof e.set&&"function"===typeof e.get&&"function"===typeof e.keys&&"function"===typeof e.has)}function jt(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var o of n)if(o)if(Ot(o))for(var i of o.keys())e.set(i,o.get(i));else if(E(o))for(var a of Object.keys(o))e.set(a,o[a]);return e}var wt="Node",Nt=["mathWithTransform"],xt=Je(wt,Nt,e=>{var{mathWithTransform:t}=e;function n(){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator")}function r(e){for(var t of[...st])if(e.has(t))throw new Error('Scope contains an illegal symbol, "'+t+'" is a reserved keyword')}return n.prototype.evaluate=function(e){return this.compile().evaluate(e)},n.prototype.type="Node",n.prototype.isNode=!0,n.prototype.comment="",n.prototype.compile=function(){var e=this._compile(t,{}),n={},o=null;function i(t){var i=vt(t);return r(i),e(i,n,o)}return{evaluate:i}},n.prototype._compile=function(e,t){throw new Error("Method _compile should be implemented by type "+this.type)},n.prototype.forEach=function(e){throw new Error("Cannot run forEach on a Node interface")},n.prototype.map=function(e){throw new Error("Cannot run map on a Node interface")},n.prototype._ifNode=function(e){if(!_(e))throw new TypeError("Callback function must return a Node");return e},n.prototype.traverse=function(e){function t(e,n){e.forEach((function(e,r,o){n(e,r,o),t(e,n)}))}e(this,null,null),t(this,e)},n.prototype.transform=function(e){function t(n,r,o){var i=e(n,r,o);return i!==n?i:n.map(t)}return t(this,null,null)},n.prototype.filter=function(e){var t=[];return this.traverse((function(n,r,o){e(n,r,o)&&t.push(n)})),t},n.prototype.clone=function(){throw new Error("Cannot clone a Node interface")},n.prototype.cloneDeep=function(){return this.map((function(e){return e.cloneDeep()}))},n.prototype.equals=function(e){return!!e&&K(this,e)},n.prototype.toString=function(e){var t=this._getCustomString(e);return"undefined"!==typeof t?t:this._toString(e)},n.prototype.toJSON=function(){throw new Error("Cannot serialize object: toJSON not implemented by "+this.type)},n.prototype.toHTML=function(e){var t=this._getCustomString(e);return"undefined"!==typeof t?t:this.toHTML(e)},n.prototype._toString=function(){throw new Error("_toString not implemented for "+this.type)},n.prototype.toTex=function(e){var t=this._getCustomString(e);return"undefined"!==typeof t?t:this._toTex(e)},n.prototype._toTex=function(e){throw new Error("_toTex not implemented for "+this.type)},n.prototype._getCustomString=function(e){if(e&&"object"===typeof e)switch(typeof e.handler){case"object":case"undefined":return;case"function":return e.handler(this,e);default:throw new TypeError("Object or function expected as callback")}},n.prototype.getIdentifier=function(){return this.type},n.prototype.getContent=function(){return this},n},{isClass:!0,isNode:!0}),kt={createNode:xt},Et="number",Ct="number, number";function St(e){return Math.abs(e)}function At(e,t){return e+t}function Vt(e,t){return e-t}function Tt(e,t){return e*t}function Pt(e,t){return e/t}function Mt(e){return-e}function Bt(e){return e}function Dt(e){return pe(e)}function $t(e){return e*e*e}function Ft(e){return Math.exp(e)}function _t(e){return de(e)}function It(e,t){if(!ae(e)||!ae(t))throw new Error("Parameters in function gcd must be integer numbers");var n;while(0!==t)n=e%t,e=t,t=n;return e<0?-e:e}function Lt(e,t){if(!ae(e)||!ae(t))throw new Error("Parameters in function lcm must be integer numbers");if(0===e||0===t)return 0;var n,r=e*t;while(0!==t)n=t,t=e%n,e=n;return Math.abs(r/e)}function Ut(e){return ce(e)}function Ht(e){return le(e)}function qt(e){return ue(e)}function Rt(e,t){if(t>0)return e-t*Math.floor(e/t);if(0===t)return e;throw new Error("Cannot calculate mod for a negative divisor")}function zt(e){return se(e)}function Wt(e){return Math.sqrt(e)}function Jt(e){return e*e}function Gt(e,t){var n,r,o,i,a=0,s=1,l=1,c=0;if(!ae(e)||!ae(t))throw new Error("Parameters in function xgcd must be integer numbers");while(t)r=Math.floor(e/t),o=e-r*t,n=a,a=s-r*a,s=n,n=l,l=c-r*l,c=n,e=t,t=o;return i=e<0?[-e,-s,-c]:[e,e?s:0,c],i}function Kt(e,t){return e*e<1&&t===1/0||e*e>1&&t===-1/0?0:Math.pow(e,t)}function Yt(e){return Math.abs(e)}St.signature=Et,At.signature=Ct,Vt.signature=Ct,Tt.signature=Ct,Pt.signature=Ct,Mt.signature=Et,Bt.signature=Et,Dt.signature=Et,$t.signature=Et,Ft.signature=Et,_t.signature=Et,It.signature=Ct,Lt.signature=Ct,Ut.signature=Et,Ht.signature=Et,qt.signature=Et,Rt.signature=Ct,zt.signature=Et,Wt.signature=Et,Jt.signature=Et,Gt.signature=Ct,Kt.signature=Ct,Yt.signature=Et;var Zt="number",Xt="number, number";function Qt(e,t){if(!ae(e)||!ae(t))throw new Error("Integers expected in function bitAnd");return e&t}function en(e){if(!ae(e))throw new Error("Integer expected in function bitNot");return~e}function tn(e,t){if(!ae(e)||!ae(t))throw new Error("Integers expected in function bitOr");return e|t}function nn(e,t){if(!ae(e)||!ae(t))throw new Error("Integers expected in function bitXor");return e^t}function rn(e,t){if(!ae(e)||!ae(t))throw new Error("Integers expected in function leftShift");return e<<t}function on(e,t){if(!ae(e)||!ae(t))throw new Error("Integers expected in function rightArithShift");return e>>t}function an(e,t){if(!ae(e)||!ae(t))throw new Error("Integers expected in function rightLogShift");return e>>>t}Qt.signature=Xt,en.signature=Zt,tn.signature=Xt,nn.signature=Xt,rn.signature=Xt,on.signature=Xt,an.signature=Xt;var sn="number",ln="number, number";function cn(e){return!e}function un(e,t){return!(!e&&!t)}function pn(e,t){return!!e!==!!t}function dn(e,t){return!(!e||!t)}function fn(e,t){if(t<e)return 1;if(t===e)return t;var n=t+e>>1;return fn(e,n)*fn(n+1,t)}function mn(e,t){if(!ae(e)||e<0)throw new TypeError("Positive integer value expected in function combinations");if(!ae(t)||t<0)throw new TypeError("Positive integer value expected in function combinations");if(t>e)throw new TypeError("k must be less than or equal to n");for(var n=e-t,r=1,o=t<n?n+1:t+1,i=2,a=t<n?t:n,s=o;s<=e;++s){r*=s;while(i<=a&&r%i===0)r/=i,++i}return i<=a&&(r/=fn(i,a)),r}function hn(e){var t;if(ae(e))return e<=0?isFinite(e)?1/0:NaN:e>171?1/0:fn(1,e-1);if(e<.5)return Math.PI/(Math.sin(Math.PI*e)*hn(1-e));if(e>=171.35)return 1/0;if(e>85){var n=e*e,r=n*e,o=r*e,i=o*e;return Math.sqrt(2*Math.PI/e)*Math.pow(e/Math.E,e)*(1+1/(12*e)+1/(288*n)-139/(51840*r)-571/(2488320*o)+163879/(209018880*i)+5246819/(75246796800*i*e))}--e,t=bn[0];for(var a=1;a<bn.length;++a)t+=bn[a]/(e+a);var s=e+gn+.5;return Math.sqrt(2*Math.PI)*Math.pow(s,e+.5)*Math.exp(-s)*t}cn.signature=sn,un.signature=ln,pn.signature=ln,dn.signature=ln,mn.signature="number, number",hn.signature="number";var gn=4.7421875,bn=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-9837447530487956e-20,.0001580887032249125,-.00021026444172410488,.00021743961811521265,-.0001643181065367639,8441822398385275e-20,-26190838401581408e-21,36899182659531625e-22],yn=.9189385332046728,vn=5,On=7,jn=[1.000000000190015,76.18009172947146,-86.50532032941678,24.01409824083091,-1.231739572450155,.001208650973866179,-5395239384953e-18];function wn(e){if(e<0)return NaN;if(0===e)return 1/0;if(!isFinite(e))return e;if(e<.5)return Math.log(Math.PI/Math.sin(Math.PI*e))-wn(1-e);e-=1;for(var t=e+vn+.5,n=jn[0],r=On-1;r>=1;r--)n+=jn[r]/(e+r);return yn+(e+.5)*Math.log(t)-t+Math.log(n)}wn.signature="number";var Nn="number",xn="number, number";function kn(e){return Math.acos(e)}function En(e){return Ne(e)}function Cn(e){return Math.atan(1/e)}function Sn(e){return isFinite(e)?(Math.log((e+1)/e)+Math.log(e/(e-1)))/2:0}function An(e){return Math.asin(1/e)}function Vn(e){var t=1/e;return Math.log(t+Math.sqrt(t*t+1))}function Tn(e){return Math.acos(1/e)}function Pn(e){var t=1/e,n=Math.sqrt(t*t-1);return Math.log(n+t)}function Mn(e){return Math.asin(e)}function Bn(e){return xe(e)}function Dn(e){return Math.atan(e)}function $n(e,t){return Math.atan2(e,t)}function Fn(e){return ke(e)}function _n(e){return Math.cos(e)}function In(e){return Ee(e)}function Ln(e){return 1/Math.tan(e)}function Un(e){var t=Math.exp(2*e);return(t+1)/(t-1)}function Hn(e){return 1/Math.sin(e)}function qn(e){return 0===e?Number.POSITIVE_INFINITY:Math.abs(2/(Math.exp(e)-Math.exp(-e)))*se(e)}function Rn(e){return 1/Math.cos(e)}function zn(e){return 2/(Math.exp(e)+Math.exp(-e))}function Wn(e){return Math.sin(e)}function Jn(e){return Ce(e)}function Gn(e){return Math.tan(e)}function Kn(e){return Se(e)}kn.signature=Nn,En.signature=Nn,Cn.signature=Nn,Sn.signature=Nn,An.signature=Nn,Vn.signature=Nn,Tn.signature=Nn,Pn.signature=Nn,Mn.signature=Nn,Bn.signature=Nn,Dn.signature=Nn,$n.signature=xn,Fn.signature=Nn,_n.signature=Nn,In.signature=Nn,Ln.signature=Nn,Un.signature=Nn,Hn.signature=Nn,qn.signature=Nn,Rn.signature=Nn,zn.signature=Nn,Wn.signature=Nn,Jn.signature=Nn,Gn.signature=Nn,Kn.signature=Nn;var Yn="number";function Zn(e){return ae(e)}function Xn(e){return e<0}function Qn(e){return e>0}function er(e){return 0===e}function tr(e){return Number.isNaN(e)}function nr(){throw new Error('No "bignumber" implementation available')}function rr(){throw new Error('No "fraction" implementation available')}function or(){throw new Error('No "matrix" implementation available')}function ir(){throw new Error('No "matrix" implementation available')}Zn.signature=Yn,Xn.signature=Yn,Qn.signature=Yn,er.signature=Yn,tr.signature=Yn;var ar=Je("matrix",[],()=>or),sr=Je("subset",[],()=>ir);lr("combinations",mn),lr("gamma",hn),lr("lgamma",wn);function lr(e,t){return Je(e,["typed"],e=>{var{typed:n}=e;return n(t)})}var cr={createSubset:sr};function ur(e){return e&&e.isIndexError?new Ue(e.index+1,e.min+1,void 0!==e.max?e.max+1:void 0):e}function pr(e){var{subset:t}=e;return function(e,n){try{if(Array.isArray(e))return t(e,n);if(e&&"function"===typeof e.subset)return e.subset(n);if("string"===typeof e)return t(e,n);if("object"===typeof e){if(!n.isObjectProperty())throw new TypeError("Cannot apply a numeric index as object property");return lt(e,n.getObjectProperty())}throw new TypeError("Cannot apply index: unsupported type of object")}catch(r){throw ur(r)}}}var dr="AccessorNode",fr=["subset","Node"],mr=Je(dr,fr,e=>{var{subset:t,Node:n}=e,r=pr({subset:t});function o(e,t){if(!(this instanceof o))throw new SyntaxError("Constructor must be called with the new operator");if(!_(e))throw new TypeError('Node expected for parameter "object"');if(!F(t))throw new TypeError('IndexNode expected for parameter "index"');this.object=e||null,this.index=t,Object.defineProperty(this,"name",{get:function(){return this.index?this.index.isObjectProperty()?this.index.getObjectProperty():"":this.object.name||""}.bind(this),set:function(){throw new Error("Cannot assign a new name, name is read-only")}})}function i(e){return!(A(e)||V(e)||B(e)||$(e)||I(e)||U(e)||q(e))}return o.prototype=new n,o.prototype.type="AccessorNode",o.prototype.isAccessorNode=!0,o.prototype._compile=function(e,t){var n=this.object._compile(e,t),o=this.index._compile(e,t);if(this.index.isObjectProperty()){var i=this.index.getObjectProperty();return function(e,t,r){return lt(n(e,t,r),i)}}return function(e,t,i){var a=n(e,t,i),s=o(e,t,a);return r(a,s)}},o.prototype.forEach=function(e){e(this.object,"object",this),e(this.index,"index",this)},o.prototype.map=function(e){return new o(this._ifNode(e(this.object,"object",this)),this._ifNode(e(this.index,"index",this)))},o.prototype.clone=function(){return new o(this.object,this.index)},o.prototype._toString=function(e){var t=this.object.toString(e);return i(this.object)&&(t="("+t+")"),t+this.index.toString(e)},o.prototype.toHTML=function(e){var t=this.object.toHTML(e);return i(this.object)&&(t='<span class="math-parenthesis math-round-parenthesis">(</span>'+t+'<span class="math-parenthesis math-round-parenthesis">)</span>'),t+this.index.toHTML(e)},o.prototype._toTex=function(e){var t=this.object.toTex(e);return i(this.object)&&(t="\\left(' + object + '\\right)"),t+this.index.toTex(e)},o.prototype.toJSON=function(){return{mathjs:"AccessorNode",object:this.object,index:this.index}},o.fromJSON=function(e){return new o(e.object,e.index)},o},{isClass:!0,isNode:!0}),hr={NodeDependencies:kt,subsetDependencies:cr,createAccessorNode:mr},gr="ArrayNode",br=["Node"],yr=Je(gr,br,e=>{var{Node:t}=e;function n(e){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if(this.items=e||[],!Array.isArray(this.items)||!this.items.every(_))throw new TypeError("Array containing Nodes expected")}return n.prototype=new t,n.prototype.type="ArrayNode",n.prototype.isArrayNode=!0,n.prototype._compile=function(e,t){var n=qe(this.items,(function(n){return n._compile(e,t)})),r="Array"!==e.config.matrix;if(r){var o=e.matrix;return function(e,t,r){return o(qe(n,(function(n){return n(e,t,r)})))}}return function(e,t,r){return qe(n,(function(n){return n(e,t,r)}))}},n.prototype.forEach=function(e){for(var t=0;t<this.items.length;t++){var n=this.items[t];e(n,"items["+t+"]",this)}},n.prototype.map=function(e){for(var t=[],r=0;r<this.items.length;r++)t[r]=this._ifNode(e(this.items[r],"items["+r+"]",this));return new n(t)},n.prototype.clone=function(){return new n(this.items.slice(0))},n.prototype._toString=function(e){var t=this.items.map((function(t){return t.toString(e)}));return"["+t.join(", ")+"]"},n.prototype.toJSON=function(){return{mathjs:"ArrayNode",items:this.items}},n.fromJSON=function(e){return new n(e.items)},n.prototype.toHTML=function(e){var t=this.items.map((function(t){return t.toHTML(e)}));return'<span class="math-parenthesis math-square-parenthesis">[</span>'+t.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-square-parenthesis">]</span>'},n.prototype._toTex=function(e){function t(n,r){var o=n.some(V)&&!n.every(V),i=r||o,a=i?"&":"\\\\",s=n.map((function(n){return n.items?t(n.items,!r):n.toTex(e)})).join(a);return o||!i||i&&!r?"\\begin{bmatrix}"+s+"\\end{bmatrix}":s}return t(this.items,!1)},n},{isClass:!0,isNode:!0}),vr={NodeDependencies:kt,createArrayNode:yr},Or={createMatrix:ar};function jr(e){var{subset:t,matrix:n}=e;return function(e,r,o){try{if(Array.isArray(e))return n(e).subset(r,o).valueOf();if(e&&"function"===typeof e.subset)return e.subset(r,o);if("string"===typeof e)return t(e,r,o);if("object"===typeof e){if(!r.isObjectProperty())throw TypeError("Cannot apply a numeric index as object property");return ct(e,r.getObjectProperty(),o),e}throw new TypeError("Cannot apply index: unsupported type of object")}catch(i){throw ur(i)}}}var wr=[{AssignmentNode:{},FunctionAssignmentNode:{}},{ConditionalNode:{latexLeftParens:!1,latexRightParens:!1,latexParens:!1}},{"OperatorNode:or":{associativity:"left",associativeWith:[]}},{"OperatorNode:xor":{associativity:"left",associativeWith:[]}},{"OperatorNode:and":{associativity:"left",associativeWith:[]}},{"OperatorNode:bitOr":{associativity:"left",associativeWith:[]}},{"OperatorNode:bitXor":{associativity:"left",associativeWith:[]}},{"OperatorNode:bitAnd":{associativity:"left",associativeWith:[]}},{"OperatorNode:equal":{associativity:"left",associativeWith:[]},"OperatorNode:unequal":{associativity:"left",associativeWith:[]},"OperatorNode:smaller":{associativity:"left",associativeWith:[]},"OperatorNode:larger":{associativity:"left",associativeWith:[]},"OperatorNode:smallerEq":{associativity:"left",associativeWith:[]},"OperatorNode:largerEq":{associativity:"left",associativeWith:[]},RelationalNode:{associativity:"left",associativeWith:[]}},{"OperatorNode:leftShift":{associativity:"left",associativeWith:[]},"OperatorNode:rightArithShift":{associativity:"left",associativeWith:[]},"OperatorNode:rightLogShift":{associativity:"left",associativeWith:[]}},{"OperatorNode:to":{associativity:"left",associativeWith:[]}},{RangeNode:{}},{"OperatorNode:add":{associativity:"left",associativeWith:["OperatorNode:add","OperatorNode:subtract"]},"OperatorNode:subtract":{associativity:"left",associativeWith:[]}},{"OperatorNode:multiply":{associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","Operator:dotMultiply","Operator:dotDivide"]},"OperatorNode:divide":{associativity:"left",associativeWith:[],latexLeftParens:!1,latexRightParens:!1,latexParens:!1},"OperatorNode:dotMultiply":{associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","OperatorNode:dotMultiply","OperatorNode:doDivide"]},"OperatorNode:dotDivide":{associativity:"left",associativeWith:[]},"OperatorNode:mod":{associativity:"left",associativeWith:[]}},{"OperatorNode:unaryPlus":{associativity:"right"},"OperatorNode:unaryMinus":{associativity:"right"},"OperatorNode:bitNot":{associativity:"right"},"OperatorNode:not":{associativity:"right"}},{"OperatorNode:pow":{associativity:"right",associativeWith:[],latexRightParens:!1},"OperatorNode:dotPow":{associativity:"right",associativeWith:[]}},{"OperatorNode:factorial":{associativity:"left"}},{"OperatorNode:transpose":{associativity:"left"}}];function Nr(e,t){var n=e;"keep"!==t&&(n=e.getContent());for(var r=n.getIdentifier(),o=0;o<wr.length;o++)if(r in wr[o])return o;return null}function xr(e,t){var n=e;"keep"!==t&&(n=e.getContent());var r=n.getIdentifier(),o=Nr(n,t);if(null===o)return null;var i=wr[o][r];if(Q(i,"associativity")){if("left"===i.associativity)return"left";if("right"===i.associativity)return"right";throw Error("'"+r+"' has the invalid associativity '"+i.associativity+"'.")}return null}function kr(e,t,n){var r="keep"!==n?e.getContent():e,o="keep"!==n?e.getContent():t,i=r.getIdentifier(),a=o.getIdentifier(),s=Nr(r,n);if(null===s)return null;var l=wr[s][i];if(Q(l,"associativeWith")&&l.associativeWith instanceof Array){for(var c=0;c<l.associativeWith.length;c++)if(l.associativeWith[c]===a)return!0;return!1}return null}var Er="AssignmentNode",Cr=["subset","?matrix","Node"],Sr=Je(Er,Cr,e=>{var{subset:t,matrix:n,Node:r}=e,o=pr({subset:t}),i=jr({subset:t,matrix:n});function a(e,t,n){if(!(this instanceof a))throw new SyntaxError("Constructor must be called with the new operator");if(this.object=e,this.index=n?t:null,this.value=n||t,!q(e)&&!A(e))throw new TypeError('SymbolNode or AccessorNode expected as "object"');if(q(e)&&"end"===e.name)throw new Error('Cannot assign to symbol "end"');if(this.index&&!F(this.index))throw new TypeError('IndexNode expected as "index"');if(!_(this.value))throw new TypeError('Node expected as "value"');Object.defineProperty(this,"name",{get:function(){return this.index?this.index.isObjectProperty()?this.index.getObjectProperty():"":this.object.name||""}.bind(this),set:function(){throw new Error("Cannot assign a new name, name is read-only")}})}function s(e,t){t||(t="keep");var n=Nr(e,t),r=Nr(e.value,t);return"all"===t||null!==r&&r<=n}return a.prototype=new r,a.prototype.type="AssignmentNode",a.prototype.isAssignmentNode=!0,a.prototype._compile=function(e,t){var n=this.object._compile(e,t),r=this.index?this.index._compile(e,t):null,a=this.value._compile(e,t),s=this.object.name;if(this.index){if(this.index.isObjectProperty()){var l=this.index.getObjectProperty();return function(e,t,r){var o=n(e,t,r),i=a(e,t,r);return ct(o,l,i),i}}if(q(this.object))return function(e,t,o){var l=n(e,t,o),c=a(e,t,o),u=r(e,t,l);return e.set(s,i(l,u,c)),c};var c=this.object.object._compile(e,t);if(this.object.index.isObjectProperty()){var u=this.object.index.getObjectProperty();return function(e,t,n){var o=c(e,t,n),s=lt(o,u),l=r(e,t,s),p=a(e,t,n);return ct(o,u,i(s,l,p)),p}}var p=this.object.index._compile(e,t);return function(e,t,n){var s=c(e,t,n),l=p(e,t,s),u=o(s,l),d=r(e,t,u),f=a(e,t,n);return i(s,l,i(u,d,f)),f}}if(!q(this.object))throw new TypeError("SymbolNode expected as object");return function(e,t,n){var r=a(e,t,n);return e.set(s,r),r}},a.prototype.forEach=function(e){e(this.object,"object",this),this.index&&e(this.index,"index",this),e(this.value,"value",this)},a.prototype.map=function(e){var t=this._ifNode(e(this.object,"object",this)),n=this.index?this._ifNode(e(this.index,"index",this)):null,r=this._ifNode(e(this.value,"value",this));return new a(t,n,r)},a.prototype.clone=function(){return new a(this.object,this.index,this.value)},a.prototype._toString=function(e){var t=this.object.toString(e),n=this.index?this.index.toString(e):"",r=this.value.toString(e);return s(this,e&&e.parenthesis)&&(r="("+r+")"),t+n+" = "+r},a.prototype.toJSON=function(){return{mathjs:"AssignmentNode",object:this.object,index:this.index,value:this.value}},a.fromJSON=function(e){return new a(e.object,e.index,e.value)},a.prototype.toHTML=function(e){var t=this.object.toHTML(e),n=this.index?this.index.toHTML(e):"",r=this.value.toHTML(e);return s(this,e&&e.parenthesis)&&(r='<span class="math-paranthesis math-round-parenthesis">(</span>'+r+'<span class="math-paranthesis math-round-parenthesis">)</span>'),t+n+'<span class="math-operator math-assignment-operator math-variable-assignment-operator math-binary-operator">=</span>'+r},a.prototype._toTex=function(e){var t=this.object.toTex(e),n=this.index?this.index.toTex(e):"",r=this.value.toTex(e);return s(this,e&&e.parenthesis)&&(r="\\left(".concat(r,"\\right)")),t+n+":="+r},a},{isClass:!0,isNode:!0}),Ar={matrixDependencies:Or,NodeDependencies:kt,subsetDependencies:cr,createAssignmentNode:Sr},Vr="ResultSet",Tr=[],Pr=Je(Vr,Tr,()=>{function e(t){if(!(this instanceof e))throw new SyntaxError("Constructor must be called with the new operator");this.entries=t||[]}return e.prototype.type="ResultSet",e.prototype.isResultSet=!0,e.prototype.valueOf=function(){return this.entries},e.prototype.toString=function(){return"["+this.entries.join(", ")+"]"},e.prototype.toJSON=function(){return{mathjs:"ResultSet",entries:this.entries}},e.fromJSON=function(t){return new e(t.entries)},e},{isClass:!0}),Mr={createResultSet:Pr},Br="BlockNode",Dr=["ResultSet","Node"],$r=Je(Br,Dr,e=>{var{ResultSet:t,Node:n}=e;function r(e){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");if(!Array.isArray(e))throw new Error("Array expected");this.blocks=e.map((function(e){var t=e&&e.node,n=!e||void 0===e.visible||e.visible;if(!_(t))throw new TypeError('Property "node" must be a Node');if("boolean"!==typeof n)throw new TypeError('Property "visible" must be a boolean');return{node:t,visible:n}}))}return r.prototype=new n,r.prototype.type="BlockNode",r.prototype.isBlockNode=!0,r.prototype._compile=function(e,n){var r=qe(this.blocks,(function(t){return{evaluate:t.node._compile(e,n),visible:t.visible}}));return function(e,n,o){var i=[];return Re(r,(function(t){var r=t.evaluate(e,n,o);t.visible&&i.push(r)})),new t(i)}},r.prototype.forEach=function(e){for(var t=0;t<this.blocks.length;t++)e(this.blocks[t].node,"blocks["+t+"].node",this)},r.prototype.map=function(e){for(var t=[],n=0;n<this.blocks.length;n++){var o=this.blocks[n],i=this._ifNode(e(o.node,"blocks["+n+"].node",this));t[n]={node:i,visible:o.visible}}return new r(t)},r.prototype.clone=function(){var e=this.blocks.map((function(e){return{node:e.node,visible:e.visible}}));return new r(e)},r.prototype._toString=function(e){return this.blocks.map((function(t){return t.node.toString(e)+(t.visible?"":";")})).join("\n")},r.prototype.toJSON=function(){return{mathjs:"BlockNode",blocks:this.blocks}},r.fromJSON=function(e){return new r(e.blocks)},r.prototype.toHTML=function(e){return this.blocks.map((function(t){return t.node.toHTML(e)+(t.visible?"":'<span class="math-separator">;</span>')})).join('<span class="math-separator"><br /></span>')},r.prototype._toTex=function(e){return this.blocks.map((function(t){return t.node.toTex(e)+(t.visible?"":";")})).join("\\;\\;\n")},r},{isClass:!0,isNode:!0}),Fr={NodeDependencies:kt,ResultSetDependencies:Mr,createBlockNode:$r},_r="ConditionalNode",Ir=["Node"],Lr=Je(_r,Ir,e=>{var{Node:t}=e;function n(e,t,r){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if(!_(e))throw new TypeError("Parameter condition must be a Node");if(!_(t))throw new TypeError("Parameter trueExpr must be a Node");if(!_(r))throw new TypeError("Parameter falseExpr must be a Node");this.condition=e,this.trueExpr=t,this.falseExpr=r}function r(e){if("number"===typeof e||"boolean"===typeof e||"string"===typeof e)return!!e;if(e){if(l(e))return!e.isZero();if(c(e))return!(!e.re&&!e.im);if(p(e))return!!e.value}if(null===e||void 0===e)return!1;throw new TypeError('Unsupported type of condition "'+z(e)+'"')}return n.prototype=new t,n.prototype.type="ConditionalNode",n.prototype.isConditionalNode=!0,n.prototype._compile=function(e,t){var n=this.condition._compile(e,t),o=this.trueExpr._compile(e,t),i=this.falseExpr._compile(e,t);return function(e,t,a){return r(n(e,t,a))?o(e,t,a):i(e,t,a)}},n.prototype.forEach=function(e){e(this.condition,"condition",this),e(this.trueExpr,"trueExpr",this),e(this.falseExpr,"falseExpr",this)},n.prototype.map=function(e){return new n(this._ifNode(e(this.condition,"condition",this)),this._ifNode(e(this.trueExpr,"trueExpr",this)),this._ifNode(e(this.falseExpr,"falseExpr",this)))},n.prototype.clone=function(){return new n(this.condition,this.trueExpr,this.falseExpr)},n.prototype._toString=function(e){var t=e&&e.parenthesis?e.parenthesis:"keep",n=Nr(this,t),r=this.condition.toString(e),o=Nr(this.condition,t);("all"===t||"OperatorNode"===this.condition.type||null!==o&&o<=n)&&(r="("+r+")");var i=this.trueExpr.toString(e),a=Nr(this.trueExpr,t);("all"===t||"OperatorNode"===this.trueExpr.type||null!==a&&a<=n)&&(i="("+i+")");var s=this.falseExpr.toString(e),l=Nr(this.falseExpr,t);return("all"===t||"OperatorNode"===this.falseExpr.type||null!==l&&l<=n)&&(s="("+s+")"),r+" ? "+i+" : "+s},n.prototype.toJSON=function(){return{mathjs:"ConditionalNode",condition:this.condition,trueExpr:this.trueExpr,falseExpr:this.falseExpr}},n.fromJSON=function(e){return new n(e.condition,e.trueExpr,e.falseExpr)},n.prototype.toHTML=function(e){var t=e&&e.parenthesis?e.parenthesis:"keep",n=Nr(this,t),r=this.condition.toHTML(e),o=Nr(this.condition,t);("all"===t||"OperatorNode"===this.condition.type||null!==o&&o<=n)&&(r='<span class="math-parenthesis math-round-parenthesis">(</span>'+r+'<span class="math-parenthesis math-round-parenthesis">)</span>');var i=this.trueExpr.toHTML(e),a=Nr(this.trueExpr,t);("all"===t||"OperatorNode"===this.trueExpr.type||null!==a&&a<=n)&&(i='<span class="math-parenthesis math-round-parenthesis">(</span>'+i+'<span class="math-parenthesis math-round-parenthesis">)</span>');var s=this.falseExpr.toHTML(e),l=Nr(this.falseExpr,t);return("all"===t||"OperatorNode"===this.falseExpr.type||null!==l&&l<=n)&&(s='<span class="math-parenthesis math-round-parenthesis">(</span>'+s+'<span class="math-parenthesis math-round-parenthesis">)</span>'),r+'<span class="math-operator math-conditional-operator">?</span>'+i+'<span class="math-operator math-conditional-operator">:</span>'+s},n.prototype._toTex=function(e){return"\\begin{cases} {"+this.trueExpr.toTex(e)+"}, &\\quad{\\text{if }\\;"+this.condition.toTex(e)+"}\\\\{"+this.falseExpr.toTex(e)+"}, &\\quad{\\text{otherwise}}\\end{cases}"},n},{isClass:!0,isNode:!0}),Ur={NodeDependencies:kt,createConditionalNode:Lr},Hr=n("4788"),qr=n.n(Hr),Rr={Alpha:"A",alpha:"\\alpha",Beta:"B",beta:"\\beta",Gamma:"\\Gamma",gamma:"\\gamma",Delta:"\\Delta",delta:"\\delta",Epsilon:"E",epsilon:"\\epsilon",varepsilon:"\\varepsilon",Zeta:"Z",zeta:"\\zeta",Eta:"H",eta:"\\eta",Theta:"\\Theta",theta:"\\theta",vartheta:"\\vartheta",Iota:"I",iota:"\\iota",Kappa:"K",kappa:"\\kappa",varkappa:"\\varkappa",Lambda:"\\Lambda",lambda:"\\lambda",Mu:"M",mu:"\\mu",Nu:"N",nu:"\\nu",Xi:"\\Xi",xi:"\\xi",Omicron:"O",omicron:"o",Pi:"\\Pi",pi:"\\pi",varpi:"\\varpi",Rho:"P",rho:"\\rho",varrho:"\\varrho",Sigma:"\\Sigma",sigma:"\\sigma",varsigma:"\\varsigma",Tau:"T",tau:"\\tau",Upsilon:"\\Upsilon",upsilon:"\\upsilon",Phi:"\\Phi",phi:"\\phi",varphi:"\\varphi",Chi:"X",chi:"\\chi",Psi:"\\Psi",psi:"\\psi",Omega:"\\Omega",omega:"\\omega",true:"\\mathrm{True}",false:"\\mathrm{False}",i:"i",inf:"\\infty",Inf:"\\infty",infinity:"\\infty",Infinity:"\\infty",oo:"\\infty",lim:"\\lim",undefined:"\\mathbf{?}"},zr={transpose:"^\\top",ctranspose:"^H",factorial:"!",pow:"^",dotPow:".^\\wedge",unaryPlus:"+",unaryMinus:"-",bitNot:"\\~",not:"\\neg",multiply:"\\cdot",divide:"\\frac",dotMultiply:".\\cdot",dotDivide:".:",mod:"\\mod",add:"+",subtract:"-",to:"\\rightarrow",leftShift:"<<",rightArithShift:">>",rightLogShift:">>>",equal:"=",unequal:"\\neq",smaller:"<",larger:">",smallerEq:"\\leq",largerEq:"\\geq",bitAnd:"\\&",bitXor:"\\underline{|}",bitOr:"|",and:"\\wedge",xor:"\\veebar",or:"\\vee"},Wr={abs:{1:"\\left|${args[0]}\\right|"},add:{2:"\\left(${args[0]}".concat(zr.add,"${args[1]}\\right)")},cbrt:{1:"\\sqrt[3]{${args[0]}}"},ceil:{1:"\\left\\lceil${args[0]}\\right\\rceil"},cube:{1:"\\left(${args[0]}\\right)^3"},divide:{2:"\\frac{${args[0]}}{${args[1]}}"},dotDivide:{2:"\\left(${args[0]}".concat(zr.dotDivide,"${args[1]}\\right)")},dotMultiply:{2:"\\left(${args[0]}".concat(zr.dotMultiply,"${args[1]}\\right)")},dotPow:{2:"\\left(${args[0]}".concat(zr.dotPow,"${args[1]}\\right)")},exp:{1:"\\exp\\left(${args[0]}\\right)"},expm1:"\\left(e".concat(zr.pow,"{${args[0]}}-1\\right)"),fix:{1:"\\mathrm{${name}}\\left(${args[0]}\\right)"},floor:{1:"\\left\\lfloor${args[0]}\\right\\rfloor"},gcd:"\\gcd\\left(${args}\\right)",hypot:"\\hypot\\left(${args}\\right)",log:{1:"\\ln\\left(${args[0]}\\right)",2:"\\log_{${args[1]}}\\left(${args[0]}\\right)"},log10:{1:"\\log_{10}\\left(${args[0]}\\right)"},log1p:{1:"\\ln\\left(${args[0]}+1\\right)",2:"\\log_{${args[1]}}\\left(${args[0]}+1\\right)"},log2:"\\log_{2}\\left(${args[0]}\\right)",mod:{2:"\\left(${args[0]}".concat(zr.mod,"${args[1]}\\right)")},multiply:{2:"\\left(${args[0]}".concat(zr.multiply,"${args[1]}\\right)")},norm:{1:"\\left\\|${args[0]}\\right\\|",2:void 0},nthRoot:{2:"\\sqrt[${args[1]}]{${args[0]}}"},nthRoots:{2:"\\{y : $y^{args[1]} = {${args[0]}}\\}"},pow:{2:"\\left(${args[0]}\\right)".concat(zr.pow,"{${args[1]}}")},round:{1:"\\left\\lfloor${args[0]}\\right\\rceil",2:void 0},sign:{1:"\\mathrm{${name}}\\left(${args[0]}\\right)"},sqrt:{1:"\\sqrt{${args[0]}}"},square:{1:"\\left(${args[0]}\\right)^2"},subtract:{2:"\\left(${args[0]}".concat(zr.subtract,"${args[1]}\\right)")},unaryMinus:{1:"".concat(zr.unaryMinus,"\\left(${args[0]}\\right)")},unaryPlus:{1:"".concat(zr.unaryPlus,"\\left(${args[0]}\\right)")},bitAnd:{2:"\\left(${args[0]}".concat(zr.bitAnd,"${args[1]}\\right)")},bitNot:{1:zr.bitNot+"\\left(${args[0]}\\right)"},bitOr:{2:"\\left(${args[0]}".concat(zr.bitOr,"${args[1]}\\right)")},bitXor:{2:"\\left(${args[0]}".concat(zr.bitXor,"${args[1]}\\right)")},leftShift:{2:"\\left(${args[0]}".concat(zr.leftShift,"${args[1]}\\right)")},rightArithShift:{2:"\\left(${args[0]}".concat(zr.rightArithShift,"${args[1]}\\right)")},rightLogShift:{2:"\\left(${args[0]}".concat(zr.rightLogShift,"${args[1]}\\right)")},bellNumbers:{1:"\\mathrm{B}_{${args[0]}}"},catalan:{1:"\\mathrm{C}_{${args[0]}}"},stirlingS2:{2:"\\mathrm{S}\\left(${args}\\right)"},arg:{1:"\\arg\\left(${args[0]}\\right)"},conj:{1:"\\left(${args[0]}\\right)^*"},im:{1:"\\Im\\left\\lbrace${args[0]}\\right\\rbrace"},re:{1:"\\Re\\left\\lbrace${args[0]}\\right\\rbrace"},and:{2:"\\left(${args[0]}".concat(zr.and,"${args[1]}\\right)")},not:{1:zr.not+"\\left(${args[0]}\\right)"},or:{2:"\\left(${args[0]}".concat(zr.or,"${args[1]}\\right)")},xor:{2:"\\left(${args[0]}".concat(zr.xor,"${args[1]}\\right)")},cross:{2:"\\left(${args[0]}\\right)\\times\\left(${args[1]}\\right)"},ctranspose:{1:"\\left(${args[0]}\\right)".concat(zr.ctranspose)},det:{1:"\\det\\left(${args[0]}\\right)"},dot:{2:"\\left(${args[0]}\\cdot${args[1]}\\right)"},expm:{1:"\\exp\\left(${args[0]}\\right)"},inv:{1:"\\left(${args[0]}\\right)^{-1}"},pinv:{1:"\\left(${args[0]}\\right)^{+}"},sqrtm:{1:"{${args[0]}}".concat(zr.pow,"{\\frac{1}{2}}")},trace:{1:"\\mathrm{tr}\\left(${args[0]}\\right)"},transpose:{1:"\\left(${args[0]}\\right)".concat(zr.transpose)},combinations:{2:"\\binom{${args[0]}}{${args[1]}}"},combinationsWithRep:{2:"\\left(\\!\\!{\\binom{${args[0]}}{${args[1]}}}\\!\\!\\right)"},factorial:{1:"\\left(${args[0]}\\right)".concat(zr.factorial)},gamma:{1:"\\Gamma\\left(${args[0]}\\right)"},lgamma:{1:"\\ln\\Gamma\\left(${args[0]}\\right)"},equal:{2:"\\left(${args[0]}".concat(zr.equal,"${args[1]}\\right)")},larger:{2:"\\left(${args[0]}".concat(zr.larger,"${args[1]}\\right)")},largerEq:{2:"\\left(${args[0]}".concat(zr.largerEq,"${args[1]}\\right)")},smaller:{2:"\\left(${args[0]}".concat(zr.smaller,"${args[1]}\\right)")},smallerEq:{2:"\\left(${args[0]}".concat(zr.smallerEq,"${args[1]}\\right)")},unequal:{2:"\\left(${args[0]}".concat(zr.unequal,"${args[1]}\\right)")},erf:{1:"erf\\left(${args[0]}\\right)"},max:"\\max\\left(${args}\\right)",min:"\\min\\left(${args}\\right)",variance:"\\mathrm{Var}\\left(${args}\\right)",acos:{1:"\\cos^{-1}\\left(${args[0]}\\right)"},acosh:{1:"\\cosh^{-1}\\left(${args[0]}\\right)"},acot:{1:"\\cot^{-1}\\left(${args[0]}\\right)"},acoth:{1:"\\coth^{-1}\\left(${args[0]}\\right)"},acsc:{1:"\\csc^{-1}\\left(${args[0]}\\right)"},acsch:{1:"\\mathrm{csch}^{-1}\\left(${args[0]}\\right)"},asec:{1:"\\sec^{-1}\\left(${args[0]}\\right)"},asech:{1:"\\mathrm{sech}^{-1}\\left(${args[0]}\\right)"},asin:{1:"\\sin^{-1}\\left(${args[0]}\\right)"},asinh:{1:"\\sinh^{-1}\\left(${args[0]}\\right)"},atan:{1:"\\tan^{-1}\\left(${args[0]}\\right)"},atan2:{2:"\\mathrm{atan2}\\left(${args}\\right)"},atanh:{1:"\\tanh^{-1}\\left(${args[0]}\\right)"},cos:{1:"\\cos\\left(${args[0]}\\right)"},cosh:{1:"\\cosh\\left(${args[0]}\\right)"},cot:{1:"\\cot\\left(${args[0]}\\right)"},coth:{1:"\\coth\\left(${args[0]}\\right)"},csc:{1:"\\csc\\left(${args[0]}\\right)"},csch:{1:"\\mathrm{csch}\\left(${args[0]}\\right)"},sec:{1:"\\sec\\left(${args[0]}\\right)"},sech:{1:"\\mathrm{sech}\\left(${args[0]}\\right)"},sin:{1:"\\sin\\left(${args[0]}\\right)"},sinh:{1:"\\sinh\\left(${args[0]}\\right)"},tan:{1:"\\tan\\left(${args[0]}\\right)"},tanh:{1:"\\tanh\\left(${args[0]}\\right)"},to:{2:"\\left(${args[0]}".concat(zr.to,"${args[1]}\\right)")},numeric:function(e,t){return e.args[0].toTex()},number:{0:"0",1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)${args[1]}\\right)"},string:{0:'\\mathtt{""}',1:"\\mathrm{string}\\left(${args[0]}\\right)"},bignumber:{0:"0",1:"\\left(${args[0]}\\right)"},complex:{0:"0",1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)+".concat(Rr.i,"\\cdot\\left(${args[1]}\\right)\\right)")},matrix:{0:"\\begin{bmatrix}\\end{bmatrix}",1:"\\left(${args[0]}\\right)",2:"\\left(${args[0]}\\right)"},sparse:{0:"\\begin{bsparse}\\end{bsparse}",1:"\\left(${args[0]}\\right)"},unit:{1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)${args[1]}\\right)"}},Jr="\\mathrm{${name}}\\left(${args}\\right)",Gr={deg:"^\\circ"};function Kr(e){return qr()(e,{preserveFormatting:!0})}function Yr(e,t){return t="undefined"!==typeof t&&t,t?Q(Gr,e)?Gr[e]:"\\mathrm{"+Kr(e)+"}":Q(Rr,e)?Rr[e]:Kr(e)}var Zr="ConstantNode",Xr=["Node"],Qr=Je(Zr,Xr,e=>{var{Node:t}=e;function n(e){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");this.value=e}return n.prototype=new t,n.prototype.type="ConstantNode",n.prototype.isConstantNode=!0,n.prototype._compile=function(e,t){var n=this.value;return function(){return n}},n.prototype.forEach=function(e){},n.prototype.map=function(e){return this.clone()},n.prototype.clone=function(){return new n(this.value)},n.prototype._toString=function(e){return Be(this.value,e)},n.prototype.toHTML=function(e){var t=this._toString(e);switch(z(this.value)){case"number":case"BigNumber":case"Fraction":return'<span class="math-number">'+t+"</span>";case"string":return'<span class="math-string">'+t+"</span>";case"boolean":return'<span class="math-boolean">'+t+"</span>";case"null":return'<span class="math-null-symbol">'+t+"</span>";case"undefined":return'<span class="math-undefined">'+t+"</span>";default:return'<span class="math-symbol">'+t+"</span>"}},n.prototype.toJSON=function(){return{mathjs:"ConstantNode",value:this.value}},n.fromJSON=function(e){return new n(e.value)},n.prototype._toTex=function(e){var t=this._toString(e);switch(z(this.value)){case"string":return"\\mathtt{"+Kr(t)+"}";case"number":case"BigNumber":if(!isFinite(this.value))return this.value.valueOf()<0?"-\\infty":"\\infty";var n=t.toLowerCase().indexOf("e");return-1!==n?t.substring(0,n)+"\\cdot10^{"+t.substring(n+1)+"}":t;case"Fraction":return this.value.toLatex();default:return t}},n},{isClass:!0,isNode:!0}),eo={NodeDependencies:kt,createConstantNode:Qr},to=n("7634"),no=n.n(to),ro=function(){return ro=no.a.create,no.a},oo=["?BigNumber","?Complex","?DenseMatrix","?Fraction"],io=Je("typed",oo,(function(e){var{BigNumber:t,Complex:n,DenseMatrix:r,Fraction:o}=e,i=ro();return i.types=[{name:"number",test:s},{name:"Complex",test:c},{name:"BigNumber",test:l},{name:"Fraction",test:u},{name:"Unit",test:p},{name:"string",test:d},{name:"Chain",test:R},{name:"Array",test:f},{name:"Matrix",test:m},{name:"DenseMatrix",test:g},{name:"SparseMatrix",test:b},{name:"Range",test:y},{name:"Index",test:v},{name:"boolean",test:O},{name:"ResultSet",test:j},{name:"Help",test:w},{name:"function",test:N},{name:"Date",test:x},{name:"RegExp",test:k},{name:"null",test:C},{name:"undefined",test:S},{name:"AccessorNode",test:A},{name:"ArrayNode",test:V},{name:"AssignmentNode",test:T},{name:"BlockNode",test:P},{name:"ConditionalNode",test:M},{name:"ConstantNode",test:B},{name:"FunctionNode",test:$},{name:"FunctionAssignmentNode",test:D},{name:"IndexNode",test:F},{name:"Node",test:_},{name:"ObjectNode",test:I},{name:"OperatorNode",test:L},{name:"ParenthesisNode",test:U},{name:"RangeNode",test:H},{name:"SymbolNode",test:q},{name:"Map",test:Ot},{name:"Object",test:E}],i.conversions=[{from:"number",to:"BigNumber",convert:function(e){if(t||ao(e),we(e)>15)throw new TypeError("Cannot implicitly convert a number with >15 significant digits to BigNumber (value: "+e+"). Use function bignumber(x) to convert to BigNumber.");return new t(e)}},{from:"number",to:"Complex",convert:function(e){return n||so(e),new n(e,0)}},{from:"number",to:"string",convert:function(e){return e+""}},{from:"BigNumber",to:"Complex",convert:function(e){return n||so(e),new n(e.toNumber(),0)}},{from:"Fraction",to:"BigNumber",convert:function(e){throw new TypeError("Cannot implicitly convert a Fraction to BigNumber or vice versa. Use function bignumber(x) to convert to BigNumber or fraction(x) to convert to Fraction.")}},{from:"Fraction",to:"Complex",convert:function(e){return n||so(e),new n(e.valueOf(),0)}},{from:"number",to:"Fraction",convert:function(e){o||co(e);var t=new o(e);if(t.valueOf()!==e)throw new TypeError("Cannot implicitly convert a number to a Fraction when there will be a loss of precision (value: "+e+"). Use function fraction(x) to convert to Fraction.");return t}},{from:"string",to:"number",convert:function(e){var t=Number(e);if(isNaN(t))throw new Error('Cannot convert "'+e+'" to a number');return t}},{from:"string",to:"BigNumber",convert:function(e){t||ao(e);try{return new t(e)}catch(n){throw new Error('Cannot convert "'+e+'" to BigNumber')}}},{from:"string",to:"Fraction",convert:function(e){o||co(e);try{return new o(e)}catch(t){throw new Error('Cannot convert "'+e+'" to Fraction')}}},{from:"string",to:"Complex",convert:function(e){n||so(e);try{return new n(e)}catch(t){throw new Error('Cannot convert "'+e+'" to Complex')}}},{from:"boolean",to:"number",convert:function(e){return+e}},{from:"boolean",to:"BigNumber",convert:function(e){return t||ao(e),new t(+e)}},{from:"boolean",to:"Fraction",convert:function(e){return o||co(e),new o(+e)}},{from:"boolean",to:"string",convert:function(e){return String(e)}},{from:"Array",to:"Matrix",convert:function(e){return r||lo(),new r(e)}},{from:"Matrix",to:"Array",convert:function(e){return e.valueOf()}}],i}));function ao(e){throw new Error("Cannot convert value ".concat(e," into a BigNumber: no class 'BigNumber' provided"))}function so(e){throw new Error("Cannot convert value ".concat(e," into a Complex number: no class 'Complex' provided"))}function lo(){throw new Error("Cannot convert array into a Matrix: no class 'DenseMatrix' provided")}function co(e){throw new Error("Cannot convert value ".concat(e," into a Fraction, no class 'Fraction' provided."))}var uo={createTyped:io},po="FunctionAssignmentNode",fo=["typed","Node"],mo=Je(po,fo,e=>{var{typed:t,Node:n}=e;function r(e,t,n){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");if("string"!==typeof e)throw new TypeError('String expected for parameter "name"');if(!Array.isArray(t))throw new TypeError('Array containing strings or objects expected for parameter "params"');if(!_(n))throw new TypeError('Node expected for parameter "expr"');if(st.has(e))throw new Error('Illegal function name, "'+e+'" is a reserved keyword');this.name=e,this.params=t.map((function(e){return e&&e.name||e})),this.types=t.map((function(e){return e&&e.type||"any"})),this.expr=n}function o(e,t){var n=Nr(e,t),r=Nr(e.expr,t);return"all"===t||null!==r&&r<=n}return r.prototype=new n,r.prototype.type="FunctionAssignmentNode",r.prototype.isFunctionAssignmentNode=!0,r.prototype._compile=function(e,n){var r=Object.create(n);Re(this.params,(function(e){r[e]=!0}));var o=this.expr._compile(e,r),i=this.name,a=this.params,s=ze(this.types,","),l=i+"("+ze(this.params,", ")+")";return function(e,n,r){var c={};c[s]=function(){for(var t=Object.create(n),i=0;i<a.length;i++)t[a[i]]=arguments[i];return o(e,t,r)};var u=t(i,c);return u.syntax=l,e.set(i,u),u}},r.prototype.forEach=function(e){e(this.expr,"expr",this)},r.prototype.map=function(e){var t=this._ifNode(e(this.expr,"expr",this));return new r(this.name,this.params.slice(0),t)},r.prototype.clone=function(){return new r(this.name,this.params.slice(0),this.expr)},r.prototype._toString=function(e){var t=e&&e.parenthesis?e.parenthesis:"keep",n=this.expr.toString(e);return o(this,t)&&(n="("+n+")"),this.name+"("+this.params.join(", ")+") = "+n},r.prototype.toJSON=function(){var e=this.types;return{mathjs:"FunctionAssignmentNode",name:this.name,params:this.params.map((function(t,n){return{name:t,type:e[n]}})),expr:this.expr}},r.fromJSON=function(e){return new r(e.name,e.params,e.expr)},r.prototype.toHTML=function(e){for(var t=e&&e.parenthesis?e.parenthesis:"keep",n=[],r=0;r<this.params.length;r++)n.push('<span class="math-symbol math-parameter">'+Fe(this.params[r])+"</span>");var i=this.expr.toHTML(e);return o(this,t)&&(i='<span class="math-parenthesis math-round-parenthesis">(</span>'+i+'<span class="math-parenthesis math-round-parenthesis">)</span>'),'<span class="math-function">'+Fe(this.name)+'</span><span class="math-parenthesis math-round-parenthesis">(</span>'+n.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-round-parenthesis">)</span><span class="math-operator math-assignment-operator math-variable-assignment-operator math-binary-operator">=</span>'+i},r.prototype._toTex=function(e){var t=e&&e.parenthesis?e.parenthesis:"keep",n=this.expr.toTex(e);return o(this,t)&&(n="\\left(".concat(n,"\\right)")),"\\mathrm{"+this.name+"}\\left("+this.params.map(Yr).join(",")+"\\right):="+n},r},{isClass:!0,isNode:!0}),ho={NodeDependencies:kt,typedDependencies:uo,createFunctionAssignmentNode:mo},go="SymbolNode",bo=["math","?Unit","Node"],yo=Je(go,bo,e=>{var{math:t,Unit:n,Node:r}=e;function o(e){return!!n&&n.isValuelessUnit(e)}function i(e){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");if("string"!==typeof e)throw new TypeError('String expected for parameter "name"');this.name=e}return i.prototype=new r,i.prototype.type="SymbolNode",i.prototype.isSymbolNode=!0,i.prototype._compile=function(e,t){var r=this.name;if(!0===t[r])return function(e,t,n){return t[r]};if(r in e)return function(t,n,o){return t.has(r)?t.get(r):lt(e,r)};var a=o(r);return function(e,t,o){return e.has(r)?e.get(r):a?new n(null,r):i.onUndefinedSymbol(r)}},i.prototype.forEach=function(e){},i.prototype.map=function(e){return this.clone()},i.onUndefinedSymbol=function(e){throw new Error("Undefined symbol "+e)},i.prototype.clone=function(){return new i(this.name)},i.prototype._toString=function(e){return this.name},i.prototype.toHTML=function(e){var t=Fe(this.name);return"true"===t||"false"===t?'<span class="math-symbol math-boolean">'+t+"</span>":"i"===t?'<span class="math-symbol math-imaginary-symbol">'+t+"</span>":"Infinity"===t?'<span class="math-symbol math-infinity-symbol">'+t+"</span>":"NaN"===t?'<span class="math-symbol math-nan-symbol">'+t+"</span>":"null"===t?'<span class="math-symbol math-null-symbol">'+t+"</span>":"undefined"===t?'<span class="math-symbol math-undefined-symbol">'+t+"</span>":'<span class="math-symbol">'+t+"</span>"},i.prototype.toJSON=function(){return{mathjs:"SymbolNode",name:this.name}},i.fromJSON=function(e){return new i(e.name)},i.prototype._toTex=function(e){var n=!1;"undefined"===typeof t[this.name]&&o(this.name)&&(n=!0);var r=Yr(this.name,n);return"\\"===r[0]?r:" "+r},i},{isClass:!0,isNode:!0}),vo={NodeDependencies:kt,createSymbolNode:yo};function Oo(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return"function"===typeof e.createSubScope?jt(e.createSubScope(),...n):jt(yt(),e,...n)}var jo="FunctionNode",wo=["math","Node","SymbolNode"],No=Je(jo,wo,e=>{var{math:t,Node:n,SymbolNode:r}=e;function o(e,t){if(!(this instanceof o))throw new SyntaxError("Constructor must be called with the new operator");if("string"===typeof e&&(e=new r(e)),!_(e))throw new TypeError('Node expected as parameter "fn"');if(!Array.isArray(t)||!t.every(_))throw new TypeError('Array containing Nodes expected for parameter "args"');this.fn=e,this.args=t||[],Object.defineProperty(this,"name",{get:function(){return this.fn.name||""}.bind(this),set:function(){throw new Error("Cannot assign a new name, name is read-only")}})}o.prototype=new n,o.prototype.type="FunctionNode",o.prototype.isFunctionNode=!0;var i=e=>Be(e,{truncate:78});o.prototype._compile=function(e,t){if(!(this instanceof o))throw new TypeError("No valid FunctionNode");var n=this.args.map(n=>n._compile(e,t));if(!q(this.fn)){if(A(this.fn)&&F(this.fn.index)&&this.fn.index.isObjectProperty()){var r=this.fn.object._compile(e,t),a=this.fn.index.getObjectProperty(),s=this.args;return function(t,o,i){var l=r(t,o,i);dt(l,a);var c=l[a]&&l[a].rawArgs;if(c)return l[a](s,e,Oo(t,o),t);var u=n.map(e=>e(t,o,i));return l[a].apply(l,u)}}var l=this.fn.toString(),c=this.fn._compile(e,t),u=this.args;return function(t,r,o){var a=c(t,r,o);if("function"!==typeof a)throw new TypeError("Expression '".concat(l,"' did not evaluate to a function; value is:")+"\n  ".concat(i(a)));if(a.rawArgs)return a(u,e,Oo(t,r),t);var s=n.map(e=>e(t,r,o));return a.apply(a,s)}}var p=this.fn.name;if(t[p]){var d=this.args;return function(t,r,o){var a=r[p];if("function"!==typeof a)throw new TypeError("Argument '".concat(p,"' was not a function; received: ").concat(i(a)));if(a.rawArgs)return a(d,e,Oo(t,r),t);var s=n.map(e=>e(t,r,o));return a.apply(a,s)}}var f=p in e?lt(e,p):void 0,m="function"===typeof f&&!0===f.rawArgs,h=t=>{var n;if(t.has(p))n=t.get(p);else{if(!(p in e))return o.onUndefinedFunction(p);n=lt(e,p)}if("function"===typeof n)return n;throw new TypeError("'".concat(p,"' is not a function; its value is:\n  ").concat(i(n)))};if(m){var g=this.args;return function(t,n,r){var o=h(t);return o(g,e,Oo(t,n),t)}}switch(n.length){case 0:return function(e,t,n){var r=h(e);return r()};case 1:return function(e,t,r){var o=h(e),i=n[0];return o(i(e,t,r))};case 2:return function(e,t,r){var o=h(e),i=n[0],a=n[1];return o(i(e,t,r),a(e,t,r))};default:return function(e,t,r){var o=h(e),i=n.map(n=>n(e,t,r));return o(...i)}}},o.prototype.forEach=function(e){e(this.fn,"fn",this);for(var t=0;t<this.args.length;t++)e(this.args[t],"args["+t+"]",this)},o.prototype.map=function(e){for(var t=this._ifNode(e(this.fn,"fn",this)),n=[],r=0;r<this.args.length;r++)n[r]=this._ifNode(e(this.args[r],"args["+r+"]",this));return new o(t,n)},o.prototype.clone=function(){return new o(this.fn,this.args.slice(0))},o.onUndefinedFunction=function(e){throw new Error("Undefined function "+e)};var a=o.prototype.toString;function s(e,t,n){var r,o="",i=/\$(?:\{([a-z_][a-z_0-9]*)(?:\[([0-9]+)\])?\}|\$)/gi,a=0;while(null!==(r=i.exec(e)))if(o+=e.substring(a,r.index),a=r.index,"$$"===r[0])o+="$",a++;else{a+=r[0].length;var s=t[r[1]];if(!s)throw new ReferenceError("Template: Property "+r[1]+" does not exist.");if(void 0===r[2])switch(typeof s){case"string":o+=s;break;case"object":if(_(s))o+=s.toTex(n);else{if(!Array.isArray(s))throw new TypeError("Template: "+r[1]+" has to be a Node, String or array of Nodes");o+=s.map((function(e,t){if(_(e))return e.toTex(n);throw new TypeError("Template: "+r[1]+"["+t+"] is not a Node.")})).join(",")}break;default:throw new TypeError("Template: "+r[1]+" has to be a Node, String or array of Nodes")}else{if(!_(s[r[2]]&&s[r[2]]))throw new TypeError("Template: "+r[1]+"["+r[2]+"] is not a Node.");o+=s[r[2]].toTex(n)}}return o+=e.slice(a),o}o.prototype.toString=function(e){var t,n=this.fn.toString(e);return e&&"object"===typeof e.handler&&Q(e.handler,n)&&(t=e.handler[n](this,e)),"undefined"!==typeof t?t:a.call(this,e)},o.prototype._toString=function(e){var t=this.args.map((function(t){return t.toString(e)})),n=D(this.fn)?"("+this.fn.toString(e)+")":this.fn.toString(e);return n+"("+t.join(", ")+")"},o.prototype.toJSON=function(){return{mathjs:"FunctionNode",fn:this.fn,args:this.args}},o.fromJSON=function(e){return new o(e.fn,e.args)},o.prototype.toHTML=function(e){var t=this.args.map((function(t){return t.toHTML(e)}));return'<span class="math-function">'+Fe(this.fn)+'</span><span class="math-paranthesis math-round-parenthesis">(</span>'+t.join('<span class="math-separator">,</span>')+'<span class="math-paranthesis math-round-parenthesis">)</span>'};var l=o.prototype.toTex;return o.prototype.toTex=function(e){var t;return e&&"object"===typeof e.handler&&Q(e.handler,this.name)&&(t=e.handler[this.name](this,e)),"undefined"!==typeof t?t:l.call(this,e)},o.prototype._toTex=function(e){var n,r,o=this.args.map((function(t){return t.toTex(e)}));switch(Wr[this.name]&&(n=Wr[this.name]),!t[this.name]||"function"!==typeof t[this.name].toTex&&"object"!==typeof t[this.name].toTex&&"string"!==typeof t[this.name].toTex||(n=t[this.name].toTex),typeof n){case"function":r=n(this,e);break;case"string":r=s(n,this,e);break;case"object":switch(typeof n[o.length]){case"function":r=n[o.length](this,e);break;case"string":r=s(n[o.length],this,e);break}}return"undefined"!==typeof r?r:s(Jr,this,e)},o.prototype.getIdentifier=function(){return this.type+":"+this.name},o},{isClass:!0,isNode:!0}),xo={NodeDependencies:kt,SymbolNodeDependencies:vo,createFunctionNode:No},ko="size",Eo=["typed","config","?matrix"],Co=Je(ko,Eo,e=>{var{typed:t,config:n,matrix:r}=e;return t(ko,{Matrix:function(e){return e.create(e.size())},Array:He,string:function(e){return"Array"===n.matrix?[e.length]:r([e.length])},"number | Complex | BigNumber | Unit | boolean | null":function(e){return"Array"===n.matrix?[]:r?r([]):or()}})}),So={matrixDependencies:Or,typedDependencies:uo,createSize:Co},Ao="IndexNode",Vo=["Node","size"],To=Je(Ao,Vo,e=>{var{Node:t,size:n}=e;function r(e,t){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");if(this.dimensions=e,this.dotNotation=t||!1,!Array.isArray(e)||!e.every(_))throw new TypeError('Array containing Nodes expected for parameter "dimensions"');if(this.dotNotation&&!this.isObjectProperty())throw new Error("dotNotation only applicable for object properties")}return r.prototype=new t,r.prototype.type="IndexNode",r.prototype.isIndexNode=!0,r.prototype._compile=function(e,t){var r=qe(this.dimensions,(function(r,o){var i=r.filter(e=>e.isSymbolNode&&"end"===e.name).length>0;if(i){var a=Object.create(t);a.end=!0;var s=r._compile(e,a);return function(e,t,r){if(!m(r)&&!f(r)&&!d(r))throw new TypeError('Cannot resolve "end": context must be a Matrix, Array, or string but is '+z(r));var i=n(r).valueOf(),a=Object.create(t);return a.end=i[o],s(e,a,r)}}return r._compile(e,t)})),o=lt(e,"index");return function(e,t,n){var i=qe(r,(function(r){return r(e,t,n)}));return o(...i)}},r.prototype.forEach=function(e){for(var t=0;t<this.dimensions.length;t++)e(this.dimensions[t],"dimensions["+t+"]",this)},r.prototype.map=function(e){for(var t=[],n=0;n<this.dimensions.length;n++)t[n]=this._ifNode(e(this.dimensions[n],"dimensions["+n+"]",this));return new r(t,this.dotNotation)},r.prototype.clone=function(){return new r(this.dimensions.slice(0),this.dotNotation)},r.prototype.isObjectProperty=function(){return 1===this.dimensions.length&&B(this.dimensions[0])&&"string"===typeof this.dimensions[0].value},r.prototype.getObjectProperty=function(){return this.isObjectProperty()?this.dimensions[0].value:null},r.prototype._toString=function(e){return this.dotNotation?"."+this.getObjectProperty():"["+this.dimensions.join(", ")+"]"},r.prototype.toJSON=function(){return{mathjs:"IndexNode",dimensions:this.dimensions,dotNotation:this.dotNotation}},r.fromJSON=function(e){return new r(e.dimensions,e.dotNotation)},r.prototype.toHTML=function(e){for(var t=[],n=0;n<this.dimensions.length;n++)t[n]=this.dimensions[n].toHTML();return this.dotNotation?'<span class="math-operator math-accessor-operator">.</span><span class="math-symbol math-property">'+Fe(this.getObjectProperty())+"</span>":'<span class="math-parenthesis math-square-parenthesis">[</span>'+t.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-square-parenthesis">]</span>'},r.prototype._toTex=function(e){var t=this.dimensions.map((function(t){return t.toTex(e)}));return this.dotNotation?"."+this.getObjectProperty():"_{"+t.join(",")+"}"},r},{isClass:!0,isNode:!0}),Po={NodeDependencies:kt,sizeDependencies:So,createIndexNode:To},Mo="ObjectNode",Bo=["Node"],Do=Je(Mo,Bo,e=>{var{Node:t}=e;function n(e){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if(this.properties=e||{},e&&("object"!==typeof e||!Object.keys(e).every((function(t){return _(e[t])}))))throw new TypeError("Object containing Nodes expected")}return n.prototype=new t,n.prototype.type="ObjectNode",n.prototype.isObjectNode=!0,n.prototype._compile=function(e,t){var n={};for(var r in this.properties)if(Q(this.properties,r)){var o=$e(r),i=JSON.parse(o);if(!pt(this.properties,i))throw new Error('No access to property "'+i+'"');n[i]=this.properties[r]._compile(e,t)}return function(e,t,r){var o={};for(var i in n)Q(n,i)&&(o[i]=n[i](e,t,r));return o}},n.prototype.forEach=function(e){for(var t in this.properties)Q(this.properties,t)&&e(this.properties[t],"properties["+$e(t)+"]",this)},n.prototype.map=function(e){var t={};for(var r in this.properties)Q(this.properties,r)&&(t[r]=this._ifNode(e(this.properties[r],"properties["+$e(r)+"]",this)));return new n(t)},n.prototype.clone=function(){var e={};for(var t in this.properties)Q(this.properties,t)&&(e[t]=this.properties[t]);return new n(e)},n.prototype._toString=function(e){var t=[];for(var n in this.properties)Q(this.properties,n)&&t.push($e(n)+": "+this.properties[n].toString(e));return"{"+t.join(", ")+"}"},n.prototype.toJSON=function(){return{mathjs:"ObjectNode",properties:this.properties}},n.fromJSON=function(e){return new n(e.properties)},n.prototype.toHTML=function(e){var t=[];for(var n in this.properties)Q(this.properties,n)&&t.push('<span class="math-symbol math-property">'+Fe(n)+'</span><span class="math-operator math-assignment-operator math-property-assignment-operator math-binary-operator">:</span>'+this.properties[n].toHTML(e));return'<span class="math-parenthesis math-curly-parenthesis">{</span>'+t.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-curly-parenthesis">}</span>'},n.prototype._toTex=function(e){var t=[];for(var n in this.properties)Q(this.properties,n)&&t.push("\\mathbf{"+n+":} & "+this.properties[n].toTex(e)+"\\\\");return"\\left\\{\\begin{array}{ll}".concat(t.join("\n"),"\\end{array}\\right\\}")},n},{isClass:!0,isNode:!0}),$o={NodeDependencies:kt,createObjectNode:Do},Fo="OperatorNode",_o=["Node"],Io=Je(Fo,_o,e=>{var{Node:t}=e;function n(e,t,r,o,i){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if("string"!==typeof e)throw new TypeError('string expected for parameter "op"');if("string"!==typeof t)throw new TypeError('string expected for parameter "fn"');if(!Array.isArray(r)||!r.every(_))throw new TypeError('Array containing Nodes expected for parameter "args"');this.implicit=!0===o,this.isPercentage=!0===i,this.op=e,this.fn=t,this.args=r||[]}function r(e,t,n,r,o){var i,a=Nr(e,t),s=xr(e,t);if("all"===t||r.length>2&&"OperatorNode:add"!==e.getIdentifier()&&"OperatorNode:multiply"!==e.getIdentifier())return r.map((function(e){switch(e.getContent().type){case"ArrayNode":case"ConstantNode":case"SymbolNode":case"ParenthesisNode":return!1;default:return!0}}));switch(r.length){case 0:i=[];break;case 1:var l=Nr(r[0],t);if(o&&null!==l){var c,u;if("keep"===t?(c=r[0].getIdentifier(),u=e.getIdentifier()):(c=r[0].getContent().getIdentifier(),u=e.getContent().getIdentifier()),!1===wr[a][u].latexLeftParens){i=[!1];break}if(!1===wr[l][c].latexParens){i=[!1];break}}if(null===l){i=[!1];break}if(l<=a){i=[!0];break}i=[!1];break;case 2:var p,d,f=Nr(r[0],t),m=kr(e,r[0],t);p=null!==f&&(f===a&&"right"===s&&!m||f<a);var h,g,b,y=Nr(r[1],t),v=kr(e,r[1],t);if(d=null!==y&&(y===a&&"left"===s&&!v||y<a),o)"keep"===t?(h=e.getIdentifier(),g=e.args[0].getIdentifier(),b=e.args[1].getIdentifier()):(h=e.getContent().getIdentifier(),g=e.args[0].getContent().getIdentifier(),b=e.args[1].getContent().getIdentifier()),null!==f&&(!1===wr[a][h].latexLeftParens&&(p=!1),!1===wr[f][g].latexParens&&(p=!1)),null!==y&&(!1===wr[a][h].latexRightParens&&(d=!1),!1===wr[y][b].latexParens&&(d=!1));i=[p,d];break;default:"OperatorNode:add"!==e.getIdentifier()&&"OperatorNode:multiply"!==e.getIdentifier()||(i=r.map((function(n){var r=Nr(n,t),o=kr(e,n,t),i=xr(n,t);return null!==r&&(a===r&&s===i&&!o||r<a)})));break}return r.length>=2&&"OperatorNode:multiply"===e.getIdentifier()&&e.implicit&&"auto"===t&&"hide"===n&&(i=r.map((function(e,t){var n="ParenthesisNode"===e.getIdentifier();return!(!i[t]&&!n)}))),i}return n.prototype=new t,n.prototype.type="OperatorNode",n.prototype.isOperatorNode=!0,n.prototype._compile=function(e,t){if("string"!==typeof this.fn||!ft(e,this.fn))throw e[this.fn]?new Error('No access to function "'+this.fn+'"'):new Error("Function "+this.fn+' missing in provided namespace "math"');var n=lt(e,this.fn),r=qe(this.args,(function(n){return n._compile(e,t)}));if(1===r.length){var o=r[0];return function(e,t,r){return n(o(e,t,r))}}if(2===r.length){var i=r[0],a=r[1];return function(e,t,r){return n(i(e,t,r),a(e,t,r))}}return function(e,t,o){return n.apply(null,qe(r,(function(n){return n(e,t,o)})))}},n.prototype.forEach=function(e){for(var t=0;t<this.args.length;t++)e(this.args[t],"args["+t+"]",this)},n.prototype.map=function(e){for(var t=[],r=0;r<this.args.length;r++)t[r]=this._ifNode(e(this.args[r],"args["+r+"]",this));return new n(this.op,this.fn,t,this.implicit,this.isPercentage)},n.prototype.clone=function(){return new n(this.op,this.fn,this.args.slice(0),this.implicit,this.isPercentage)},n.prototype.isUnary=function(){return 1===this.args.length},n.prototype.isBinary=function(){return 2===this.args.length},n.prototype._toString=function(e){var t=e&&e.parenthesis?e.parenthesis:"keep",n=e&&e.implicit?e.implicit:"hide",o=this.args,i=r(this,t,n,o,!1);if(1===o.length){var a=xr(this,t),s=o[0].toString(e);i[0]&&(s="("+s+")");var l=/[a-zA-Z]+/.test(this.op);return"right"===a?this.op+(l?" ":"")+s:"left"===a?s+(l?" ":"")+this.op:s+this.op}if(2===o.length){var c=o[0].toString(e),u=o[1].toString(e);return i[0]&&(c="("+c+")"),i[1]&&(u="("+u+")"),this.implicit&&"OperatorNode:multiply"===this.getIdentifier()&&"hide"===n?c+" "+u:c+" "+this.op+" "+u}if(o.length>2&&("OperatorNode:add"===this.getIdentifier()||"OperatorNode:multiply"===this.getIdentifier())){var p=o.map((function(t,n){return t=t.toString(e),i[n]&&(t="("+t+")"),t}));return this.implicit&&"OperatorNode:multiply"===this.getIdentifier()&&"hide"===n?p.join(" "):p.join(" "+this.op+" ")}return this.fn+"("+this.args.join(", ")+")"},n.prototype.toJSON=function(){return{mathjs:"OperatorNode",op:this.op,fn:this.fn,args:this.args,implicit:this.implicit,isPercentage:this.isPercentage}},n.fromJSON=function(e){return new n(e.op,e.fn,e.args,e.implicit,e.isPercentage)},n.prototype.toHTML=function(e){var t=e&&e.parenthesis?e.parenthesis:"keep",n=e&&e.implicit?e.implicit:"hide",o=this.args,i=r(this,t,n,o,!1);if(1===o.length){var a=xr(this,t),s=o[0].toHTML(e);return i[0]&&(s='<span class="math-parenthesis math-round-parenthesis">(</span>'+s+'<span class="math-parenthesis math-round-parenthesis">)</span>'),"right"===a?'<span class="math-operator math-unary-operator math-lefthand-unary-operator">'+Fe(this.op)+"</span>"+s:s+'<span class="math-operator math-unary-operator math-righthand-unary-operator">'+Fe(this.op)+"</span>"}if(2===o.length){var l=o[0].toHTML(e),c=o[1].toHTML(e);return i[0]&&(l='<span class="math-parenthesis math-round-parenthesis">(</span>'+l+'<span class="math-parenthesis math-round-parenthesis">)</span>'),i[1]&&(c='<span class="math-parenthesis math-round-parenthesis">(</span>'+c+'<span class="math-parenthesis math-round-parenthesis">)</span>'),this.implicit&&"OperatorNode:multiply"===this.getIdentifier()&&"hide"===n?l+'<span class="math-operator math-binary-operator math-implicit-binary-operator"></span>'+c:l+'<span class="math-operator math-binary-operator math-explicit-binary-operator">'+Fe(this.op)+"</span>"+c}var u=o.map((function(t,n){return t=t.toHTML(e),i[n]&&(t='<span class="math-parenthesis math-round-parenthesis">(</span>'+t+'<span class="math-parenthesis math-round-parenthesis">)</span>'),t}));return o.length>2&&("OperatorNode:add"===this.getIdentifier()||"OperatorNode:multiply"===this.getIdentifier())?this.implicit&&"OperatorNode:multiply"===this.getIdentifier()&&"hide"===n?u.join('<span class="math-operator math-binary-operator math-implicit-binary-operator"></span>'):u.join('<span class="math-operator math-binary-operator math-explicit-binary-operator">'+Fe(this.op)+"</span>"):'<span class="math-function">'+Fe(this.fn)+'</span><span class="math-paranthesis math-round-parenthesis">(</span>'+u.join('<span class="math-separator">,</span>')+'<span class="math-paranthesis math-round-parenthesis">)</span>'},n.prototype._toTex=function(e){var t=e&&e.parenthesis?e.parenthesis:"keep",n=e&&e.implicit?e.implicit:"hide",o=this.args,i=r(this,t,n,o,!0),a=zr[this.fn];if(a="undefined"===typeof a?this.op:a,1===o.length){var s=xr(this,t),l=o[0].toTex(e);return i[0]&&(l="\\left(".concat(l,"\\right)")),"right"===s?a+l:l+a}if(2===o.length){var c=o[0],u=c.toTex(e);i[0]&&(u="\\left(".concat(u,"\\right)"));var p,d=o[1],f=d.toTex(e);switch(i[1]&&(f="\\left(".concat(f,"\\right)")),p="keep"===t?c.getIdentifier():c.getContent().getIdentifier(),this.getIdentifier()){case"OperatorNode:divide":return a+"{"+u+"}{"+f+"}";case"OperatorNode:pow":switch(u="{"+u+"}",f="{"+f+"}",p){case"ConditionalNode":case"OperatorNode:divide":u="\\left(".concat(u,"\\right)")}break;case"OperatorNode:multiply":if(this.implicit&&"hide"===n)return u+"~"+f}return u+a+f}if(o.length>2&&("OperatorNode:add"===this.getIdentifier()||"OperatorNode:multiply"===this.getIdentifier())){var m=o.map((function(t,n){return t=t.toTex(e),i[n]&&(t="\\left(".concat(t,"\\right)")),t}));return"OperatorNode:multiply"===this.getIdentifier()&&this.implicit?m.join("~"):m.join(a)}return"\\mathrm{"+this.fn+"}\\left("+o.map((function(t){return t.toTex(e)})).join(",")+"\\right)"},n.prototype.getIdentifier=function(){return this.type+":"+this.fn},n},{isClass:!0,isNode:!0}),Lo={NodeDependencies:kt,createOperatorNode:Io},Uo="ParenthesisNode",Ho=["Node"],qo=Je(Uo,Ho,e=>{var{Node:t}=e;function n(e){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if(!_(e))throw new TypeError('Node expected for parameter "content"');this.content=e}return n.prototype=new t,n.prototype.type="ParenthesisNode",n.prototype.isParenthesisNode=!0,n.prototype._compile=function(e,t){return this.content._compile(e,t)},n.prototype.getContent=function(){return this.content.getContent()},n.prototype.forEach=function(e){e(this.content,"content",this)},n.prototype.map=function(e){var t=e(this.content,"content",this);return new n(t)},n.prototype.clone=function(){return new n(this.content)},n.prototype._toString=function(e){return!e||e&&!e.parenthesis||e&&"keep"===e.parenthesis?"("+this.content.toString(e)+")":this.content.toString(e)},n.prototype.toJSON=function(){return{mathjs:"ParenthesisNode",content:this.content}},n.fromJSON=function(e){return new n(e.content)},n.prototype.toHTML=function(e){return!e||e&&!e.parenthesis||e&&"keep"===e.parenthesis?'<span class="math-parenthesis math-round-parenthesis">(</span>'+this.content.toHTML(e)+'<span class="math-parenthesis math-round-parenthesis">)</span>':this.content.toHTML(e)},n.prototype._toTex=function(e){return!e||e&&!e.parenthesis||e&&"keep"===e.parenthesis?"\\left(".concat(this.content.toTex(e),"\\right)"):this.content.toTex(e)},n},{isClass:!0,isNode:!0}),Ro={NodeDependencies:kt,createParenthesisNode:qo},zo="RangeNode",Wo=["Node"],Jo=Je(zo,Wo,e=>{var{Node:t}=e;function n(e,t,r){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if(!_(e))throw new TypeError("Node expected");if(!_(t))throw new TypeError("Node expected");if(r&&!_(r))throw new TypeError("Node expected");if(arguments.length>3)throw new Error("Too many arguments");this.start=e,this.end=t,this.step=r||null}function r(e,t){var n=Nr(e,t),r={},o=Nr(e.start,t);if(r.start=null!==o&&o<=n||"all"===t,e.step){var i=Nr(e.step,t);r.step=null!==i&&i<=n||"all"===t}var a=Nr(e.end,t);return r.end=null!==a&&a<=n||"all"===t,r}return n.prototype=new t,n.prototype.type="RangeNode",n.prototype.isRangeNode=!0,n.prototype.needsEnd=function(){var e=this.filter((function(e){return q(e)&&"end"===e.name}));return e.length>0},n.prototype._compile=function(e,t){var n=e.range,r=this.start._compile(e,t),o=this.end._compile(e,t);if(this.step){var i=this.step._compile(e,t);return function(e,t,a){return n(r(e,t,a),o(e,t,a),i(e,t,a))}}return function(e,t,i){return n(r(e,t,i),o(e,t,i))}},n.prototype.forEach=function(e){e(this.start,"start",this),e(this.end,"end",this),this.step&&e(this.step,"step",this)},n.prototype.map=function(e){return new n(this._ifNode(e(this.start,"start",this)),this._ifNode(e(this.end,"end",this)),this.step&&this._ifNode(e(this.step,"step",this)))},n.prototype.clone=function(){return new n(this.start,this.end,this.step&&this.step)},n.prototype._toString=function(e){var t,n=e&&e.parenthesis?e.parenthesis:"keep",o=r(this,n),i=this.start.toString(e);if(o.start&&(i="("+i+")"),t=i,this.step){var a=this.step.toString(e);o.step&&(a="("+a+")"),t+=":"+a}var s=this.end.toString(e);return o.end&&(s="("+s+")"),t+=":"+s,t},n.prototype.toJSON=function(){return{mathjs:"RangeNode",start:this.start,end:this.end,step:this.step}},n.fromJSON=function(e){return new n(e.start,e.end,e.step)},n.prototype.toHTML=function(e){var t,n=e&&e.parenthesis?e.parenthesis:"keep",o=r(this,n),i=this.start.toHTML(e);if(o.start&&(i='<span class="math-parenthesis math-round-parenthesis">(</span>'+i+'<span class="math-parenthesis math-round-parenthesis">)</span>'),t=i,this.step){var a=this.step.toHTML(e);o.step&&(a='<span class="math-parenthesis math-round-parenthesis">(</span>'+a+'<span class="math-parenthesis math-round-parenthesis">)</span>'),t+='<span class="math-operator math-range-operator">:</span>'+a}var s=this.end.toHTML(e);return o.end&&(s='<span class="math-parenthesis math-round-parenthesis">(</span>'+s+'<span class="math-parenthesis math-round-parenthesis">)</span>'),t+='<span class="math-operator math-range-operator">:</span>'+s,t},n.prototype._toTex=function(e){var t=e&&e.parenthesis?e.parenthesis:"keep",n=r(this,t),o=this.start.toTex(e);if(n.start&&(o="\\left(".concat(o,"\\right)")),this.step){var i=this.step.toTex(e);n.step&&(i="\\left(".concat(i,"\\right)")),o+=":"+i}var a=this.end.toTex(e);return n.end&&(a="\\left(".concat(a,"\\right)")),o+=":"+a,o},n},{isClass:!0,isNode:!0}),Go={NodeDependencies:kt,createRangeNode:Jo},Ko="RelationalNode",Yo=["Node"],Zo=Je(Ko,Yo,e=>{var{Node:t}=e;function n(e,t){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if(!Array.isArray(e))throw new TypeError("Parameter conditionals must be an array");if(!Array.isArray(t))throw new TypeError("Parameter params must be an array");if(e.length!==t.length-1)throw new TypeError("Parameter params must contain exactly one more element than parameter conditionals");this.conditionals=e,this.params=t}return n.prototype=new t,n.prototype.type="RelationalNode",n.prototype.isRelationalNode=!0,n.prototype._compile=function(e,t){var n=this,r=this.params.map(n=>n._compile(e,t));return function(t,o,i){for(var a,s=r[0](t,o,i),l=0;l<n.conditionals.length;l++){a=s,s=r[l+1](t,o,i);var c=lt(e,n.conditionals[l]);if(!c(a,s))return!1}return!0}},n.prototype.forEach=function(e){this.params.forEach((t,n)=>e(t,"params["+n+"]",this),this)},n.prototype.map=function(e){return new n(this.conditionals.slice(),this.params.map((t,n)=>this._ifNode(e(t,"params["+n+"]",this)),this))},n.prototype.clone=function(){return new n(this.conditionals,this.params)},n.prototype._toString=function(e){for(var t=e&&e.parenthesis?e.parenthesis:"keep",n=Nr(this,t),r=this.params.map((function(r,o){var i=Nr(r,t);return"all"===t||null!==i&&i<=n?"("+r.toString(e)+")":r.toString(e)})),o={equal:"==",unequal:"!=",smaller:"<",larger:">",smallerEq:"<=",largerEq:">="},i=r[0],a=0;a<this.conditionals.length;a++)i+=" "+o[this.conditionals[a]]+" "+r[a+1];return i},n.prototype.toJSON=function(){return{mathjs:"RelationalNode",conditionals:this.conditionals,params:this.params}},n.fromJSON=function(e){return new n(e.conditionals,e.params)},n.prototype.toHTML=function(e){for(var t=e&&e.parenthesis?e.parenthesis:"keep",n=Nr(this,t),r=this.params.map((function(r,o){var i=Nr(r,t);return"all"===t||null!==i&&i<=n?'<span class="math-parenthesis math-round-parenthesis">(</span>'+r.toHTML(e)+'<span class="math-parenthesis math-round-parenthesis">)</span>':r.toHTML(e)})),o={equal:"==",unequal:"!=",smaller:"<",larger:">",smallerEq:"<=",largerEq:">="},i=r[0],a=0;a<this.conditionals.length;a++)i+='<span class="math-operator math-binary-operator math-explicit-binary-operator">'+Fe(o[this.conditionals[a]])+"</span>"+r[a+1];return i},n.prototype._toTex=function(e){for(var t=e&&e.parenthesis?e.parenthesis:"keep",n=Nr(this,t),r=this.params.map((function(r,o){var i=Nr(r,t);return"all"===t||null!==i&&i<=n?"\\left("+r.toTex(e)+"\right)":r.toTex(e)})),o=r[0],i=0;i<this.conditionals.length;i++)o+=zr[this.conditionals[i]]+r[i+1];return o},n},{isClass:!0,isNode:!0}),Xo={NodeDependencies:kt,createRelationalNode:Zo};function Qo(e,t,n){return e&&"function"===typeof e.map?e.map((function(e){return Qo(e,t,n)})):t(e)}var ei="number",ti=["typed"];function ni(e){var t=e.match(/(0[box])([0-9a-fA-F]*)\.([0-9a-fA-F]*)/);if(t){var n={"0b":2,"0o":8,"0x":16}[t[1]],r=t[2],o=t[3];return{input:e,radix:n,integerPart:r,fractionalPart:o}}return null}function ri(e){for(var t=parseInt(e.integerPart,e.radix),n=0,r=0;r<e.fractionalPart.length;r++){var o=parseInt(e.fractionalPart[r],e.radix);n+=o/Math.pow(e.radix,r+1)}var i=t+n;if(isNaN(i))throw new SyntaxError('String "'+e.input+'" is no valid number');return i}var oi=Je(ei,ti,e=>{var{typed:t}=e,n=t("number",{"":function(){return 0},number:function(e){return e},string:function(e){if("NaN"===e)return NaN;var t=ni(e);if(t)return ri(t);var n=0,r=e.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);r&&(n=Number(r[2]),e=r[1]);var o=Number(e);if(isNaN(o))throw new SyntaxError('String "'+e+'" is no valid number');if(r){if(o>2**n-1)throw new SyntaxError('String "'.concat(e,'" is out of range'));o>=2**(n-1)&&(o-=2**n)}return o},BigNumber:function(e){return e.toNumber()},Fraction:function(e){return e.valueOf()},Unit:function(e){throw new Error("Second argument with valueless unit expected")},null:function(e){return 0},"Unit, string | Unit":function(e,t){return e.toNumber(t)},"Array | Matrix":function(e){return Qo(e,this)}});return n.fromJSON=function(e){return parseFloat(e.value)},n}),ii={typedDependencies:uo,createNumber:oi},ai="numeric",si=["number","?bignumber","?fraction"],li=Je(ai,si,e=>{var{number:t,bignumber:n,fraction:r}=e,o={string:!0,number:!0,BigNumber:!0,Fraction:!0},i={number:e=>t(e),BigNumber:n?e=>n(e):nr,Fraction:r?e=>r(e):rr};return function(e,t){var n=z(e);if(!(n in o))throw new TypeError("Cannot convert "+e+' of type "'+n+'"; valid input types are '+Object.keys(o).join(", "));if(!(t in i))throw new TypeError("Cannot convert "+e+' to type "'+t+'"; valid output types are '+Object.keys(i).join(", "));return t===n?e:i[t](e)}}),ci={numberDependencies:ii,createNumeric:li},ui="parse",pi=["typed","numeric","config","AccessorNode","ArrayNode","AssignmentNode","BlockNode","ConditionalNode","ConstantNode","FunctionAssignmentNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","ParenthesisNode","RangeNode","RelationalNode","SymbolNode"],di=Je(ui,pi,e=>{var{typed:t,numeric:n,config:r,AccessorNode:o,ArrayNode:i,AssignmentNode:s,BlockNode:l,ConditionalNode:c,ConstantNode:u,FunctionAssignmentNode:p,FunctionNode:d,IndexNode:f,ObjectNode:m,OperatorNode:h,ParenthesisNode:g,RangeNode:b,RelationalNode:y,SymbolNode:v}=e,O=t(ui,{string:function(e){return U(e,{})},"Array | Matrix":function(e){return j(e,{})},"string, Object":function(e,t){var n=void 0!==t.nodes?t.nodes:{};return U(e,n)},"Array | Matrix, Object":j});function j(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=void 0!==t.nodes?t.nodes:{};return Qo(e,(function(e){if("string"!==typeof e)throw new TypeError("String expected");return U(e,n)}))}var w={NULL:0,DELIMITER:1,NUMBER:2,SYMBOL:3,UNKNOWN:4},N={",":!0,"(":!0,")":!0,"[":!0,"]":!0,"{":!0,"}":!0,'"':!0,"'":!0,";":!0,"+":!0,"-":!0,"*":!0,".*":!0,"/":!0,"./":!0,"%":!0,"^":!0,".^":!0,"~":!0,"!":!0,"&":!0,"|":!0,"^|":!0,"=":!0,":":!0,"?":!0,"==":!0,"!=":!0,"<":!0,">":!0,"<=":!0,">=":!0,"<<":!0,">>":!0,">>>":!0},x={mod:!0,to:!0,in:!0,and:!0,xor:!0,or:!0,not:!0},k={true:!0,false:!1,null:null,undefined:void 0},E=["NaN","Infinity"];function C(){return{extraNodes:{},expression:"",comment:"",index:0,token:"",tokenType:w.NULL,nestingLevel:0,conditionalLevel:null}}function S(e,t){return e.expression.substr(e.index,t)}function V(e){return S(e,1)}function T(e){e.index++}function P(e){return e.expression.charAt(e.index-1)}function M(e){return e.expression.charAt(e.index+1)}function D(e){e.tokenType=w.NULL,e.token="",e.comment="";while(1){if("#"===V(e))while("\n"!==V(e)&&""!==V(e))e.comment+=V(e),T(e);if(!O.isWhitespace(V(e),e.nestingLevel))break;T(e)}if(""!==V(e)){if("\n"===V(e)&&!e.nestingLevel)return e.tokenType=w.DELIMITER,e.token=V(e),void T(e);var t=V(e),n=S(e,2),r=S(e,3);if(3===r.length&&N[r])return e.tokenType=w.DELIMITER,e.token=r,T(e),T(e),void T(e);if(2===n.length&&N[n])return e.tokenType=w.DELIMITER,e.token=n,T(e),void T(e);if(N[t])return e.tokenType=w.DELIMITER,e.token=t,void T(e);if(O.isDigitDot(t)){e.tokenType=w.NUMBER;var o=S(e,2);if("0b"===o||"0o"===o||"0x"===o){e.token+=V(e),T(e),e.token+=V(e),T(e);while(O.isHexDigit(V(e)))e.token+=V(e),T(e);if("."===V(e)){e.token+=".",T(e);while(O.isHexDigit(V(e)))e.token+=V(e),T(e)}else if("i"===V(e)){e.token+="i",T(e);while(O.isDigit(V(e)))e.token+=V(e),T(e)}return}if("."===V(e)){if(e.token+=V(e),T(e),!O.isDigit(V(e)))return void(e.tokenType=w.DELIMITER)}else{while(O.isDigit(V(e)))e.token+=V(e),T(e);O.isDecimalMark(V(e),M(e))&&(e.token+=V(e),T(e))}while(O.isDigit(V(e)))e.token+=V(e),T(e);if("E"===V(e)||"e"===V(e))if(O.isDigit(M(e))||"-"===M(e)||"+"===M(e)){if(e.token+=V(e),T(e),"+"!==V(e)&&"-"!==V(e)||(e.token+=V(e),T(e)),!O.isDigit(V(e)))throw ke(e,'Digit expected, got "'+V(e)+'"');while(O.isDigit(V(e)))e.token+=V(e),T(e);if(O.isDecimalMark(V(e),M(e)))throw ke(e,'Digit expected, got "'+V(e)+'"')}else if("."===M(e))throw T(e),ke(e,'Digit expected, got "'+V(e)+'"')}else{if(!O.isAlpha(V(e),P(e),M(e))){e.tokenType=w.UNKNOWN;while(""!==V(e))e.token+=V(e),T(e);throw ke(e,'Syntax error in part "'+e.token+'"')}while(O.isAlpha(V(e),P(e),M(e))||O.isDigit(V(e)))e.token+=V(e),T(e);Q(x,e.token)?e.tokenType=w.DELIMITER:e.tokenType=w.SYMBOL}}else e.tokenType=w.DELIMITER}function F(e){do{D(e)}while("\n"===e.token)}function _(e){e.nestingLevel++}function I(e){e.nestingLevel--}function U(e,t){var n=C();a()(n,{expression:e,extraNodes:t}),D(n);var r=H(n);if(""!==n.token)throw n.tokenType===w.DELIMITER?Ee(n,"Unexpected operator "+n.token):ke(n,'Unexpected part "'+n.token+'"');return r}function H(e){var t,n,r=[];""!==e.token&&"\n"!==e.token&&";"!==e.token&&(t=R(e),t.comment=e.comment);while("\n"===e.token||";"===e.token)0===r.length&&t&&(n=";"!==e.token,r.push({node:t,visible:n})),D(e),"\n"!==e.token&&";"!==e.token&&""!==e.token&&(t=R(e),t.comment=e.comment,n=";"!==e.token,r.push({node:t,visible:n}));return r.length>0?new l(r):(t||(t=new u(void 0),t.comment=e.comment),t)}function R(e){var t,n,r,o,i=z(e);if("="===e.token){if(q(i))return t=i.name,F(e),r=R(e),new s(new v(t),r);if(A(i))return F(e),r=R(e),new s(i.object,i.index,r);if($(i)&&q(i.fn)&&(o=!0,n=[],t=i.name,i.args.forEach((function(e,t){q(e)?n[t]=e.name:o=!1})),o))return F(e),r=R(e),new p(t,n,r);throw ke(e,"Invalid left hand side of assignment operator =")}return i}function z(e){var t=W(e);while("?"===e.token){var n=e.conditionalLevel;e.conditionalLevel=e.nestingLevel,F(e);var r=t,o=R(e);if(":"!==e.token)throw ke(e,"False part of conditional expression expected");e.conditionalLevel=null,F(e);var i=R(e);t=new c(r,o,i),e.conditionalLevel=n}return t}function W(e){var t=J(e);while("or"===e.token)F(e),t=new h("or","or",[t,J(e)]);return t}function J(e){var t=G(e);while("xor"===e.token)F(e),t=new h("xor","xor",[t,G(e)]);return t}function G(e){var t=K(e);while("and"===e.token)F(e),t=new h("and","and",[t,K(e)]);return t}function K(e){var t=Y(e);while("|"===e.token)F(e),t=new h("|","bitOr",[t,Y(e)]);return t}function Y(e){var t=Z(e);while("^|"===e.token)F(e),t=new h("^|","bitXor",[t,Z(e)]);return t}function Z(e){var t=X(e);while("&"===e.token)F(e),t=new h("&","bitAnd",[t,X(e)]);return t}function X(e){var t=[ee(e)],n=[],r={"==":"equal","!=":"unequal","<":"smaller",">":"larger","<=":"smallerEq",">=":"largerEq"};while(Q(r,e.token)){var o={name:e.token,fn:r[e.token]};n.push(o),F(e),t.push(ee(e))}return 1===t.length?t[0]:2===t.length?new h(n[0].name,n[0].fn,t):new y(n.map(e=>e.fn),t)}function ee(e){var t,n,r,o;t=te(e);var i={"<<":"leftShift",">>":"rightArithShift",">>>":"rightLogShift"};while(Q(i,e.token))n=e.token,r=i[n],F(e),o=[t,te(e)],t=new h(n,r,o);return t}function te(e){var t,n,r,o;t=ne(e);var i={to:"to",in:"to"};while(Q(i,e.token))n=e.token,r=i[n],F(e),"in"===n&&""===e.token?t=new h("*","multiply",[t,new v("in")],!0):(o=[t,ne(e)],t=new h(n,r,o));return t}function ne(e){var t,n=[];if(t=":"===e.token?new u(1):re(e),":"===e.token&&e.conditionalLevel!==e.nestingLevel){n.push(t);while(":"===e.token&&n.length<3)F(e),")"===e.token||"]"===e.token||","===e.token||""===e.token?n.push(new v("end")):n.push(re(e));t=3===n.length?new b(n[0],n[2],n[1]):new b(n[0],n[1])}return t}function re(e){var t,n,r,o;t=oe(e);var i={"+":"add","-":"subtract"};while(Q(i,e.token)){n=e.token,r=i[n],F(e);var a=oe(e);o=a.isPercentage?[t,new h("*","multiply",[t,a])]:[t,a],t=new h(n,r,o)}return t}function oe(e){var t,n,r,o;t=ie(e),n=t;var i={"*":"multiply",".*":"dotMultiply","/":"divide","./":"dotDivide"};while(1){if(!Q(i,e.token))break;r=e.token,o=i[r],F(e),n=ie(e),t=new h(r,o,[t,n])}return t}function ie(e){var t,n;t=ae(e),n=t;while(1){if(!(e.tokenType===w.SYMBOL||"in"===e.token&&B(t))&&(e.tokenType!==w.NUMBER||B(n)||L(n)&&"!"!==n.op)&&"("!==e.token)break;n=ae(e),t=new h("*","multiply",[t,n],!0)}return t}function ae(e){var t=se(e),n=t,r=[];while(1){if("/"!==e.token||!B(n))break;if(r.push(a()({},e)),F(e),e.tokenType!==w.NUMBER){a()(e,r.pop());break}if(r.push(a()({},e)),F(e),e.tokenType!==w.SYMBOL&&"("!==e.token){r.pop(),a()(e,r.pop());break}a()(e,r.pop()),r.pop(),n=se(e),t=new h("/","divide",[t,n])}return t}function se(e){var t,n,r,o;t=le(e);var i={"%":"mod",mod:"mod"};while(Q(i,e.token))n=e.token,r=i[n],F(e),"%"===n&&e.tokenType===w.DELIMITER&&"("!==e.token?t=new h("/","divide",[t,new u(100)],!1,!0):(o=[t,le(e)],t=new h(n,r,o));return t}function le(e){var t,n,r,o={"-":"unaryMinus","+":"unaryPlus","~":"bitNot",not:"not"};return Q(o,e.token)?(r=o[e.token],t=e.token,F(e),n=[le(e)],new h(t,r,n)):ce(e)}function ce(e){var t,n,r,o;return t=ue(e),"^"!==e.token&&".^"!==e.token||(n=e.token,r="^"===n?"pow":"dotPow",F(e),o=[t,le(e)],t=new h(n,r,o)),t}function ue(e){var t,n,r,o;t=pe(e);var i={"!":"factorial","'":"ctranspose"};while(Q(i,e.token))n=e.token,r=i[n],D(e),o=[t],t=new h(n,r,o),t=fe(e,t);return t}function pe(e){var t=[];if(e.tokenType===w.SYMBOL&&Q(e.extraNodes,e.token)){var n=e.extraNodes[e.token];if(D(e),"("===e.token){if(t=[],_(e),D(e),")"!==e.token){t.push(R(e));while(","===e.token)D(e),t.push(R(e))}if(")"!==e.token)throw ke(e,"Parenthesis ) expected");I(e),D(e)}return new n(t)}return de(e)}function de(e){var t,r;return e.tokenType===w.SYMBOL||e.tokenType===w.DELIMITER&&e.token in x?(r=e.token,D(e),t=Q(k,r)?new u(k[r]):-1!==E.indexOf(r)?new u(n(r,"number")):new v(r),t=fe(e,t),t):me(e)}function fe(e,t,n){var r;while(("("===e.token||"["===e.token||"."===e.token)&&(!n||-1!==n.indexOf(e.token)))if(r=[],"("===e.token){if(!q(t)&&!A(t))return t;if(_(e),D(e),")"!==e.token){r.push(R(e));while(","===e.token)D(e),r.push(R(e))}if(")"!==e.token)throw ke(e,"Parenthesis ) expected");I(e),D(e),t=new d(t,r)}else if("["===e.token){if(_(e),D(e),"]"!==e.token){r.push(R(e));while(","===e.token)D(e),r.push(R(e))}if("]"!==e.token)throw ke(e,"Parenthesis ] expected");I(e),D(e),t=new o(t,new f(r))}else{if(D(e),e.tokenType!==w.SYMBOL)throw ke(e,"Property name expected after dot");r.push(new u(e.token)),D(e);var i=!0;t=new o(t,new f(r,i))}return t}function me(e){var t,n;return'"'===e.token?(n=he(e),t=new u(n),t=fe(e,t),t):ge(e)}function he(e){var t="";while(""!==V(e)&&'"'!==V(e))"\\"===V(e)&&(t+=V(e),T(e)),t+=V(e),T(e);if(D(e),'"'!==e.token)throw ke(e,'End of string " expected');return D(e),JSON.parse('"'+t+'"')}function ge(e){var t,n;return"'"===e.token?(n=be(e),t=new u(n),t=fe(e,t),t):ye(e)}function be(e){var t="";while(""!==V(e)&&"'"!==V(e))"\\"===V(e)&&(t+=V(e),T(e)),t+=V(e),T(e);if(D(e),"'"!==e.token)throw ke(e,"End of string ' expected");return D(e),JSON.parse('"'+t+'"')}function ye(e){var t,n,r,o;if("["===e.token){if(_(e),D(e),"]"!==e.token){var a=ve(e);if(";"===e.token){r=1,n=[a];while(";"===e.token)D(e),n[r]=ve(e),r++;if("]"!==e.token)throw ke(e,"End of matrix ] expected");I(e),D(e),o=n[0].items.length;for(var s=1;s<r;s++)if(n[s].items.length!==o)throw Ee(e,"Column dimensions mismatch ("+n[s].items.length+" !== "+o+")");t=new i(n)}else{if("]"!==e.token)throw ke(e,"End of matrix ] expected");I(e),D(e),t=a}}else I(e),D(e),t=new i([]);return fe(e,t)}return Oe(e)}function ve(e){var t=[R(e)],n=1;while(","===e.token)D(e),t[n]=R(e),n++;return new i(t)}function Oe(e){if("{"===e.token){var t;_(e);var n={};do{if(D(e),"}"!==e.token){if('"'===e.token)t=he(e);else if("'"===e.token)t=be(e);else{if(!(e.tokenType===w.SYMBOL||e.tokenType===w.DELIMITER&&e.token in x))throw ke(e,"Symbol or string expected as object key");t=e.token,D(e)}if(":"!==e.token)throw ke(e,"Colon : expected after object key");D(e),n[t]=R(e)}}while(","===e.token);if("}"!==e.token)throw ke(e,"Comma , or bracket } expected after object value");I(e),D(e);var r=new m(n);return r=fe(e,r),r}return je(e)}function je(e){var t;return e.tokenType===w.NUMBER?(t=e.token,D(e),new u(n(t,r.number))):we(e)}function we(e){var t;if("("===e.token){if(_(e),D(e),t=R(e),")"!==e.token)throw ke(e,"Parenthesis ) expected");return I(e),D(e),t=new g(t),t=fe(e,t),t}return Ne(e)}function Ne(e){throw""===e.token?ke(e,"Unexpected end of expression"):ke(e,"Value expected")}function xe(e){return e.index-e.token.length+1}function ke(e,t){var n=xe(e),r=new SyntaxError(t+" (char "+n+")");return r.char=n,r}function Ee(e,t){var n=xe(e),r=new SyntaxError(t+" (char "+n+")");return r.char=n,r}return O.isAlpha=function(e,t,n){return O.isValidLatinOrGreek(e)||O.isValidMathSymbol(e,n)||O.isValidMathSymbol(t,e)},O.isValidLatinOrGreek=function(e){return/^[a-zA-Z_$\u00C0-\u02AF\u0370-\u03FF\u2100-\u214F]$/.test(e)},O.isValidMathSymbol=function(e,t){return/^[\uD835]$/.test(e)&&/^[\uDC00-\uDFFF]$/.test(t)&&/^[^\uDC55\uDC9D\uDCA0\uDCA1\uDCA3\uDCA4\uDCA7\uDCA8\uDCAD\uDCBA\uDCBC\uDCC4\uDD06\uDD0B\uDD0C\uDD15\uDD1D\uDD3A\uDD3F\uDD45\uDD47-\uDD49\uDD51\uDEA6\uDEA7\uDFCC\uDFCD]$/.test(t)},O.isWhitespace=function(e,t){return" "===e||"\t"===e||"\n"===e&&t>0},O.isDecimalMark=function(e,t){return"."===e&&"/"!==t&&"*"!==t&&"^"!==t},O.isDigitDot=function(e){return e>="0"&&e<="9"||"."===e},O.isDigit=function(e){return e>="0"&&e<="9"},O.isHexDigit=function(e){return e>="0"&&e<="9"||e>="a"&&e<="f"||e>="A"&&e<="F"},O}),fi={AccessorNodeDependencies:hr,ArrayNodeDependencies:vr,AssignmentNodeDependencies:Ar,BlockNodeDependencies:Fr,ConditionalNodeDependencies:Ur,ConstantNodeDependencies:eo,FunctionAssignmentNodeDependencies:ho,FunctionNodeDependencies:xo,IndexNodeDependencies:Po,ObjectNodeDependencies:$o,OperatorNodeDependencies:Lo,ParenthesisNodeDependencies:Ro,RangeNodeDependencies:Go,RelationalNodeDependencies:Xo,SymbolNodeDependencies:vo,numericDependencies:ci,typedDependencies:uo,createParse:di},mi="evaluate",hi=["typed","parse"],gi=Je(mi,hi,e=>{var{typed:t,parse:n}=e;return t(mi,{string:function(e){var t=yt();return n(e).compile().evaluate(t)},"string, Map | Object":function(e,t){return n(e).compile().evaluate(t)},"Array | Matrix":function(e){var t=yt();return Qo(e,(function(e){return n(e).compile().evaluate(t)}))},"Array | Matrix, Map | Object":function(e,t){return Qo(e,(function(e){return n(e).compile().evaluate(t)}))}})}),bi={parseDependencies:fi,typedDependencies:uo,createEvaluate:gi},yi=at({evaluateDependencies:bi});yi.import({add:function(e,t){return e+t},subtract:function(e,t){return e-t},multiply:function(e,t){return e*t},divide:function(e,t){return e/t},equal:function(e,t){return e==t},unequal:function(e,t){return e!=t},not:function(e){return!e},and:function(e,t){return e&&t},or:function(e,t){return e||t},largerEq:function(e,t){return e>=t},larger:function(e,t){return e>t},smallerEq:function(e,t){return e<=t},smaller:function(e,t){return e<t}},{override:!0});var vi=yi,Oi=n("8bbf"),ji={class:"form-group row matomo-form-field"},wi={key:0,class:"col s12"},Ni={key:0,class:"form-help"},xi={key:0,class:"inline-help",ref:"inlineHelp"},ki=Object(Oi["createElementVNode"])("br",null,null,-1);function Ei(e,t,n,r,o,i){return Object(Oi["openBlock"])(),Object(Oi["createElementBlock"])("div",ji,[e.formField.introduction?(Object(Oi["openBlock"])(),Object(Oi["createElementBlock"])("h3",wi,Object(Oi["toDisplayString"])(e.formField.introduction),1)):Object(Oi["createCommentVNode"])("",!0),Object(Oi["createElementVNode"])("div",{class:Object(Oi["normalizeClass"])(["col s12",{"input-field":"checkbox"!==e.formField.uiControl&&"radio"!==e.formField.uiControl,"file-field":"file"===e.formField.uiControl,m6:!e.formField.fullWidth}])},[(Object(Oi["openBlock"])(),Object(Oi["createBlock"])(Object(Oi["resolveDynamicComponent"])(e.childComponent),Object(Oi["mergeProps"])(Object.assign(Object.assign({formField:e.formField},e.formField),{},{modelValue:e.processedModelValue,modelModifiers:e.modelModifiers,availableOptions:e.availableOptions},e.extraChildComponentParams),{"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.onChange(t)})}),null,16))],2),Object(Oi["createElementVNode"])("div",{class:Object(Oi["normalizeClass"])(["col s12",{m6:!e.formField.fullWidth}])},[e.showFormHelp?(Object(Oi["openBlock"])(),Object(Oi["createElementBlock"])("div",Ni,[Object(Oi["withDirectives"])(Object(Oi["createElementVNode"])("div",{class:"form-description"},Object(Oi["toDisplayString"])(e.formField.description),513),[[Oi["vShow"],e.formField.description]]),e.formField.inlineHelp||e.hasInlineHelpSlot?(Object(Oi["openBlock"])(),Object(Oi["createElementBlock"])("span",xi,[e.inlineHelpComponent?(Object(Oi["openBlock"])(),Object(Oi["createBlock"])(Object(Oi["resolveDynamicComponent"])(e.inlineHelpComponent),Object(Oi["normalizeProps"])(Object(Oi["mergeProps"])({key:0},e.inlineHelpBind)),null,16)):Object(Oi["createCommentVNode"])("",!0),Object(Oi["renderSlot"])(e.$slots,"inline-help")],512)):Object(Oi["createCommentVNode"])("",!0),Object(Oi["withDirectives"])(Object(Oi["createElementVNode"])("span",null,[ki,Object(Oi["createTextVNode"])(" "+Object(Oi["toDisplayString"])(e.translate("General_Default"))+": ",1),Object(Oi["createElementVNode"])("span",null,Object(Oi["toDisplayString"])(e.defaultValuePrettyTruncated),1)],512),[[Oi["vShow"],e.showDefaultValue]])])):Object(Oi["createCommentVNode"])("",!0)],2)])}var Ci=n("19dc"),Si={class:"checkbox"},Ai=["checked","id","name"],Vi=["innerHTML"];function Ti(e,t,n,r,o,i){return Object(Oi["openBlock"])(),Object(Oi["createElementBlock"])("div",Si,[Object(Oi["createElementVNode"])("label",null,[Object(Oi["createElementVNode"])("input",Object(Oi["mergeProps"])({onChange:t[0]||(t[0]=function(t){return e.onChange(t)})},e.uiControlAttributes,{value:1,checked:e.isChecked,type:"checkbox",id:e.name,name:e.name}),null,16,Ai),Object(Oi["createElementVNode"])("span",{innerHTML:e.$sanitize(e.title)},null,8,Vi)])])}var Pi=Object(Oi["defineComponent"])({props:{modelValue:[Boolean,Number,String],modelModifiers:Object,uiControlAttributes:Object,name:String,title:String},inheritAttrs:!1,emits:["update:modelValue"],methods:{onChange:function(e){var t=e.target.checked;if(this.modelValue!==t){var n;if(null===(n=this.modelModifiers)||void 0===n||!n.abortable)return void this.$emit("update:modelValue",t);var r={value:t,abort:function(){e.target.checked=!t}};this.$emit("update:modelValue",r)}}},computed:{isChecked:function(){return!!this.modelValue&&"0"!==this.modelValue}}});Pi.render=Ti;var Mi=Pi,Bi={ref:"root"},Di=["value","checked","onChange","id","name"];function $i(e,t,n,r,o,i){return Object(Oi["openBlock"])(),Object(Oi["createElementBlock"])("div",Bi,[Object(Oi["withDirectives"])(Object(Oi["createElementVNode"])("label",{class:"fieldRadioTitle"},Object(Oi["toDisplayString"])(e.title),513),[[Oi["vShow"],e.title]]),(Object(Oi["openBlock"])(!0),Object(Oi["createElementBlock"])(Oi["Fragment"],null,Object(Oi["renderList"])(e.availableOptions,(function(t,n){return Object(Oi["openBlock"])(),Object(Oi["createElementBlock"])("p",{key:n,class:"checkbox"},[Object(Oi["createElementVNode"])("label",null,[Object(Oi["createElementVNode"])("input",Object(Oi["mergeProps"])({value:t.key,checked:!!e.checkboxStates[n],onChange:function(t){return e.onChange(n)}},e.uiControlAttributes,{type:"checkbox",id:"".concat(e.name).concat(t.key),name:t.name}),null,16,Di),Object(Oi["createElementVNode"])("span",null,Object(Oi["toDisplayString"])(t.value),1),Object(Oi["withDirectives"])(Object(Oi["createElementVNode"])("span",{class:"form-description"},Object(Oi["toDisplayString"])(t.description),513),[[Oi["vShow"],t.description]])])])})),128))],512)}function Fi(e){return Ui(e)||Li(e)||Ii(e)||_i()}function _i(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Ii(e,t){if(e){if("string"===typeof e)return Hi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Hi(e,t):void 0}}function Li(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function Ui(e){if(Array.isArray(e))return Hi(e)}function Hi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function qi(e,t){return(e||[]).map((function(e){return t&&-1!==t.indexOf(e.key)}))}var Ri=Object(Oi["defineComponent"])({props:{modelValue:Array,modelModifiers:Object,name:String,title:String,availableOptions:Array,uiControlAttributes:Object,type:String},inheritAttrs:!1,emits:["update:modelValue"],computed:{checkboxStates:function(){return qi(this.availableOptions,this.modelValue)}},mounted:function(){setTimeout((function(){window.Materialize.updateTextFields()}))},methods:{onChange:function(e){var t,n=this,r=Fi(this.checkboxStates);r[e]=!r[e];var o=this.availableOptions||{},i=[];if(Object.values(o).forEach((function(e,t){r[t]&&i.push(e.key)})),null!==(t=this.modelModifiers)&&void 0!==t&&t.abortable){var a={value:i,abort:function(){var t=n.$refs.root.querySelectorAll("input").item(e);t.checked=!t.checked}};this.$emit("update:modelValue",a)}else this.$emit("update:modelValue",i)}}});Ri.render=$i;var zi=Ri,Wi={class:"expandableSelector"},Ji=Object(Oi["createElementVNode"])("svg",{class:"caret",height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},[Object(Oi["createElementVNode"])("path",{d:"M7 10l5 5 5-5z"}),Object(Oi["createElementVNode"])("path",{d:"M0 0h24v24H0z",fill:"none"})],-1),Gi=["value"],Ki={class:"expandableList z-depth-2"},Yi={class:"searchContainer"},Zi={class:"collection firstLevel"},Xi=["onClick"],Qi={class:"collection secondLevel"},ea=["onClick"],ta={class:"primary-content"},na=["title"];function ra(e,t,n,r,o,i){var a=Object(Oi["resolveDirective"])("focus-if"),s=Object(Oi["resolveDirective"])("focus-anywhere-but-here");return Object(Oi["withDirectives"])((Object(Oi["openBlock"])(),Object(Oi["createElementBlock"])("div",Wi,[Object(Oi["createElementVNode"])("div",{onClick:t[0]||(t[0]=function(t){return e.showSelect=!e.showSelect}),class:"select-wrapper"},[Ji,Object(Oi["createElementVNode"])("input",{type:"text",class:"select-dropdown",readonly:"readonly",value:e.modelValueText},null,8,Gi)]),Object(Oi["withDirectives"])(Object(Oi["createElementVNode"])("div",Ki,[Object(Oi["createElementVNode"])("div",Yi,[Object(Oi["withDirectives"])(Object(Oi["createElementVNode"])("input",{type:"text",placeholder:"Search","onUpdate:modelValue":t[1]||(t[1]=function(t){return e.searchTerm=t}),class:"expandableSearch browser-default"},null,512),[[Oi["vModelText"],e.searchTerm],[a,{focused:e.showSelect}]])]),Object(Oi["createElementVNode"])("ul",Zi,[(Object(Oi["openBlock"])(!0),Object(Oi["createElementBlock"])(Oi["Fragment"],null,Object(Oi["renderList"])(e.availableOptions,(function(t,n){return Object(Oi["withDirectives"])((Object(Oi["openBlock"])(),Object(Oi["createElementBlock"])("li",{class:"collection-item",key:n},[Object(Oi["createElementVNode"])("h4",{class:"expandableListCategory",onClick:function(n){return e.onCategoryClicked(t)}},[Object(Oi["createTextVNode"])(Object(Oi["toDisplayString"])(t.group)+" ",1),Object(Oi["createElementVNode"])("span",{class:Object(Oi["normalizeClass"])(["secondary-content",{"icon-chevron-right":e.showCategory!==t.group,"icon-chevron-down":e.showCategory===t.group}])},null,2)],8,Xi),Object(Oi["withDirectives"])(Object(Oi["createElementVNode"])("ul",Qi,[(Object(Oi["openBlock"])(!0),Object(Oi["createElementBlock"])(Oi["Fragment"],null,Object(Oi["renderList"])(t.values.filter((function(t){return-1!==t.value.toLowerCase().indexOf(e.searchTerm.toLowerCase())})),(function(t){return Object(Oi["openBlock"])(),Object(Oi["createElementBlock"])("li",{class:"expandableListItem collection-item valign-wrapper",key:t.key,onClick:function(n){return e.onValueClicked(t)}},[Object(Oi["createElementVNode"])("span",ta,Object(Oi["toDisplayString"])(t.value),1),Object(Oi["withDirectives"])(Object(Oi["createElementVNode"])("span",{title:t.tooltip,class:"secondary-content icon-help"},null,8,na),[[Oi["vShow"],t.tooltip]])],8,ea)})),128))],512),[[Oi["vShow"],e.showCategory===t.group||e.searchTerm]])],512)),[[Oi["vShow"],t.values.filter((function(t){return-1!==t.value.toLowerCase().indexOf(e.searchTerm.toLowerCase())})).length]])})),128))])],512),[[Oi["vShow"],e.showSelect]])],512)),[[s,{blur:e.onBlur}]])}function oa(e){var t=[];if(!e)return t;var n={};return Object.values(e).forEach((function(e){var t=e,r=t.group||"";r in n&&n[r]||(n[r]={values:[],group:r});var o={key:t.key,value:t.value};"tooltip"in t&&t.tooltip&&(o.tooltip=t.tooltip),n[r].values.push(o)})),Object.values(n).forEach((function(e){e.values.length&&t.push(e)})),t}var ia=Object(Oi["defineComponent"])({props:{modelValue:[Number,String],modelModifiers:Object,availableOptions:Array,title:String},directives:{FocusAnywhereButHere:Ci["FocusAnywhereButHere"],FocusIf:Ci["FocusIf"]},inheritAttrs:!1,emits:["update:modelValue"],data:function(){return{showSelect:!1,searchTerm:"",showCategory:""}},computed:{modelValueText:function(){if(this.title)return this.title;var e,t=this.modelValue,n=this.availableOptions||[];return n.some((function(n){return e=n.values.find((function(e){return e.key===t})),e})),e?e.value?"".concat(e.value):"":t?"".concat(t):""}},methods:{onBlur:function(){this.showSelect=!1},onCategoryClicked:function(e){this.showCategory===e.group?this.showCategory="":this.showCategory=e.group},onValueClicked:function(e){var t;if(this.showSelect=!1,null!==(t=this.modelModifiers)&&void 0!==t&&t.abortable){var n={value:e.key,abort:function(){}};this.$emit("update:modelValue",n)}else this.$emit("update:modelValue",e.key)}}});ia.render=ra;var aa=ia,sa=["for","innerHTML"];function la(e,t,n,r,o,i){var a=Object(Oi["resolveComponent"])("FieldArray");return Object(Oi["openBlock"])(),Object(Oi["createElementBlock"])("div",null,[Object(Oi["createElementVNode"])("label",{for:e.name,innerHTML:e.$sanitize(e.title)},null,8,sa),Object(Oi["createVNode"])(a,{name:e.name,"model-value":e.modelValue,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.onValueUpdate(t)}),"model-modifiers":e.modelModifiers,field:e.uiControlAttributes.field,rows:e.uiControlAttributes.rows},null,8,["name","model-value","model-modifiers","field","rows"])])}var ca=Object(Oi["defineComponent"])({components:{FieldArray:Ci["FieldArray"]},props:{name:String,title:String,modelValue:null,modelModifiers:Object,uiControlAttributes:Object},inheritAttrs:!1,emits:["update:modelValue"],methods:{onValueUpdate:function(e){this.$emit("update:modelValue",e)}}});ca.render=la;var ua=ca,pa={class:"btn"},da=["for","innerHTML"],fa=["name","id"],ma={class:"file-path-wrapper"},ha=["value"];function ga(e,t,n,r,o,i){return Object(Oi["openBlock"])(),Object(Oi["createElementBlock"])("div",null,[Object(Oi["createElementVNode"])("div",pa,[Object(Oi["createElementVNode"])("span",{for:e.name,innerHTML:e.$sanitize(e.title)},null,8,da),Object(Oi["createElementVNode"])("input",{ref:"fileInput",name:e.name,type:"file",id:e.name,onChange:t[0]||(t[0]=function(t){return e.onChange(t)})},null,40,fa)]),Object(Oi["createElementVNode"])("div",ma,[Object(Oi["createElementVNode"])("input",{class:"file-path validate",value:e.filePath,type:"text"},null,8,ha)])])}var ba=Object(Oi["defineComponent"])({props:{name:String,title:String,modelValue:[String,File],modelModifiers:Object},inheritAttrs:!1,emits:["update:modelValue"],watch:{modelValue:function(e){if(!e||""===e){var t=this.$refs.fileInput;t.value=""}}},methods:{onChange:function(e){var t,n=e.target.files;if(n){var r=n.item(0);if(null!==(t=this.modelModifiers)&&void 0!==t&&t.abortable){var o={value:r,abort:function(){}};this.$emit("update:modelValue",o)}else this.$emit("update:modelValue",r)}}},computed:{filePath:function(){if(this.modelValue instanceof File)return this.$refs.fileInput.value}}});ba.render=ga;var ya=ba,va=["type","name","value"];function Oa(e,t,n,r,o,i){return Object(Oi["openBlock"])(),Object(Oi["createElementBlock"])("div",null,[Object(Oi["createElementVNode"])("input",{type:e.uiControl,name:e.name,value:e.modelValue,onChange:t[0]||(t[0]=function(t){return e.onChange(t)})},null,40,va)])}var ja=Object(Oi["defineComponent"])({props:{modelValue:null,modelModifiers:Object,uiControl:String,name:String},inheritAttrs:!1,emits:["update:modelValue"],methods:{onChange:function(e){this.$emit("update:modelValue",e.target.value)}}});ja.render=Oa;var wa=ja,Na={class:"fieldMultiTuple"},xa=["for","innerHTML"];function ka(e,t,n,r,o,i){var a=Object(Oi["resolveComponent"])("MultiPairField");return Object(Oi["openBlock"])(),Object(Oi["createElementBlock"])("div",Na,[Object(Oi["createElementVNode"])("label",{for:e.name,innerHTML:e.$sanitize(e.title)},null,8,xa),Object(Oi["createVNode"])(a,{name:e.name,"model-value":e.modelValue,"onUpdate:modelValue":e.onUpdateValue,"model-modifiers":e.modelModifiers,field1:e.uiControlAttributes.field1,field2:e.uiControlAttributes.field2,field3:e.uiControlAttributes.field3,field4:e.uiControlAttributes.field4,rows:e.uiControlAttributes.rows},null,8,["name","model-value","onUpdate:modelValue","model-modifiers","field1","field2","field3","field4","rows"])])}var Ea=Object(Oi["defineComponent"])({props:{name:String,title:String,modelValue:null,modelModifiers:Object,uiControlAttributes:Object},inheritAttrs:!1,components:{MultiPairField:Ci["MultiPairField"]},emits:["update:modelValue"],methods:{onUpdateValue:function(e){this.$emit("update:modelValue",e)}}});Ea.render=ka;var Ca=Ea,Sa=["type","id","name","value"],Aa=["for","innerHTML"];function Va(e,t,n,r,o,i){return Object(Oi["openBlock"])(),Object(Oi["createElementBlock"])(Oi["Fragment"],null,[Object(Oi["createElementVNode"])("input",Object(Oi["mergeProps"])({class:"control_".concat(e.uiControl),type:e.uiControl,id:e.name,name:e.name,value:e.modelValueFormatted,onKeydown:t[0]||(t[0]=function(t){return e.onChange(t)}),onChange:t[1]||(t[1]=function(t){return e.onChange(t)})},e.uiControlAttributes),null,16,Sa),Object(Oi["createElementVNode"])("label",{for:e.name,innerHTML:e.$sanitize(e.title)},null,8,Aa)],64)}var Ta=Object(Oi["defineComponent"])({props:{uiControl:String,name:String,title:String,modelValue:[Number,String],modelModifiers:Object,uiControlAttributes:Object},inheritAttrs:!1,emits:["update:modelValue"],created:function(){this.onChange=Object(Ci["debounce"])(this.onChange.bind(this),50)},methods:{onChange:function(e){var t=this,n=parseFloat(e.target.value);if(n!==this.modelValue){var r;if(null===(r=this.modelModifiers)||void 0===r||!r.abortable)return void this.$emit("update:modelValue",n);var o={value:n,abort:function(){e.target.value!==t.modelValueFormatted&&(e.target.value=t.modelValueFormatted)}};this.$emit("update:modelValue",o)}}},mounted:function(){setTimeout((function(){window.Materialize.updateTextFields()}))},watch:{modelValue:function(){setTimeout((function(){window.Materialize.updateTextFields()}))}},computed:{modelValueFormatted:function(){return(this.modelValue||"").toString()}}});Ta.render=Va;var Pa=Ta,Ma={ref:"root"},Ba=["value","id","name","disabled","checked"];function Da(e,t,n,r,o,i){return Object(Oi["openBlock"])(),Object(Oi["createElementBlock"])("div",Ma,[Object(Oi["withDirectives"])(Object(Oi["createElementVNode"])("label",{class:"fieldRadioTitle"},Object(Oi["toDisplayString"])(e.title),513),[[Oi["vShow"],e.title]]),(Object(Oi["openBlock"])(!0),Object(Oi["createElementBlock"])(Oi["Fragment"],null,Object(Oi["renderList"])(e.availableOptions||[],(function(n){return Object(Oi["openBlock"])(),Object(Oi["createElementBlock"])("p",{key:n.key,class:"radio"},[Object(Oi["createElementVNode"])("label",null,[Object(Oi["createElementVNode"])("input",Object(Oi["mergeProps"])({value:n.key,onChange:t[0]||(t[0]=function(t){return e.onChange(t)}),type:"radio",id:"".concat(e.name).concat(n.key),name:e.name,disabled:n.disabled||e.disabled},e.uiControlAttributes,{checked:e.modelValue===n.key||"".concat(e.modelValue)===n.key}),null,16,Ba),Object(Oi["createElementVNode"])("span",null,[Object(Oi["createTextVNode"])(Object(Oi["toDisplayString"])(n.value)+" ",1),Object(Oi["withDirectives"])(Object(Oi["createElementVNode"])("span",{class:"form-description"},Object(Oi["toDisplayString"])(n.description),513),[[Oi["vShow"],n.description]])])])])})),128))],512)}var $a=Object(Oi["defineComponent"])({props:{title:String,availableOptions:Array,name:String,disabled:Boolean,uiControlAttributes:Object,modelValue:[String,Number],modelModifiers:Object},inheritAttrs:!1,emits:["update:modelValue"],methods:{onChange:function(e){var t,n=this;if(null!==(t=this.modelModifiers)&&void 0!==t&&t.abortable){var r=function(){n.$refs.root.querySelectorAll("input").forEach((function(e,t){var r;if(null!==(r=n.availableOptions)&&void 0!==r&&r[t]){var o=n.availableOptions[t].key;e.checked=n.modelValue===o||"".concat(n.modelValue)===o}}))},o={value:e.target.value,abort:function(){r()}};this.$emit("update:modelValue",o)}else this.$emit("update:modelValue",e.target.value)}}});$a.render=Da;var Fa=$a;function _a(e,t){return qa(e)||Ha(e,t)||La(e,t)||Ia()}function Ia(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function La(e,t){if(e){if("string"===typeof e)return Ua(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ua(e,t):void 0}}function Ua(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ha(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0)if(i.push(r.value),t&&i.length===t)break}catch(l){s=!0,o=l}finally{try{a||null==n["return"]||n["return"]()}finally{if(s)throw o}}return i}}function qa(e){if(Array.isArray(e))return e}var Ra={key:0,class:"matomo-field-select"},za=["multiple","name"],Wa=["label"],Ja=["value","selected","disabled"],Ga=["for","innerHTML"],Ka={key:1,class:"matomo-field-select"},Ya=["multiple","name"],Za=["value","selected","disabled"],Xa=["for","innerHTML"];function Qa(e,t,n,r,o,i){return Object(Oi["openBlock"])(),Object(Oi["createElementBlock"])(Oi["Fragment"],null,[e.groupedOptions?(Object(Oi["openBlock"])(),Object(Oi["createElementBlock"])("div",Ra,[Object(Oi["createElementVNode"])("select",Object(Oi["mergeProps"])({ref:"select",class:"grouped",multiple:e.multiple,name:e.name,onChange:t[0]||(t[0]=function(t){return e.onChange(t)})},e.uiControlAttributes),[(Object(Oi["openBlock"])(!0),Object(Oi["createElementBlock"])(Oi["Fragment"],null,Object(Oi["renderList"])(e.groupedOptions,(function(t){var n=_a(t,2),r=n[0],o=n[1];return Object(Oi["openBlock"])(),Object(Oi["createElementBlock"])("optgroup",{key:r,label:r},[(Object(Oi["openBlock"])(!0),Object(Oi["createElementBlock"])(Oi["Fragment"],null,Object(Oi["renderList"])(o,(function(t){return Object(Oi["openBlock"])(),Object(Oi["createElementBlock"])("option",{key:t.key,value:"string:".concat(t.key),selected:e.multiple?e.modelValue&&-1!==e.modelValue.indexOf(t.key):e.modelValue===t.key,disabled:t.disabled},Object(Oi["toDisplayString"])(t.value),9,Ja)})),128))],8,Wa)})),128))],16,za),Object(Oi["createElementVNode"])("label",{for:e.name,innerHTML:e.$sanitize(e.title)},null,8,Ga)])):Object(Oi["createCommentVNode"])("",!0),!e.groupedOptions&&e.options?(Object(Oi["openBlock"])(),Object(Oi["createElementBlock"])("div",Ka,[Object(Oi["createElementVNode"])("select",Object(Oi["mergeProps"])({class:"ungrouped",ref:"select",multiple:e.multiple,name:e.name,onChange:t[1]||(t[1]=function(t){return e.onChange(t)})},e.uiControlAttributes),[(Object(Oi["openBlock"])(!0),Object(Oi["createElementBlock"])(Oi["Fragment"],null,Object(Oi["renderList"])(e.options,(function(t){return Object(Oi["openBlock"])(),Object(Oi["createElementBlock"])("option",{key:t.key,value:"string:".concat(t.key),selected:e.multiple?e.modelValue&&-1!==e.modelValue.indexOf(t.key):e.modelValue===t.key,disabled:t.disabled},Object(Oi["toDisplayString"])(t.value),9,Za)})),128))],16,Ya),Object(Oi["createElementVNode"])("label",{for:e.name,innerHTML:e.$sanitize(e.title)},null,8,Xa)])):Object(Oi["createCommentVNode"])("",!0)],64)}function es(e){return rs(e)||ns(e)||as(e)||ts()}function ts(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function ns(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function rs(e){if(Array.isArray(e))return ss(e)}function os(e,t){return cs(e)||ls(e,t)||as(e,t)||is()}function is(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function as(e,t){if(e){if("string"===typeof e)return ss(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ss(e,t):void 0}}function ss(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ls(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0)if(i.push(r.value),t&&i.length===t)break}catch(l){s=!0,o=l}finally{try{a||null==n["return"]||n["return"]()}finally{if(s)throw o}}return i}}function cs(e){if(Array.isArray(e))return e}function us(e){return us="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},us(e)}function ps(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=arguments.length>4?arguments[4]:void 0;if(e){var i=window.$(e);if(Array.from(e.options).forEach((function(e){e.selected=o?!!t&&-1!==t.indexOf(e.value.replace(/^string:/,"")):"string:".concat(t)===e.value})),i.formSelect(r),n){var a=i.closest(".select-wrapper").find("input");a.attr("placeholder",n)}}}function ds(e){return!Array.isArray(e)&&"object"===us(e)&&Object.values(e).some((function(e){return"object"===us(e)}))}function fs(e,t){return e.some((function(e){return e.key===t}))}function ms(e,t,n){if(!e)return[];var r=!0,o=e;ds(o)||(o={"":e},r=!1);var i=[];return Object.entries(o).forEach((function(e){var n=os(e,2),o=n[0],a=n[1];Object.entries(a).forEach((function(e){var n=os(e,2),a=n[0],s=n[1];if(s&&"object"===us(s)&&"undefined"!==typeof s.key)i.push(s);else{var l=a;"integer"===t&&"string"===typeof a&&(l=parseInt(a,10)),i.push({group:r?o:void 0,key:l,value:s})}}))})),null!==n&&void 0!==n&&n.placeholder&&!fs(i,"")?[{key:"",value:""}].concat(i):i}function hs(e){return"string"===typeof e?e.replace(/^string:/,""):e}var gs=Object(Oi["defineComponent"])({props:{modelValue:null,modelModifiers:Object,multiple:Boolean,name:String,title:String,availableOptions:Array,uiControlAttributes:Object,uiControlOptions:Object},inheritAttrs:!1,emits:["update:modelValue"],computed:{options:function(){var e=this.availableOptions;return!e||fs(e,"")||"undefined"!==typeof this.modelValue&&null!==this.modelValue&&""!==this.modelValue?e:[{key:"",value:this.modelValue,group:this.hasGroups?"":void 0}].concat(es(e))},hasGroups:function(){var e=this.availableOptions;return e&&e[0]&&"undefined"!==typeof e[0].group},groupedOptions:function(){var e=this.options;if(!this.hasGroups||!e)return null;var t={};e.forEach((function(e){var n=e.group;t[n]=t[n]||[],t[n].push(e)}));var n=Object.entries(t);return n.sort((function(e,t){return e[0]<t[0]?-1:e[0]>t[0]?1:0})),n}},methods:{onChange:function(e){var t,n,r=this,o=e.target;if(this.multiple?(n=Array.from(o.options).filter((function(e){return e.selected})).map((function(e){return e.value})),n=n.map((function(e){return hs(e)}))):(n=o.value,n=hs(n)),null!==(t=this.modelModifiers)&&void 0!==t&&t.abortable){var i={value:n,abort:function(){r.onModelValueChange(r.modelValue)}};this.$emit("update:modelValue",i)}else this.$emit("update:modelValue",n)},onModelValueChange:function(e){var t=this;window.$(this.$refs.select).val(e),setTimeout((function(){var n;ps(t.$refs.select,e,null===(n=t.uiControlAttributes)||void 0===n?void 0:n.placeholder,t.uiControlOptions,t.multiple)}))}},watch:{modelValue:function(e){this.onModelValueChange(e)},"uiControlAttributes.disabled":{handler:function(e,t){var n=this;setTimeout((function(){var r;e!==t&&ps(n.$refs.select,n.modelValue,null===(r=n.uiControlAttributes)||void 0===r?void 0:r.placeholder,n.uiControlOptions,n.multiple)}))}},availableOptions:function(e,t){var n=this;e!==t&&setTimeout((function(){var e;ps(n.$refs.select,n.modelValue,null===(e=n.uiControlAttributes)||void 0===e?void 0:e.placeholder,n.uiControlOptions,n.multiple)}))}},mounted:function(){var e=this;setTimeout((function(){var t;ps(e.$refs.select,e.modelValue,null===(t=e.uiControlAttributes)||void 0===t?void 0:t.placeholder,e.uiControlOptions,e.multiple)}))}});gs.render=Qa;var bs=gs,ys=["for","innerHTML"],vs={class:"sites_autocomplete"};function Os(e,t,n,r,o,i){var a=Object(Oi["resolveComponent"])("SiteSelector");return Object(Oi["openBlock"])(),Object(Oi["createElementBlock"])("div",null,[Object(Oi["createElementVNode"])("label",{for:e.name,class:"siteSelectorLabel",innerHTML:e.$sanitize(e.title)},null,8,ys),Object(Oi["createElementVNode"])("div",vs,[Object(Oi["createVNode"])(a,Object(Oi["mergeProps"])({"model-value":e.modelValue,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.onChange(t)}),id:e.name,"show-all-sites-item":e.uiControlAttributes.showAllSitesItem||!1,"switch-site-on-select":!1,"show-selected-site":!0,"only-sites-with-admin-access":e.uiControlAttributes.onlySitesWithAdminAccess||!1},e.uiControlAttributes),null,16,["model-value","id","show-all-sites-item","only-sites-with-admin-access"])])])}var js=Object(Oi["defineComponent"])({props:{name:String,title:String,modelValue:Object,modelModifiers:Object,uiControlAttributes:Object},inheritAttrs:!1,components:{SiteSelector:Ci["SiteSelector"]},emits:["update:modelValue"],methods:{onChange:function(e){var t;if(null!==(t=this.modelModifiers)&&void 0!==t&&t.abortable){var n={value:e,abort:function(){}};this.$emit("update:modelValue",n)}else this.$emit("update:modelValue",e)}}});js.render=Os;var ws=js,Ns=["type","id","name","value","spellcheck"],xs=["for","innerHTML"];function ks(e,t,n,r,o,i){return Object(Oi["openBlock"])(),Object(Oi["createElementBlock"])(Oi["Fragment"],null,[Object(Oi["createElementVNode"])("input",Object(Oi["mergeProps"])({class:"control_".concat(e.uiControl),type:e.uiControl,id:e.name,name:e.name,value:e.modelValueText,spellcheck:"password"!==e.uiControl&&null,onKeydown:t[0]||(t[0]=function(t){return e.onKeydown(t)}),onChange:t[1]||(t[1]=function(t){return e.onKeydown(t)})},e.uiControlAttributes),null,16,Ns),Object(Oi["createElementVNode"])("label",{for:e.name,innerHTML:e.$sanitize(e.title)},null,8,xs)],64)}var Es=Object(Oi["defineComponent"])({props:{title:String,name:String,uiControlAttributes:Object,modelValue:[String,Number],modelModifiers:Object,uiControl:String},inheritAttrs:!1,emits:["update:modelValue"],computed:{modelValueText:function(){return"undefined"===typeof this.modelValue||null===this.modelValue?"":this.modelValue.toString()}},created:function(){this.onKeydown=Object(Ci["debounce"])(this.onKeydown.bind(this),50)},mounted:function(){setTimeout((function(){window.Materialize.updateTextFields()}))},watch:{modelValue:function(){setTimeout((function(){window.Materialize.updateTextFields()}))}},methods:{onKeydown:function(e){var t=this,n=e.target.value;if(this.modelValue!==n){var r;if(null===(r=this.modelModifiers)||void 0===r||!r.abortable)return void this.$emit("update:modelValue",n);var o={value:n,abort:function(){e.target.value!==t.modelValueText&&(e.target.value=t.modelValueText)}};this.$emit("update:modelValue",o)}}}});Es.render=ks;var Cs=Es,Ss=["for","innerHTML"],As=["type","name","value"];function Vs(e,t,n,r,o,i){return Object(Oi["openBlock"])(),Object(Oi["createElementBlock"])("div",null,[Object(Oi["createElementVNode"])("label",{for:e.name,innerHTML:e.$sanitize(e.title)},null,8,Ss),Object(Oi["createElementVNode"])("input",Object(Oi["mergeProps"])({class:"control_".concat(e.uiControl),type:e.uiControl,name:e.name,onKeydown:t[0]||(t[0]=function(t){return e.onKeydown(t)}),onChange:t[1]||(t[1]=function(t){return e.onKeydown(t)}),value:e.concattedValues},e.uiControlAttributes),null,16,As)])}var Ts=Object(Oi["defineComponent"])({props:{name:String,title:String,uiControl:String,modelValue:Array,modelModifiers:Object,uiControlAttributes:Object},inheritAttrs:!1,computed:{concattedValues:function(){return"string"===typeof this.modelValue?this.modelValue:(this.modelValue||[]).join(", ")}},emits:["update:modelValue"],created:function(){this.onKeydown=Object(Ci["debounce"])(this.onKeydown.bind(this),50)},methods:{onKeydown:function(e){var t=this,n=e.target.value.split(",").map((function(e){return e.trim()}));if(n.join(", ")!==this.concattedValues){var r;if(null===(r=this.modelModifiers)||void 0===r||!r.abortable)return void this.$emit("update:modelValue",n);var o={value:n,abort:function(){e.target.value!==t.concattedValues&&(e.target.value=t.concattedValues)}};this.$emit("update:modelValue",o)}}}});Ts.render=Vs;var Ps=Ts,Ms=["name","id","value"],Bs=["for","innerHTML"];function Ds(e,t,n,r,o,i){return Object(Oi["openBlock"])(),Object(Oi["createElementBlock"])(Oi["Fragment"],null,[Object(Oi["createElementVNode"])("textarea",Object(Oi["mergeProps"])({name:e.name},e.uiControlAttributes,{id:e.name,value:e.modelValueText,onKeydown:t[0]||(t[0]=function(t){return e.onKeydown(t)}),onChange:t[1]||(t[1]=function(t){return e.onKeydown(t)}),class:"materialize-textarea",ref:"textarea"}),null,16,Ms),Object(Oi["createElementVNode"])("label",{for:e.name,innerHTML:e.$sanitize(e.title)},null,8,Bs)],64)}var $s=Object(Oi["defineComponent"])({props:{name:String,uiControlAttributes:Object,modelValue:String,modelModifiers:Object,title:String},inheritAttrs:!1,emits:["update:modelValue"],created:function(){this.onKeydown=Object(Ci["debounce"])(this.onKeydown.bind(this),50)},methods:{onKeydown:function(e){var t=this,n=e.target.value;if(n!==this.modelValue){var r;if(null===(r=this.modelModifiers)||void 0===r||!r.abortable)return void this.$emit("update:modelValue",n);var o={value:n,abort:function(){e.target.value!==t.modelValue&&(e.target.value=t.modelValueText)}};this.$emit("update:modelValue",o)}}},computed:{modelValueText:function(){return this.modelValue||""}},watch:{modelValue:function(){var e=this;setTimeout((function(){window.Materialize.textareaAutoResize(e.$refs.textarea),window.Materialize.updateTextFields()}))}},mounted:function(){var e=this;setTimeout((function(){window.Materialize.textareaAutoResize(e.$refs.textarea),window.Materialize.updateTextFields()}))}});$s.render=Ds;var Fs=$s,_s=["for","innerHTML"],Is=["name","value"];function Ls(e,t,n,r,o,i){return Object(Oi["openBlock"])(),Object(Oi["createElementBlock"])("div",null,[Object(Oi["createElementVNode"])("label",{for:e.name,innerHTML:e.$sanitize(e.title)},null,8,_s),Object(Oi["createElementVNode"])("textarea",Object(Oi["mergeProps"])({ref:"textarea",name:e.name},e.uiControlAttributes,{value:e.concattedValue,onKeydown:t[0]||(t[0]=function(t){return e.onKeydown(t)}),onChange:t[1]||(t[1]=function(t){return e.onKeydown(t)}),class:"materialize-textarea"}),null,16,Is)])}function Us(e){return Us="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Us(e)}var Hs="\n",qs=Object(Oi["defineComponent"])({props:{name:String,title:String,uiControlAttributes:Object,modelValue:[Array,String],modelModifiers:Object},inheritAttrs:!1,emits:["update:modelValue"],computed:{concattedValue:function(){if("string"===typeof this.modelValue)return this.modelValue;if("object"===Us(this.modelValue))return Object.values(this.modelValue).join(Hs);try{return(this.modelValue||[]).join(Hs)}catch(e){return console.error(e),""}}},created:function(){this.onKeydown=Object(Ci["debounce"])(this.onKeydown.bind(this),50)},methods:{onKeydown:function(e){var t=this,n=e.target.value.split(Hs);if(n.join(Hs)!==this.concattedValue){var r;if(null===(r=this.modelModifiers)||void 0===r||!r.abortable)return void this.$emit("update:modelValue",n);var o={value:n,abort:function(){e.target.value!==t.concattedValue&&(e.target.value=t.concattedValue)}};this.$emit("update:modelValue",o)}}},watch:{modelValue:function(e,t){var n=this;e!==t&&setTimeout((function(){n.$refs.textarea&&window.Materialize.textareaAutoResize(n.$refs.textarea),window.Materialize.updateTextFields()}))}},mounted:function(){var e=this;setTimeout((function(){e.$refs.textarea&&window.Materialize.textareaAutoResize(e.$refs.textarea),window.Materialize.updateTextFields()}))}});qs.render=Ls;var Rs=qs;function zs(e){return zs="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zs(e)}function Ws(e,t){return Zs(e)||Ys(e,t)||Gs(e,t)||Js()}function Js(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Gs(e,t){if(e){if("string"===typeof e)return Ks(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ks(e,t):void 0}}function Ks(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ys(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0)if(i.push(r.value),t&&i.length===t)break}catch(l){s=!0,o=l}finally{try{a||null==n["return"]||n["return"]()}finally{if(s)throw o}}return i}}function Zs(e){if(Array.isArray(e))return e}
/*!
 * Matomo - free/libre analytics platform
 *
 * @link    https://matomo.org
 * @license https://www.gnu.org/licenses/gpl-3.0.html GPL v3 or later
 */function Xs(e,t){if(!e)return[];var n=[];return Object.entries(e).forEach((function(e){var r=Ws(e,2),o=r[0],i=r[1];if(i&&"object"===zs(i)&&"undefined"!==typeof i.key)n.push(i);else{var a=o;"integer"===t&&"string"===typeof o&&(a=parseInt(a,10)),n.push({key:a,value:i})}})),n}function Qs(e){return Qs="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qs(e)}var el=["password","url","search","email"],tl=["textarea","checkbox","text"],nl={checkbox:"FieldCheckbox","expandable-select":"FieldExpandableSelect","field-array":"FieldFieldArray",file:"FieldFile",hidden:"FieldHidden",multiselect:"FieldSelect",multituple:"FieldMultituple",number:"FieldNumber",radio:"FieldRadio",select:"FieldSelect",site:"FieldSite",text:"FieldText",textarea:"FieldTextarea"},rl={FieldSelect:ms,FieldCheckboxArray:Xs,FieldRadio:Xs,FieldExpandableSelect:oa},ol=Object(Oi["defineComponent"])({props:{modelValue:null,modelModifiers:Object,formField:{type:Object,required:!0}},emits:["update:modelValue"],components:{FieldCheckbox:Mi,FieldCheckboxArray:zi,FieldExpandableSelect:aa,FieldFieldArray:ua,FieldFile:ya,FieldHidden:wa,FieldMultituple:Ca,FieldNumber:Pa,FieldRadio:Fa,FieldSelect:bs,FieldSite:ws,FieldText:Cs,FieldTextArray:Ps,FieldTextarea:Fs,FieldTextareaArray:Rs},setup:function(e){var t=Object(Oi["ref"])(null),n=function(e){var n;e&&t.value&&"function"!==typeof e.render&&(n="string"===typeof e?0===e.indexOf("#")?window.$(e):window.vueSanitize(e):e,window.$(t.value).html("").append(n))};return Object(Oi["watch"])((function(){return e.formField.inlineHelp}),n),Object(Oi["onMounted"])((function(){n(e.formField.inlineHelp)})),{inlineHelp:t}},computed:{inlineHelpComponent:function(){var e=this.formField,t=e.inlineHelp;if(t&&"function"===typeof t.render)return e.inlineHelp},inlineHelpBind:function(){return this.inlineHelpComponent?this.formField.inlineHelpBind:void 0},childComponent:function(){var e=this.formField;if(e.component){var t=e.component;if(e.component.plugin){var n=e.component,r=n.plugin,o=n.name;if(!r||!o)throw new Error("Invalid component property given to FormField directive, must be {plugin: '...',name: '...'}");t=Object(Ci["useExternalPluginComponent"])(r,o)}return Object(Oi["markRaw"])(t)}var i=e.uiControl,a=nl[i];return-1!==el.indexOf(i)&&(a="FieldText"),"array"===this.formField.type&&-1!==tl.indexOf(i)&&(a="".concat(a,"Array")),a},extraChildComponentParams:function(){return"multiselect"===this.formField.uiControl?{multiple:!0}:{}},showFormHelp:function(){return this.formField.description||this.formField.inlineHelp||this.showDefaultValue||this.hasInlineHelpSlot},showDefaultValue:function(){return this.defaultValuePretty&&"checkbox"!==this.formField.uiControl&&"radio"!==this.formField.uiControl},processedModelValue:function(){var e=this.formField;if("boolean"===e.type){var t=this.modelValue&&this.modelValue>0&&"0"!==this.modelValue;if("checkbox"===e.uiControl)return t;if("radio"===e.uiControl)return t?"1":"0"}return this.modelValue},defaultValue:function(){var e=this.formField.defaultValue;return Array.isArray(e)?e.join(","):e},availableOptions:function(){var e=this.childComponent;if("string"!==typeof e)return null;var t=this.formField;return t.availableValues&&rl[e]?rl[e](t.availableValues,t.type,t.uiControlAttributes):null},defaultValuePretty:function(){var e=this.formField,t=e.defaultValue,n=this.availableOptions;if("string"===typeof t&&t){var r=null;try{r=JSON.parse(t)}catch(i){}if(null!==r&&"object"===Qs(r))return""}if(!Array.isArray(n))return Array.isArray(t)?"":t?"".concat(t):"";var o=[];return Array.isArray(t)||(t=[t]),(n||[]).forEach((function(e){"undefined"!==typeof e.value&&-1!==t.indexOf(e.key)&&o.push(e.value)})),o.join(", ")},defaultValuePrettyTruncated:function(){return this.defaultValuePretty.substring(0,50)},hasInlineHelpSlot:function(){var e,t;if(!this.$slots["inline-help"])return!1;var n=this.$slots["inline-help"]();return!(null===n||void 0===n||null===(e=n[0])||void 0===e||null===(t=e.children)||void 0===t||!t.length)}},methods:{onChange:function(e){this.$emit("update:modelValue",e)}}});ol.render=Ei;var il=ol;function al(e,t,n,r,o,i){var a=Object(Oi["resolveComponent"])("FormField");return Object(Oi["openBlock"])(),Object(Oi["createBlock"])(a,{"form-field":e.field,"model-value":e.modelValue,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.onChange(t)}),"model-modifiers":e.modelModifiers},{"inline-help":Object(Oi["withCtx"])((function(){return[Object(Oi["renderSlot"])(e.$slots,"inline-help")]})),_:3},8,["form-field","model-value","model-modifiers"])}var sl={multiselect:"array",checkbox:"boolean",site:"object",number:"integer"},ll=Object(Oi["defineComponent"])({props:{modelValue:null,modelModifiers:Object,uicontrol:String,name:String,defaultValue:null,options:[Object,Array],description:String,introduction:String,title:String,inlineHelp:[String,Object],inlineHelpBind:Object,disabled:Boolean,uiControlAttributes:{type:Object,default:function(){return{}}},uiControlOptions:{type:Object,default:function(){return{}}},autocomplete:String,varType:String,autofocus:Boolean,tabindex:Number,fullWidth:Boolean,maxlength:Number,required:Boolean,placeholder:String,rows:Number,min:Number,max:Number,component:null},emits:["update:modelValue"],components:{FormField:il},computed:{type:function(){if(this.varType)return this.varType;var e=this.uicontrol;return e&&sl[e]?sl[e]:"string"},field:function(){return{uiControl:this.uicontrol,type:this.type,name:this.name,defaultValue:this.defaultValue,availableValues:this.options,description:this.description,introduction:this.introduction,inlineHelp:this.inlineHelp,inlineHelpBind:this.inlineHelpBind,title:this.title,component:this.component,uiControlAttributes:Object.assign(Object.assign({},this.uiControlAttributes),{},{disabled:this.disabled,autocomplete:this.autocomplete,tabindex:this.tabindex,autofocus:this.autofocus,rows:this.rows,required:this.required,maxlength:this.maxlength,placeholder:this.placeholder,min:this.min,max:this.max}),fullWidth:this.fullWidth,uiControlOptions:this.uiControlOptions}}},methods:{onChange:function(e){this.$emit("update:modelValue",e)}}});ll.render=al;var cl=ll,ul={class:"pluginSettings",ref:"root"},pl=["id"],dl={class:"card-content"},fl=["id"],ml=["onClick","disabled","value"];function hl(e,t,n,r,o,i){var a=Object(Oi["resolveComponent"])("GroupedSettings"),s=Object(Oi["resolveComponent"])("ActivityIndicator"),l=Object(Oi["resolveComponent"])("PasswordConfirmation");return Object(Oi["openBlock"])(),Object(Oi["createElementBlock"])("div",ul,[(Object(Oi["openBlock"])(!0),Object(Oi["createElementBlock"])(Oi["Fragment"],null,Object(Oi["renderList"])(e.settingsPerPlugin,(function(t){return Object(Oi["openBlock"])(),Object(Oi["createElementBlock"])("div",{class:"card",id:"".concat(t.pluginName,"PluginSettings"),key:"".concat(t.pluginName,"PluginSettings")},[Object(Oi["createElementVNode"])("div",dl,[Object(Oi["createElementVNode"])("h2",{class:"card-title",id:t.pluginName},Object(Oi["toDisplayString"])(t.title),9,fl),Object(Oi["createVNode"])(a,{"group-name":t.pluginName,settings:t.settings,"all-setting-values":e.settingValues,onChange:function(n){return e.settingValues["".concat(t.pluginName,".").concat(n.name)]=n.value}},null,8,["group-name","settings","all-setting-values","onChange"]),Object(Oi["createElementVNode"])("input",{type:"button",onClick:function(n){return e.saveSetting(t.pluginName)},disabled:e.isLoading,class:"pluginsSettingsSubmit btn",value:e.translate("General_Save")},null,8,ml),Object(Oi["createVNode"])(s,{loading:e.isLoading||e.isSaving[t.pluginName]},null,8,["loading"])])],8,pl)})),128)),Object(Oi["createVNode"])(l,{modelValue:e.showPasswordConfirmModal,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.showPasswordConfirmModal=t}),onConfirmed:e.confirmPassword},null,8,["modelValue","onConfirmed"])],512)}function gl(e,t,n,r,o,i){var a=Object(Oi["resolveComponent"])("GroupedSetting");return Object(Oi["openBlock"])(!0),Object(Oi["createElementBlock"])(Oi["Fragment"],null,Object(Oi["renderList"])(e.settings,(function(t){return Object(Oi["openBlock"])(),Object(Oi["createElementBlock"])("div",{key:"".concat(e.groupPrefix).concat(t.name)},[Object(Oi["createVNode"])(a,{"model-value":e.allSettingValues["".concat(e.groupPrefix).concat(t.name)],"onUpdate:modelValue":function(n){return e.$emit("change",{name:t.name,value:n})},setting:t,"condition-values":e.settingValues},null,8,["model-value","onUpdate:modelValue","setting","condition-values"])])})),128)}function bl(e,t,n,r,o,i){var a=Object(Oi["resolveComponent"])("FormField");return Object(Oi["withDirectives"])((Object(Oi["openBlock"])(),Object(Oi["createElementBlock"])("div",null,[Object(Oi["createVNode"])(a,{"model-value":e.modelValue,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.changeValue(t)}),"form-field":e.setting},null,8,["model-value","form-field"])],512)),[[Oi["vShow"],e.showField]])}var yl=Object(Oi["defineComponent"])({props:{setting:{type:Object,required:!0},modelValue:null,conditionValues:{type:Object,required:!0}},components:{FormField:il},emits:["update:modelValue"],computed:{showField:function(){var e=this.setting.condition;if(!e)return!0;e=e.replace(/&&/g," and "),e=e.replace(/\|\|/g," or "),e=e.replace(/!/g," not ");try{return vi.evaluate(e,this.conditionValues)}catch(t){return console.log("failed to parse setting condition '".concat(e,"': ").concat(t.message)),console.log(this.conditionValues),!1}}},methods:{changeValue:function(e){this.$emit("update:modelValue",e)}}});yl.render=bl;var vl=yl;function Ol(e,t){return kl(e)||xl(e,t)||wl(e,t)||jl()}function jl(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function wl(e,t){if(e){if("string"===typeof e)return Nl(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Nl(e,t):void 0}}function Nl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function xl(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0)if(i.push(r.value),t&&i.length===t)break}catch(l){s=!0,o=l}finally{try{a||null==n["return"]||n["return"]()}finally{if(s)throw o}}return i}}function kl(e){if(Array.isArray(e))return e}var El=Object(Oi["defineComponent"])({props:{groupName:String,settings:{type:Array,required:!0},allSettingValues:{type:Object,required:!0}},emits:["change"],components:{GroupedSetting:vl},computed:{settingValues:function(){var e=this,t=Object.entries(this.allSettingValues).filter((function(t){var n=Ol(t,1),r=n[0];if(e.groupName){var o=r.split("."),i=Ol(o,1),a=i[0];if(a!==e.groupName)return!1}return!0})).map((function(t){var n=Ol(t,2),r=n[0],o=n[1];return e.groupName?[r.split(".")[1],o]:[r,o]}));return Object.fromEntries(t)},groupPrefix:function(){return this.groupName?"".concat(this.groupName,"."):""}}});El.render=gl;var Cl=El,Sl={class:"confirm-password-modal modal",ref:"root"},Al={class:"modal-content"},Vl={class:"modal-text"},Tl={ref:"content"},Pl={key:0},Ml={key:1},Bl={key:2},Dl={class:"modal-footer"},$l=["disabled"];function Fl(e,t,n,r,o,i){var a=Object(Oi["resolveComponent"])("Field");return Object(Oi["openBlock"])(),Object(Oi["createElementBlock"])("div",Sl,[Object(Oi["createElementVNode"])("div",Al,[Object(Oi["createElementVNode"])("div",Vl,[Object(Oi["createElementVNode"])("div",Tl,[Object(Oi["renderSlot"])(e.$slots,"default")],512),e.requiresPasswordConfirmation||e.slotHasContent?Object(Oi["createCommentVNode"])("",!0):(Object(Oi["openBlock"])(),Object(Oi["createElementBlock"])("h2",Pl,Object(Oi["toDisplayString"])(e.translate("UsersManager_ConfirmThisChange")),1)),e.requiresPasswordConfirmation&&!e.slotHasContent?(Object(Oi["openBlock"])(),Object(Oi["createElementBlock"])("h2",Ml,Object(Oi["toDisplayString"])(e.translate("UsersManager_ConfirmWithPassword")),1)):Object(Oi["createCommentVNode"])("",!0),e.requiresPasswordConfirmation&&e.slotHasContent?(Object(Oi["openBlock"])(),Object(Oi["createElementBlock"])("div",Bl,Object(Oi["toDisplayString"])(e.translate("UsersManager_ConfirmWithPassword")),1)):Object(Oi["createCommentVNode"])("",!0)]),Object(Oi["withDirectives"])(Object(Oi["createElementVNode"])("div",null,[Object(Oi["createVNode"])(a,{modelValue:e.passwordConfirmation,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.passwordConfirmation=t}),uicontrol:"password",disabled:e.requiresPasswordConfirmation?void 0:"disabled",name:"currentUserPassword",autocomplete:"off","full-width":!0,title:e.translate("UsersManager_YourCurrentPassword")},null,8,["modelValue","disabled","title"])],512),[[Oi["vShow"],e.requiresPasswordConfirmation]])]),Object(Oi["createElementVNode"])("div",Dl,[Object(Oi["createElementVNode"])("a",{href:"",class:"modal-action modal-close btn",disabled:e.requiresPasswordConfirmation&&!e.passwordConfirmation?"disabled":void 0,onClick:t[1]||(t[1]=function(t){return e.onClickConfirm(t)})},Object(Oi["toDisplayString"])(e.translate("General_Confirm")),9,$l),Object(Oi["createElementVNode"])("a",{href:"",class:"modal-action modal-close modal-no btn-flat",onClick:t[2]||(t[2]=function(t){return e.onClickCancel(t)})},Object(Oi["toDisplayString"])(e.translate("General_Cancel")),1)])],512)}var _l=window,Il=_l.$,Ll=Object(Oi["defineComponent"])({props:{modelValue:{type:Boolean,required:!0}},data:function(){return{passwordConfirmation:"",slotHasContent:!0}},emits:["confirmed","aborted","update:modelValue"],components:{Field:cl},activated:function(){this.$emit("update:modelValue",!1)},methods:{onClickConfirm:function(e){e.preventDefault(),this.$emit("confirmed",this.passwordConfirmation),this.passwordConfirmation=""},onClickCancel:function(e){e.preventDefault(),this.$emit("aborted"),this.passwordConfirmation=""},showPasswordConfirmModal:function(){var e=this;this.slotHasContent=!this.$refs.content.matches(":empty");var t=this.$refs.root,n=Il(t),r=function(t){var r=t.keyCode?t.keyCode:t.which;13===r&&(n.modal("close"),e.$emit("confirmed",e.passwordConfirmation),e.passwordConfirmation="")};n.modal({dismissible:!1,onOpenEnd:function(){var e=".modal.open #currentUserPassword";Il(e).focus(),Il(e).off("keypress").keypress(r)},onCloseEnd:function(){e.$emit("update:modelValue",!1)}}).modal("open")}},computed:{requiresPasswordConfirmation:function(){return!!Ci["Matomo"].requiresPasswordConfirmation}},watch:{modelValue:function(e){e&&this.showPasswordConfirmModal()}}});Ll.render=Fl;var Ul=Ll;function Hl(e,t){return Jl(e)||Wl(e,t)||Rl(e,t)||ql()}function ql(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Rl(e,t){if(e){if("string"===typeof e)return zl(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?zl(e,t):void 0}}function zl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Wl(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0)if(i.push(r.value),t&&i.length===t)break}catch(l){s=!0,o=l}finally{try{a||null==n["return"]||n["return"]()}finally{if(s)throw o}}return i}}function Jl(e){if(Array.isArray(e))return e}var Gl=window,Kl=Gl.$,Yl=Object(Oi["defineComponent"])({props:{mode:String},components:{PasswordConfirmation:Ul,ActivityIndicator:Ci["ActivityIndicator"],GroupedSettings:Cl},data:function(){return{isLoading:!0,isSaving:{},showPasswordConfirmModal:!1,settingsToSave:null,settingsPerPlugin:[],settingValues:{}}},created:function(){var e=this;Ci["AjaxHelper"].fetch({method:this.apiMethod}).then((function(t){e.isLoading=!1,e.settingsPerPlugin=t,t.forEach((function(t){t.settings.forEach((function(n){e.settingValues["".concat(t.pluginName,".").concat(n.name)]=n.value}))})),Object(Ci["scrollToAnchorInUrl"])(),e.addSectionsToTableOfContents()})).catch((function(){e.isLoading=!1}))},computed:{apiMethod:function(){return"admin"===this.mode?"CorePluginsAdmin.getSystemSettings":"CorePluginsAdmin.getUserSettings"},saveApiMethod:function(){return"admin"===this.mode?"CorePluginsAdmin.setSystemSettings":"CorePluginsAdmin.setUserSettings"}},methods:{addSectionsToTableOfContents:function(){var e=Kl("#generalSettingsTOC");if(e.length){var t=this.settingsPerPlugin;t.forEach((function(t){var n=t.pluginName,r=t.settings;n&&("CoreAdminHome"===n&&r?r.filter((function(e){return e.introduction})).forEach((function(t){e.append('<a href="#/'.concat(n,'PluginSettings">').concat(t.introduction,"</a> "))})):e.append('<a href="#/'.concat(n,'">').concat(n.replace(/([A-Z])/g," $1").trim(),"</a> ")))}))}},confirmPassword:function(e){this.showPasswordConfirmModal=!1,this.save(this.settingsToSave,e)},saveSetting:function(e){"admin"===this.mode?(this.settingsToSave=e,this.showPasswordConfirmModal=!0):this.save(e)},save:function(e,t){var n=this,r=this.saveApiMethod;this.isSaving[e]=!0;var o=this.getValuesForPlugin(e);Ci["AjaxHelper"].post({method:r},{settingValues:o,passwordConfirmation:t}).then((function(){n.isSaving[e]=!1;var t=Ci["NotificationsStore"].show({message:Object(Ci["translate"])("CoreAdminHome_PluginSettingsSaveSuccess"),id:"generalSettings",context:"success",type:"transient"});Ci["NotificationsStore"].scrollToNotification(t)})).catch((function(){n.isSaving[e]=!1})),this.settingsToSave=null},getValuesForPlugin:function(e){var t={};return t[e]||(t[e]=[]),Object.entries(this.settingValues).forEach((function(n){var r=Hl(n,2),o=r[0],i=r[1],a=o.split("."),s=Hl(a,2),l=s[0],c=s[1];if(l===e){var u=i;!1===u?u="0":!0===u&&(u="1"),Array.isArray(u)&&0===u.length&&(u="__empty__"),t[l].push({name:c,value:u})}})),t}}});Yl.render=hl;var Zl=Yl,Xl=window,Ql=Xl.$;
/*!
 * Matomo - free/libre analytics platform
 *
 * @link    https://matomo.org
 * @license https://www.gnu.org/licenses/gpl-3.0.html GPL v3 or later
 */function ec(e){return e.find(".origin a.active").data("filter-origin")}function tc(e){return e.find(".status a.active").data("filter-status")}function nc(e,t){var n="#plugins tr";return n+="all"===e?"[data-filter-origin]":"[data-filter-origin=".concat(e,"]"),n+="all"===t?"[data-filter-status]":"[data-filter-status=".concat(t,"]"),Ql(n)}function rc(e,t,n,r){var o=nc(n,r).length,i=" (".concat(o,")");e.find("".concat(t," .counter")).text(i)}function oc(e){var t=ec(e),n=tc(e);rc(e,'[data-filter-status="all"]',t,"all"),rc(e,'[data-filter-status="active"]',t,"active"),rc(e,'[data-filter-status="inactive"]',t,"inactive"),rc(e,'[data-filter-origin="all"]',"all",n),rc(e,'[data-filter-origin="core"]',"core",n),rc(e,'[data-filter-origin="official"]',"official",n),rc(e,'[data-filter-origin="thirdparty"]',"thirdparty",n)}function ic(e){var t=ec(e),n=tc(e),r=nc(t,n);Ql("#plugins tr[data-filter-origin][data-filter-status]").css("display","none"),r.css("display","table-row"),oc(e)}function ac(e,t){t.preventDefault(),Ql(t.target).siblings().removeClass("active"),Ql(t.target).addClass("active"),ic(e)}function sc(e,t){t.preventDefault(),Ql(t.target).siblings().removeClass("active"),Ql(t.target).addClass("active"),ic(e)}var lc={mounted:function(e){setTimeout((function(){oc(Ql(e)),Ql(e).find(".status").on("click","a",ac.bind(null,Ql(e))),Ql(e).find(".origin").on("click","a",sc.bind(null,Ql(e)))}))}},cc=window,uc=cc.$;
/*!
 * Matomo - free/libre analytics platform
 *
 * @link    https://matomo.org
 * @license https://www.gnu.org/licenses/gpl-3.0.html GPL v3 or later
 */function pc(e,t){t.preventDefault();var n=uc(t.target).attr("href"),r=uc(t.target).attr("data-plugin-name");if(n&&r){e.value.uninstallConfirmMessage||(e.value.uninstallConfirmMessage=uc("#uninstallPluginConfirm").text());var o=(e.value.uninstallConfirmMessage||"").replace("%s",r);uc("#uninstallPluginConfirm").text(o),Ci["Matomo"].helper.modalConfirm("#confirmUninstallPlugin",{yes:function(){window.location.href=n}})}}function dc(e){e.preventDefault();var t=uc(e.target).data("overlay-id");Ci["Matomo"].helper.modalConfirm("#".concat(t),{})}var fc={mounted:function(e,t){setTimeout((function(){t.value.uninstallConfirmMessage="",uc(e).find(".uninstall").click(pc.bind(null,t)),uc(e).find(".plugin-donation-link").click(dc)}))}},mc=window,hc=mc.$;
/*!
 * Matomo - free/libre analytics platform
 *
 * @link    https://matomo.org
 * @license https://www.gnu.org/licenses/gpl-3.0.html GPL v3 or later
 */function gc(e){e.preventDefault(),Ci["Matomo"].helper.modalConfirm("#installPluginByUpload",{})}function bc(e){var t=hc("[name=pluginZip]"),n=t.val();n&&".zip"===n.slice(-4)?t.data("maxSize")>0&&t[0].files[0].size>1048576*t.data("maxSize")&&(e.preventDefault(),alert(Object(Ci["translate"])("CorePluginsAdmin_FileExceedsUploadLimit"))):(e.preventDefault(),alert(Object(Ci["translate"])("CorePluginsAdmin_NoZipFileSelected")))}var yc={mounted:function(){setTimeout((function(){hc(".uploadPlugin").click(gc),hc("#uploadPluginForm").submit(bc)}))}},vc={class:"matomo-save-button",style:{display:"inline-block"}},Oc=["disabled","value"];function jc(e,t,n,r,o,i){var a=Object(Oi["resolveComponent"])("ActivityIndicator");return Object(Oi["openBlock"])(),Object(Oi["createElementBlock"])("div",vc,[Object(Oi["createElementVNode"])("input",{type:"button",onClick:t[0]||(t[0]=function(t){return e.onConfirm(t)}),disabled:e.saving||e.disabled,class:"btn",value:e.value?e.value:e.translate("General_Save")},null,8,Oc),Object(Oi["createVNode"])(a,{loading:e.saving},null,8,["loading"])])}var wc=Object(Oi["defineComponent"])({props:{saving:Boolean,value:String,disabled:Boolean},components:{ActivityIndicator:Ci["ActivityIndicator"]},emits:["confirm"],methods:{onConfirm:function(e){this.$emit("confirm",e)}}});wc.render=jc;var Nc=wc,xc=window,kc=xc.$,Ec={mounted:function(e){setTimeout((function(){kc(e).find("input[type=text]").keypress((function(t){var n=t.keyCode||t.which;13===n&&kc(e).find(".matomo-save-button input").triggerHandler("click")}))}))}},Cc=["innerHTML"],Sc={key:1,style:{"margin-right":"3.5px"}},Ac=Object(Oi["createElementVNode"])("br",null,null,-1),Vc=["innerHTML"];
/*!
 * Matomo - free/libre analytics platform
 *
 * @link    https://matomo.org
 * @license https://www.gnu.org/licenses/gpl-3.0.html GPL v3 or later
 */function Tc(e,t,n,r,o,i){var a=Object(Oi["resolveComponent"])("EnrichedHeadline"),s=Object(Oi["resolveComponent"])("InstallAllPaidPluginsButton"),l=Object(Oi["resolveDirective"])("content-intro");return Object(Oi["openBlock"])(),Object(Oi["createElementBlock"])(Oi["Fragment"],null,[Object(Oi["withDirectives"])(Object(Oi["createElementVNode"])("div",null,[Object(Oi["createElementVNode"])("h2",null,[Object(Oi["createVNode"])(a,null,{default:Object(Oi["withCtx"])((function(){return[Object(Oi["createTextVNode"])(Object(Oi["toDisplayString"])(e.translate("CorePluginsAdmin_PluginsManagement")),1)]})),_:1})]),Object(Oi["createElementVNode"])("p",null,[Object(Oi["createTextVNode"])(Object(Oi["toDisplayString"])(e.translate("CorePluginsAdmin_PluginsExtendPiwik"))+" "+Object(Oi["toDisplayString"])(e.translate("CorePluginsAdmin_OncePluginIsInstalledYouMayActivateHere"))+" ",1),e.isMarketplaceEnabled||e.isPluginUploadEnabled?(Object(Oi["openBlock"])(),Object(Oi["createElementBlock"])("span",{key:0,innerHTML:e.$sanitize(e.teaserExtendMatomoByPluginText),style:{"margin-right":"3.5px"}},null,8,Cc)):Object(Oi["createCommentVNode"])("",!0),e.isPluginsAdminEnabled?Object(Oi["createCommentVNode"])("",!0):(Object(Oi["openBlock"])(),Object(Oi["createElementBlock"])("span",Sc,[Ac,Object(Oi["createTextVNode"])(Object(Oi["toDisplayString"])(e.translate("CorePluginsAdmin_DoMoreContactPiwikAdmins")),1)])),Object(Oi["createElementVNode"])("span",{innerHTML:e.$sanitize(e.changeLookByManageThemesText)},null,8,Vc)])],512),[[l]]),Object(Oi["createVNode"])(s)],64)}var Pc={key:0},Mc=["disabled"],Bc={class:"ui-confirm",id:"installAllPaidPluginsAtOnce",ref:"installAllPaidPluginsAtOnce"},Dc=["data-href","value"],$c=["value"];function Fc(e,t,n,r,o,i){var a=Object(Oi["resolveComponent"])("MatomoLoader");return e.paidPluginsToInstallAtOnce.length?(Object(Oi["openBlock"])(),Object(Oi["createElementBlock"])("div",Pc,[Object(Oi["createElementVNode"])("button",{class:"btn installAllPaidPluginsAtOnceButton",onClick:t[0]||(t[0]=Object(Oi["withModifiers"])((function(t){return e.onInstallAllPaidPlugins()}),["prevent"])),disabled:e.disabled||e.loading},[e.loading?(Object(Oi["openBlock"])(),Object(Oi["createBlock"])(a,{key:0})):Object(Oi["createCommentVNode"])("",!0),Object(Oi["createTextVNode"])(" "+Object(Oi["toDisplayString"])(e.translate("Marketplace_InstallPurchasedPlugins")),1)],8,Mc),Object(Oi["createElementVNode"])("div",Bc,[Object(Oi["createElementVNode"])("h2",null,Object(Oi["toDisplayString"])(e.translate("Marketplace_InstallAllPurchasedPlugins")),1),Object(Oi["createElementVNode"])("p",null,Object(Oi["toDisplayString"])(e.translate("Marketplace_InstallThesePlugins")),1),Object(Oi["createElementVNode"])("ul",null,[(Object(Oi["openBlock"])(!0),Object(Oi["createElementBlock"])(Oi["Fragment"],null,Object(Oi["renderList"])(e.paidPluginsToInstallAtOnce,(function(e){return Object(Oi["openBlock"])(),Object(Oi["createElementBlock"])("li",{key:e},Object(Oi["toDisplayString"])(e),1)})),128))]),Object(Oi["createElementVNode"])("p",null,[Object(Oi["createElementVNode"])("input",{role:"install",type:"button","data-href":e.installAllPaidPluginsLink,value:e.translate("Marketplace_InstallAllPurchasedPluginsAction",e.paidPluginsToInstallAtOnce.length)},null,8,Dc),Object(Oi["createElementVNode"])("input",{role:"cancel",type:"button",value:e.translate("General_Cancel")},null,8,$c)])],512)])):Object(Oi["createCommentVNode"])("",!0)}var _c=Object(Oi["defineComponent"])({components:{MatomoLoader:Ci["MatomoLoader"]},props:{disabled:{type:Boolean,required:!1,default:!1}},data:function(){return{paidPluginsToInstallAtOnce:[],installNonce:"",loading:!1}},created:function(){this.fetchPluginsToInstallAtOnce()},watch:{disabled:function(e,t){!1===e&&!0===t&&this.fetchPluginsToInstallAtOnce()}},methods:{onInstallAllPaidPlugins:function(){Ci["Matomo"].helper.modalConfirm(this.$refs.installAllPaidPluginsAtOnce)},fetchPluginsToInstallAtOnce:function(){var e=this;this.loading=!0,Ci["Matomo"].hasSuperUserAccess&&Ci["AjaxHelper"].fetch({module:"Marketplace",action:"getPaidPluginsToInstallAtOnceParams"}).then((function(t){var n,r;t&&(e.paidPluginsToInstallAtOnce=null!==(n=t.paidPluginsToInstallAtOnce)&&void 0!==n?n:[],e.installNonce=null!==(r=t.installAllPluginsNonce)&&void 0!==r?r:"");e.loading=!1}))}},computed:{installAllPaidPluginsLink:function(){return"?".concat(Ci["MatomoUrl"].stringify(Object.assign(Object.assign({},Ci["MatomoUrl"].urlParsed.value),{},{module:"Marketplace",action:"installAllPaidPlugins",nonce:this.installNonce})))}}});_c.render=Fc;var Ic=_c,Lc=Object(Oi["defineComponent"])({props:{isMarketplaceEnabled:Boolean,isPluginUploadEnabled:Boolean,isPluginsAdminEnabled:Boolean},components:{EnrichedHeadline:Ci["EnrichedHeadline"],InstallAllPaidPluginsButton:Ic},directives:{ContentIntro:Ci["ContentIntro"]},computed:{teaserExtendMatomoByPluginText:function(){var e="?".concat(Ci["MatomoUrl"].stringify(Object.assign(Object.assign({},Ci["MatomoUrl"].urlParsed.value),{},{module:"Marketplace",action:"overview",sort:null,activated:null})));return Object(Ci["translate"])("CorePluginsAdmin_TeaserExtendPiwikByPlugin",'<a href="'.concat(e,'">'),"</a>",'<a href="#" class="uploadPlugin">',"</a>")},changeLookByManageThemesText:function(){var e="?".concat(Ci["MatomoUrl"].stringify(Object.assign(Object.assign({},Ci["MatomoUrl"].urlParsed.value),{},{action:"themes",activated:null})));return Object(Ci["translate"])("CorePluginsAdmin_ChangeLookByManageThemes",'<a href="'.concat(e,'">'),"</a>")}}});Lc.render=Tc;var Uc=Lc,Hc=["innerHTML"],qc={key:1},Rc=Object(Oi["createElementVNode"])("br",null,null,-1),zc={key:2},Wc=Object(Oi["createElementVNode"])("br",null,null,-1);function Jc(e,t,n,r,o,i){var a=Object(Oi["resolveComponent"])("EnrichedHeadline"),s=Object(Oi["resolveDirective"])("content-intro");return Object(Oi["withDirectives"])((Object(Oi["openBlock"])(),Object(Oi["createElementBlock"])("div",null,[Object(Oi["createElementVNode"])("h2",null,[Object(Oi["createVNode"])(a,null,{default:Object(Oi["withCtx"])((function(){return[Object(Oi["createTextVNode"])(Object(Oi["toDisplayString"])(e.translate("CorePluginsAdmin_ThemesManagement")),1)]})),_:1})]),Object(Oi["createElementVNode"])("p",null,[Object(Oi["createTextVNode"])(Object(Oi["toDisplayString"])(e.translate("CorePluginsAdmin_ThemesDescription"))+" ",1),e.isMarketplaceEnabled?(Object(Oi["openBlock"])(),Object(Oi["createElementBlock"])("span",{key:0,innerHTML:e.$sanitize(e.teaserExtendByThemeText)},null,8,Hc)):Object(Oi["createCommentVNode"])("",!0),e.otherUsersCount>0?(Object(Oi["openBlock"])(),Object(Oi["createElementBlock"])("span",qc,[Rc,Object(Oi["createTextVNode"])(" "+Object(Oi["toDisplayString"])(e.translate("CorePluginsAdmin_InfoThemeIsUsedByOtherUsersAsWell",e.otherUsersCount,e.themeEnabled)),1)])):Object(Oi["createCommentVNode"])("",!0),e.isPluginsAdminEnabled?Object(Oi["createCommentVNode"])("",!0):(Object(Oi["openBlock"])(),Object(Oi["createElementBlock"])("span",zc,[Wc,Object(Oi["createTextVNode"])(Object(Oi["toDisplayString"])(e.translate("CorePluginsAdmin_DoMoreContactPiwikAdmins")),1)]))])],512)),[[s]])}var Gc=Object(Oi["defineComponent"])({props:{isMarketplaceEnabled:Boolean,otherUsersCount:Number,themeEnabled:Boolean,isPluginsAdminEnabled:Boolean},components:{EnrichedHeadline:Ci["EnrichedHeadline"]},directives:{ContentIntro:Ci["ContentIntro"]},computed:{teaserExtendByThemeText:function(){var e=Ci["MatomoUrl"].stringify({module:"Marketplace",action:"overview"}),t=Ci["MatomoUrl"].stringify({pluginType:"themes"}),n="?".concat(e,"#?").concat(t);return Object(Ci["translate"])("CorePluginsAdmin_TeaserExtendPiwikByTheme",'<a href="'.concat(n,'">'),"</a>")}}});Gc.render=Jc;var Kc=Gc,Yc=window,Zc=Yc.$;
/*!
 * Matomo - free/libre analytics platform
 *
 * @link    https://matomo.org
 * @license https://www.gnu.org/licenses/gpl-3.0.html GPL v3 or later
 */function Xc(e,t){var n=e.value.pluginName,r=e.value.activePluginTab;t.preventDefault(),r&&(n+="!".concat(r)),window.broadcast.propagateNewPopoverParameter("browsePluginDetail",n)}window.broadcast.addPopoverHandler("browsePluginDetail",(function(e){var t=e,n=null;if(-1!==e.indexOf("!")&&(n=e.slice(e.indexOf("!")+1),t=e.slice(0,e.indexOf("!"))),"Marketplace"===Ci["MatomoUrl"].urlParsed.value.module&&"overview"===Ci["MatomoUrl"].urlParsed.value.action)return window.broadcast.propagateNewPopoverParameter(""),void Ci["MatomoUrl"].updateHash(Object.assign(Object.assign({},Ci["MatomoUrl"].hashParsed.value),{},{showPlugin:t,popover:null}));var r="module=Marketplace&action=pluginDetails&pluginName=".concat(encodeURIComponent(t));n&&(r+="&activeTab=".concat(encodeURIComponent(n))),window.Piwik_Popover.createPopupAndLoadUrl(r,"details")}));var Qc={mounted:function(e,t){var n=t.value.pluginName;n&&(t.value.onClickHandler=Xc.bind(null,t),Zc(e).on("click",t.value.onClickHandler).attr("matomo-plugin-name",n))},unmounted:function(e,t){Zc(e).off("click",t.value.onClickHandler)}},eu={class:"row pluginsFilter"},tu={class:"origin"},nu={style:{"margin-right":"3.5px"}},ru={"data-filter-origin":"all",href:"#",class:"active"},ou=Object(Oi["createElementVNode"])("span",{class:"counter"},null,-1),iu=Object(Oi["createTextVNode"])(" | "),au={"data-filter-origin":"core",href:"#"},su=Object(Oi["createElementVNode"])("span",{class:"counter"},null,-1),lu=Object(Oi["createTextVNode"])(" | "),cu={"data-filter-origin":"official",href:"#"},uu=Object(Oi["createElementVNode"])("span",{class:"counter"},null,-1),pu=Object(Oi["createTextVNode"])(" | "),du={"data-filter-origin":"thirdparty",href:"#"},fu=Object(Oi["createElementVNode"])("span",{class:"counter"},null,-1),mu={class:"status"},hu={style:{"margin-right":"3.5px"}},gu={"data-filter-status":"all",href:"#",class:"active"},bu=Object(Oi["createElementVNode"])("span",{class:"counter"},null,-1),yu=Object(Oi["createTextVNode"])(" | "),vu={"data-filter-status":"active",href:"#"},Ou=Object(Oi["createElementVNode"])("span",{class:"counter"},null,-1),ju=Object(Oi["createTextVNode"])(" | "),wu={"data-filter-status":"inactive",href:"#"},Nu=Object(Oi["createElementVNode"])("span",{class:"counter"},null,-1),xu={id:"confirmUninstallPlugin",class:"ui-confirm"},ku={id:"uninstallPluginConfirm"},Eu=["value"],Cu=["value"],Su={class:"status"},Au={key:0,class:"action-links"},Vu={id:"plugins"},Tu=["data-filter-status","data-filter-origin"],Pu={class:"name"},Mu=["name"],Bu={key:0},Du={key:1},$u=["title"],Fu={key:2},_u=Object(Oi["createElementVNode"])("br",null,null,-1),Iu=Object(Oi["createElementVNode"])("br",null,null,-1),Lu=["href"],Uu={class:"desc"},Hu={class:"plugin-desc-missingrequirements"},qu={key:0},Ru=Object(Oi["createElementVNode"])("br",null,null,-1),zu={class:"plugin-desc-text"},Wu={key:0,class:"plugin-homepage"},Ju=["href"],Gu={key:1,class:"plugin-donation"},Ku=["data-overlay-id"],Yu=["id","title"],Zu=["innerHTML"],Xu={class:"donation-links"},Qu=["href"],ep=Object(Oi["createElementVNode"])("img",{src:"plugins/CorePluginsAdmin/images/paypal_donate.png",height:"30"},null,-1),tp=[ep],np=["href"],rp=Object(Oi["createElementVNode"])("img",{class:"alignnone",title:"Flattr",alt:"",src:"plugins/CorePluginsAdmin/images/flattr.png",height:"29"},null,-1),op=[rp],ip={key:2,class:"donation-link bitcoin"},ap=Object(Oi["createElementVNode"])("span",null,"Donate Bitcoins to:",-1),sp=["href"],lp=["value"],cp={key:0,class:"plugin-license"},up=["title","href"],pp={key:1},dp={key:1,class:"plugin-author"},fp=Object(Oi["createTextVNode"])(" By "),mp=["title","href"],hp={key:1},gp={key:2,style:{"margin-right":"3.5px"}},bp=Object(Oi["createTextVNode"])(". "),yp={key:0},vp={key:0},Op={key:1},jp={key:0},wp=Object(Oi["createElementVNode"])("br",null,null,-1),Np=Object(Oi["createTextVNode"])(" - "),xp=["data-plugin-name","href"],kp={key:0},Ep={key:0},Cp={key:1},Sp=["href"],Ap={key:1},Vp=["href"],Tp={key:0,class:"tableActionBar"},Pp=["href"],Mp=Object(Oi["createElementVNode"])("span",{class:"icon-add"},null,-1),Bp=["href"],Dp=Object(Oi["createElementVNode"])("span",{class:"icon-add"},null,-1),$p={class:"footer-message"};function Fp(e,t,n,r,o,i){var a=Object(Oi["resolveComponent"])("ContentBlock"),s=Object(Oi["resolveDirective"])("plugin-filter"),l=Object(Oi["resolveDirective"])("plugin-name"),c=Object(Oi["resolveDirective"])("content-table"),u=Object(Oi["resolveDirective"])("plugin-management");return Object(Oi["withDirectives"])((Object(Oi["openBlock"])(),Object(Oi["createBlock"])(a,{"content-title":e.title,class:"pluginsManagement"},{default:Object(Oi["withCtx"])((function(){return[Object(Oi["withDirectives"])(Object(Oi["createElementVNode"])("p",eu,[Object(Oi["createElementVNode"])("span",tu,[Object(Oi["createElementVNode"])("strong",nu,Object(Oi["toDisplayString"])(e.translate("CorePluginsAdmin_Origin")),1),Object(Oi["createElementVNode"])("a",ru,[Object(Oi["createTextVNode"])(Object(Oi["toDisplayString"])(e.translate("General_All")),1),ou]),iu,Object(Oi["createElementVNode"])("a",au,[Object(Oi["createTextVNode"])(Object(Oi["toDisplayString"])(e.translate("CorePluginsAdmin_OriginCore")),1),su]),lu,Object(Oi["createElementVNode"])("a",cu,[Object(Oi["createTextVNode"])(Object(Oi["toDisplayString"])(e.translate("CorePluginsAdmin_OriginOfficial")),1),uu]),pu,Object(Oi["createElementVNode"])("a",du,[Object(Oi["createTextVNode"])(Object(Oi["toDisplayString"])(e.translate("CorePluginsAdmin_OriginThirdParty")),1),fu])]),Object(Oi["createElementVNode"])("span",mu,[Object(Oi["createElementVNode"])("strong",hu,Object(Oi["toDisplayString"])(e.translate("CorePluginsAdmin_Status")),1),Object(Oi["createElementVNode"])("a",gu,[Object(Oi["createTextVNode"])(Object(Oi["toDisplayString"])(e.translate("General_All")),1),bu]),yu,Object(Oi["createElementVNode"])("a",vu,[Object(Oi["createTextVNode"])(Object(Oi["toDisplayString"])(e.translate("CorePluginsAdmin_Active")),1),Ou]),ju,Object(Oi["createElementVNode"])("a",wu,[Object(Oi["createTextVNode"])(Object(Oi["toDisplayString"])(e.translate("CorePluginsAdmin_Inactive")),1),Nu])])],512),[[s]]),Object(Oi["createElementVNode"])("div",xu,[Object(Oi["createElementVNode"])("h2",ku,Object(Oi["toDisplayString"])(e.translate("CorePluginsAdmin_UninstallConfirm")),1),Object(Oi["createElementVNode"])("input",{role:"yes",type:"button",value:e.translate("General_Yes")},null,8,Eu),Object(Oi["createElementVNode"])("input",{role:"no",type:"button",value:e.translate("General_No")},null,8,Cu)]),Object(Oi["withDirectives"])(Object(Oi["createElementVNode"])("table",null,[Object(Oi["createElementVNode"])("thead",null,[Object(Oi["createElementVNode"])("tr",null,[Object(Oi["createElementVNode"])("th",null,Object(Oi["toDisplayString"])(e.isTheme?e.translate("CorePluginsAdmin_Theme"):e.translate("General_Plugin")),1),Object(Oi["createElementVNode"])("th",null,Object(Oi["toDisplayString"])(e.translate("General_Description")),1),Object(Oi["createElementVNode"])("th",Su,Object(Oi["toDisplayString"])(e.translate("CorePluginsAdmin_Status")),1),e.displayAdminLinks?(Object(Oi["openBlock"])(),Object(Oi["createElementBlock"])("th",Au,Object(Oi["toDisplayString"])(e.translate("General_Action")),1)):Object(Oi["createCommentVNode"])("",!0)])]),Object(Oi["createElementVNode"])("tbody",Vu,[(Object(Oi["openBlock"])(!0),Object(Oi["createElementBlock"])(Oi["Fragment"],null,Object(Oi["renderList"])(e.pluginsToDisplay,(function(n,r){var o,i,a,s,c,u,p,d,f,m,h,g,b,y;return Object(Oi["openBlock"])(),Object(Oi["createElementBlock"])("tr",{key:r,class:Object(Oi["normalizeClass"])(n.activated?"active-plugin":"inactive-plugin"),"data-filter-status":n.activated?"active":"inactive","data-filter-origin":e.getPluginOrigin(n)},[Object(Oi["createElementVNode"])("td",Pu,[Object(Oi["createElementVNode"])("a",{name:r},null,8,Mu),n.isCorePlugin||-1===e.marketplacePluginNames.indexOf(r)?(Object(Oi["openBlock"])(),Object(Oi["createElementBlock"])("span",Du,Object(Oi["toDisplayString"])(r),1)):Object(Oi["withDirectives"])((Object(Oi["openBlock"])(),Object(Oi["createElementBlock"])("a",Bu,[Object(Oi["createTextVNode"])(Object(Oi["toDisplayString"])(r),1)],512)),[[l,{pluginName:r}]]),Object(Oi["createElementVNode"])("span",{class:"plugin-version",title:n.isCorePlugin?e.translate("CorePluginsAdmin_CorePluginTooltip"):void 0}," ("+Object(Oi["toDisplayString"])(n.isCorePlugin?e.translate("CorePluginsAdmin_OriginCore"):n.info.version)+") ",9,$u),-1!==e.pluginNamesHavingSettings.indexOf(r)?(Object(Oi["openBlock"])(),Object(Oi["createElementBlock"])("span",Fu,[_u,Iu,Object(Oi["createElementVNode"])("a",{href:"".concat(e.generalSettingsLink,"#").concat(r),class:"settingsLink"},Object(Oi["toDisplayString"])(e.translate("General_Settings")),9,Lu)])):Object(Oi["createCommentVNode"])("",!0)]),Object(Oi["createElementVNode"])("td",Uu,[Object(Oi["createElementVNode"])("div",Hu,[n.missingRequirements?(Object(Oi["openBlock"])(),Object(Oi["createElementBlock"])("span",qu,[Object(Oi["createTextVNode"])(Object(Oi["toDisplayString"])(n.missingRequirements)+" ",1),Ru])):Object(Oi["createCommentVNode"])("",!0)]),Object(Oi["createElementVNode"])("div",zu,[Object(Oi["createTextVNode"])(Object(Oi["toDisplayString"])(n.info.description.replaceAll("\n","<br/>"))+" ",1),null!==(o=n.info)&&void 0!==o&&o.homepage&&!e.isMatomoUrl(null===(i=n.info)||void 0===i?void 0:i.homepage)?(Object(Oi["openBlock"])(),Object(Oi["createElementBlock"])("span",Wu,[Object(Oi["createElementVNode"])("a",{target:"_blank",rel:"noreferrer noopener",href:n.info.homepage}," ("+Object(Oi["toDisplayString"])(e.translate("CorePluginsAdmin_PluginHomepage").replaceAll(" "," "))+") ",9,Ju)])):Object(Oi["createCommentVNode"])("",!0),null!==(a=n.info)&&void 0!==a&&null!==(s=a.donate)&&void 0!==s&&s.length?(Object(Oi["openBlock"])(),Object(Oi["createElementBlock"])("div",Gu,[Object(Oi["createTextVNode"])(Object(Oi["toDisplayString"])(e.translate("CorePluginsAdmin_LikeThisPlugin"))+" ",1),Object(Oi["createElementVNode"])("a",{onClick:t[0]||(t[0]=Object(Oi["withModifiers"])((function(){}),["prevent"])),class:"plugin-donation-link","data-overlay-id":"overlay-".concat(r)},Object(Oi["toDisplayString"])(e.translate("CorePluginsAdmin_ConsiderDonating")),9,Ku),Object(Oi["createElementVNode"])("div",{id:"overlay-".concat(r),class:"donation-overlay ui-confirm",title:e.translate("CorePluginsAdmin_LikeThisPlugin")},[Object(Oi["createElementVNode"])("p",null,Object(Oi["toDisplayString"])(e.translate("CorePluginsAdmin_CommunityContributedPlugin")),1),Object(Oi["createElementVNode"])("p",{innerHTML:e.$sanitize(e.translate("CorePluginsAdmin_ConsiderDonatingCreatorOf","<b>".concat(r,"</b>")))},null,8,Zu),Object(Oi["createElementVNode"])("div",Xu,[null!==(c=n.info)&&void 0!==c&&null!==(u=c.donate)&&void 0!==u&&u.paypal?(Object(Oi["openBlock"])(),Object(Oi["createElementBlock"])("a",{key:0,class:"donation-link paypal",target:"_blank",rel:"noreferrer noopener",href:e.getPluginDonateLink(r,n.info.donate.paypal)},tp,8,Qu)):Object(Oi["createCommentVNode"])("",!0),null!==(p=n.info)&&void 0!==p&&null!==(d=p.donate)&&void 0!==d&&d.flattr?(Object(Oi["openBlock"])(),Object(Oi["createElementBlock"])("a",{key:1,class:"donation-link flattr",target:"_blank",rel:"noreferrer noopener",href:null===(f=n.info.donate)||void 0===f?void 0:f.flattr},op,8,np)):Object(Oi["createCommentVNode"])("",!0),null!==(m=n.info)&&void 0!==m&&null!==(h=m.donate)&&void 0!==h&&h.bitcoin?(Object(Oi["openBlock"])(),Object(Oi["createElementBlock"])("div",ip,[ap,Object(Oi["createElementVNode"])("a",{href:"bitcoin:".concat(encodeURIComponent(n.info.donate.bitcoin))},Object(Oi["toDisplayString"])(n.info.donate.bitcoin),9,sp)])):Object(Oi["createCommentVNode"])("",!0)]),Object(Oi["createElementVNode"])("input",{role:"no",type:"button",value:e.translate("General_Close")},null,8,lp)],8,Yu)])):Object(Oi["createCommentVNode"])("",!0)]),null!==(g=n.info)&&void 0!==g&&g.license?(Object(Oi["openBlock"])(),Object(Oi["createElementBlock"])("div",cp,[null!==(b=n.info)&&void 0!==b&&b.license_file?(Object(Oi["openBlock"])(),Object(Oi["createElementBlock"])("a",{key:0,title:e.translate("CorePluginsAdmin_LicenseHomepage"),rel:"noreferrer noopener",target:"_blank",href:"index.php?module=CorePluginsAdmin&action=showLicense&pluginName=".concat(r)},Object(Oi["toDisplayString"])(n.info.license),9,up)):(Object(Oi["openBlock"])(),Object(Oi["createElementBlock"])("span",pp,Object(Oi["toDisplayString"])(n.info.license),1))])):Object(Oi["createCommentVNode"])("",!0),null!==(y=n.info)&&void 0!==y&&y.authors?(Object(Oi["openBlock"])(),Object(Oi["createElementBlock"])("div",dp,[fp,(Object(Oi["openBlock"])(!0),Object(Oi["createElementBlock"])(Oi["Fragment"],null,Object(Oi["renderList"])(n.info.authors.filter((function(e){return e.name})),(function(t,r){return Object(Oi["openBlock"])(),Object(Oi["createElementBlock"])("span",{key:r},[t.homepage?(Object(Oi["openBlock"])(),Object(Oi["createElementBlock"])("a",{key:0,title:e.translate("CorePluginsAdmin_AuthorHomepage"),href:t.homepage,rel:"noreferrer noopener",target:"_blank"},Object(Oi["toDisplayString"])(t.name),9,mp)):(Object(Oi["openBlock"])(),Object(Oi["createElementBlock"])("span",hp,Object(Oi["toDisplayString"])(t.name),1)),n.info.authors.length-1>r?(Object(Oi["openBlock"])(),Object(Oi["createElementBlock"])("span",gp,",")):Object(Oi["createCommentVNode"])("",!0)])})),128)),bp])):Object(Oi["createCommentVNode"])("",!0)]),Object(Oi["createElementVNode"])("td",{class:"status",style:Object(Oi["normalizeStyle"])({"border-left-width":e.isDefaultTheme(r)?"0":void 0})},[e.isDefaultTheme(r)?Object(Oi["createCommentVNode"])("",!0):(Object(Oi["openBlock"])(),Object(Oi["createElementBlock"])("span",yp,[n.activated?(Object(Oi["openBlock"])(),Object(Oi["createElementBlock"])("span",vp,Object(Oi["toDisplayString"])(e.translate("CorePluginsAdmin_Active")),1)):(Object(Oi["openBlock"])(),Object(Oi["createElementBlock"])("span",Op,[Object(Oi["createTextVNode"])(Object(Oi["toDisplayString"])(e.translate("CorePluginsAdmin_Inactive"))+" ",1),n.uninstallable&&e.displayAdminLinks?(Object(Oi["openBlock"])(),Object(Oi["createElementBlock"])("span",jp,[wp,Np,Object(Oi["createElementVNode"])("a",{"data-plugin-name":r,class:"uninstall",href:e.getUninstallLink(r)},Object(Oi["toDisplayString"])(e.translate("CorePluginsAdmin_ActionUninstall")),9,xp)])):Object(Oi["createCommentVNode"])("",!0)]))]))],4),e.displayAdminLinks?(Object(Oi["openBlock"])(),Object(Oi["createElementBlock"])("td",{key:0,class:"togl action-links",style:Object(Oi["normalizeStyle"])({"border-left-width":e.isDefaultTheme(r)?0:void 0})},[e.isDefaultTheme(r)?Object(Oi["createCommentVNode"])("",!0):(Object(Oi["openBlock"])(),Object(Oi["createElementBlock"])("span",kp,[n.invalid&&n.alwaysActivated?(Object(Oi["openBlock"])(),Object(Oi["createElementBlock"])("span",Ep,"-")):(Object(Oi["openBlock"])(),Object(Oi["createElementBlock"])("span",Cp,[n.activated?(Object(Oi["openBlock"])(),Object(Oi["createElementBlock"])("a",{key:0,href:e.getDeactivateLink(r)},Object(Oi["toDisplayString"])(e.translate("CorePluginsAdmin_Deactivate")),9,Sp)):n.missingRequirements?(Object(Oi["openBlock"])(),Object(Oi["createElementBlock"])("span",Ap,"-")):(Object(Oi["openBlock"])(),Object(Oi["createElementBlock"])("a",{key:2,href:e.getActivateLink(r)},Object(Oi["toDisplayString"])(e.translate("CorePluginsAdmin_Activate")),9,Vp))]))]))],4)):Object(Oi["createCommentVNode"])("",!0)],10,Tu)})),128))])],512),[[c]]),e.displayAdminLinks?(Object(Oi["openBlock"])(),Object(Oi["createElementBlock"])("div",Tp,[e.isTheme?(Object(Oi["openBlock"])(),Object(Oi["createElementBlock"])("a",{key:0,href:e.themeOverviewLink},[Mp,Object(Oi["createTextVNode"])(" "+Object(Oi["toDisplayString"])(e.translate("CorePluginsAdmin_InstallNewThemes")),1)],8,Pp)):(Object(Oi["openBlock"])(),Object(Oi["createElementBlock"])("a",{key:1,href:e.overviewLink},[Dp,Object(Oi["createTextVNode"])(" "+Object(Oi["toDisplayString"])(e.translate("CorePluginsAdmin_InstallNewPlugins")),1)],8,Bp))])):Object(Oi["createCommentVNode"])("",!0),Object(Oi["createElementVNode"])("div",$p,Object(Oi["toDisplayString"])(e.translate("CorePluginsAdmin_AlwaysActivatedPluginsList",e.pluginsAlwaysActivated)),1)]})),_:1},8,["content-title"])),[[u,{}]])}function _p(e,t){return qp(e)||Hp(e,t)||Lp(e,t)||Ip()}function Ip(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Lp(e,t){if(e){if("string"===typeof e)return Up(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Up(e,t):void 0}}function Up(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Hp(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0)if(i.push(r.value),t&&i.length===t)break}catch(l){s=!0,o=l}finally{try{a||null==n["return"]||n["return"]()}finally{if(s)throw o}}return i}}function qp(e){if(Array.isArray(e))return e}var Rp=Object(Oi["defineComponent"])({props:{isTheme:Boolean,displayAdminLinks:Boolean,pluginsInfo:{type:Object,required:!0},uninstallNonce:{type:String,required:!0},deactivateNonce:{type:String,required:!0},activateNonce:{type:String,required:!0},marketplacePluginNames:{type:Array,required:!0},pluginNamesHavingSettings:{type:Array,required:!0},title:{type:String,required:!0}},components:{ContentBlock:Ci["ContentBlock"]},directives:{PluginManagement:fc,PluginFilter:lc,ContentTable:Ci["ContentTable"],PluginName:Qc},methods:{getPluginOrigin:function(e){return e.isCorePlugin?"core":e.isOfficialPlugin?"official":"thirdparty"},getPluginDonateLink:function(e,t){return"https://www.paypal.com/cgi-bin/webscr?".concat(Ci["MatomoUrl"].stringify({cmd:"_donations",item_name:"Matomo Plugin ".concat(e),bn:"PP-DonationsBF:btn_donateCC_LG.gif:NonHosted",business:t}))},getUninstallLink:function(e){return"?".concat(Ci["MatomoUrl"].stringify({module:"CorePluginsAdmin",action:"uninstall",pluginName:e,nonce:this.uninstallNonce}))},isDefaultTheme:function(e){return this.isTheme&&"Morpheus"===e},getDeactivateLink:function(e){return"?".concat(Ci["MatomoUrl"].stringify({module:"CorePluginsAdmin",action:"deactivate",pluginName:e,nonce:this.deactivateNonce,redirectTo:"referrer"}))},getActivateLink:function(e){return"?".concat(Ci["MatomoUrl"].stringify({module:"CorePluginsAdmin",action:"activate",pluginName:e,nonce:this.activateNonce,redirectTo:"referrer"}))},isMatomoUrl:function(e){try{var t=new URL(e).host;return-1!==this.matomoHosts.indexOf(t)}catch(n){return!1}}},computed:{pluginsToDisplay:function(){var e=this,t=this.pluginsInfo;return Object.fromEntries(Object.entries(t).filter((function(t){var n=_p(t,2),r=n[1];if(e.isTheme)return!0;var o=r.alwaysActivated;return"undefined"!==typeof o&&null!==o&&!o})))},generalSettingsLink:function(){return"?".concat(Ci["MatomoUrl"].stringify(Object.assign(Object.assign({},Ci["MatomoUrl"].urlParsed.value),{},{module:"CoreAdminHome",action:"generalSettings"})))},matomoHosts:function(){return["piwik.org","www.piwik.org","matomo.org","www.matomo.org"]},themeOverviewLink:function(){var e=Ci["MatomoUrl"].stringify({module:"Marketplace",action:"overview"}),t=Ci["MatomoUrl"].stringify({pluginType:"themes"});return"?".concat(e,"#?").concat(t)},overviewLink:function(){return"?".concat(Ci["MatomoUrl"].stringify(Object.assign(Object.assign({},Ci["MatomoUrl"].urlParsed.value),{},{module:"Marketplace",action:"overview",sort:""})))},pluginsAlwaysActivated:function(){var e=this.pluginsInfo;return Object.entries(e).filter((function(e){var t=_p(e,2),n=t[1];return n.alwaysActivated})).map((function(e){var t=_p(e,1),n=t[0];return n})).join(", ")}}});Rp.render=Fp;var zp=Rp,Wp={key:0},Jp={key:0},Gp={class:"checkbox-container"},Kp=Object(Oi["createElementVNode"])("span",null,null,-1),Yp={class:"num"},Zp={class:"status"},Xp={key:1,class:"action-links"},Qp={id:"plugins"},ed={key:0,class:"select-cell"},td={class:"checkbox-container"},nd=["id","disabled","onUpdate:modelValue"],rd=Object(Oi["createElementVNode"])("span",null,null,-1),od={class:"name"},id={class:"vers"},ad=["href","title"],sd={key:1},ld={class:"desc"},cd={class:"status"},ud={key:1,class:"togl action-links"},pd=["title"],dd=["href"],fd=["href"],md={key:3};function hd(e,t,n,r,o,i){var a=Object(Oi["resolveComponent"])("MissingReqsNotice"),s=Object(Oi["resolveComponent"])("ContentBlock"),l=Object(Oi["resolveDirective"])("plugin-name"),c=Object(Oi["resolveDirective"])("content-table");return Object.keys(e.pluginsHavingUpdate).length?(Object(Oi["openBlock"])(),Object(Oi["createBlock"])(s,{key:0,"content-title":e.translate("CorePluginsAdmin_NUpdatesAvailable",Object.keys(e.pluginsHavingUpdate).length)},{default:Object(Oi["withCtx"])((function(){return[Object(Oi["createElementVNode"])("p",null,Object(Oi["toDisplayString"])(e.translate("CorePluginsAdmin_InfoPluginUpdateIsRecommended")),1),e.isPluginsAdminEnabled?(Object(Oi["openBlock"])(),Object(Oi["createElementBlock"])("div",Wp,[Object(Oi["createElementVNode"])("a",{id:"update-selected-plugins",onClick:t[0]||(t[0]=Object(Oi["withModifiers"])((function(t){return e.updateSelectedPlugins()}),["prevent"])),class:Object(Oi["normalizeClass"])({btn:!0,disabled:e.isUpdateLinkDisabled})},Object(Oi["toDisplayString"])(e.translate("CorePluginsAdmin_UpdateSelected")),3)])):Object(Oi["createCommentVNode"])("",!0),Object(Oi["withDirectives"])(Object(Oi["createElementVNode"])("table",null,[Object(Oi["createElementVNode"])("thead",null,[Object(Oi["createElementVNode"])("tr",null,[e.isPluginsAdminEnabled?(Object(Oi["openBlock"])(),Object(Oi["createElementBlock"])("th",Jp,[Object(Oi["createElementVNode"])("span",Gp,[Object(Oi["createElementVNode"])("label",null,[Object(Oi["createElementVNode"])("input",{type:"checkbox",id:"select-plugin-all",onChange:t[1]||(t[1]=function(t){return e.selectAll(t.target.checked)})},null,32),Kp])])])):Object(Oi["createCommentVNode"])("",!0),Object(Oi["createElementVNode"])("th",null,Object(Oi["toDisplayString"])(e.translate("General_Plugin")),1),Object(Oi["createElementVNode"])("th",Yp,Object(Oi["toDisplayString"])(e.translate("CorePluginsAdmin_Version")),1),Object(Oi["createElementVNode"])("th",null,Object(Oi["toDisplayString"])(e.translate("General_Description")),1),Object(Oi["createElementVNode"])("th",Zp,Object(Oi["toDisplayString"])(e.translate("CorePluginsAdmin_Status")),1),e.isPluginsAdminEnabled?(Object(Oi["openBlock"])(),Object(Oi["createElementBlock"])("th",Xp,Object(Oi["toDisplayString"])(e.translate("General_Action")),1)):Object(Oi["createCommentVNode"])("",!0)])]),Object(Oi["createElementVNode"])("tbody",Qp,[(Object(Oi["openBlock"])(!0),Object(Oi["createElementBlock"])(Oi["Fragment"],null,Object(Oi["renderList"])(e.pluginsHavingUpdate,(function(n,r){var o;return Object(Oi["openBlock"])(),Object(Oi["createElementBlock"])("tr",{key:r,class:Object(Oi["normalizeClass"])(n.isActivated?"active-plugin":"inactive-plugin")},[e.isPluginsAdminEnabled?(Object(Oi["openBlock"])(),Object(Oi["createElementBlock"])("td",ed,[Object(Oi["createElementVNode"])("span",td,[Object(Oi["createElementVNode"])("label",null,[Object(Oi["withDirectives"])(Object(Oi["createElementVNode"])("input",{type:"checkbox",id:"select-plugin-".concat(n.name),disabled:"undefined"!==typeof n.isDownloadable&&null!==n.isDownloadable&&!n.isDownloadable,"onUpdate:modelValue":function(t){return e.pluginsSelected[r]=t}},null,8,nd),[[Oi["vModelCheckbox"],e.pluginsSelected[r]]]),rd])])])):Object(Oi["createCommentVNode"])("",!0),Object(Oi["createElementVNode"])("td",od,[Object(Oi["withDirectives"])(Object(Oi["createElementVNode"])("a",{onClick:t[2]||(t[2]=Object(Oi["withModifiers"])((function(){}),["prevent"])),class:"plugin-details"},[Object(Oi["createTextVNode"])(Object(Oi["toDisplayString"])(n.name),1)],512),[[l,{pluginName:n.name}]])]),Object(Oi["createElementVNode"])("td",id,[null!==(o=n.changelog)&&void 0!==o&&o.url?(Object(Oi["openBlock"])(),Object(Oi["createElementBlock"])("a",{key:0,href:n.changelog.url,title:e.translate("CorePluginsAdmin_Changelog"),target:"_blank",rel:"noreferrer noopener"},Object(Oi["toDisplayString"])(n.currentVersion)+" => "+Object(Oi["toDisplayString"])(n.latestVersion),9,ad)):(Object(Oi["openBlock"])(),Object(Oi["createElementBlock"])("span",sd,Object(Oi["toDisplayString"])(n.currentVersion)+" => "+Object(Oi["toDisplayString"])(n.latestVersion),1))]),Object(Oi["createElementVNode"])("td",ld,[Object(Oi["createTextVNode"])(Object(Oi["toDisplayString"])(n.description)+" ",1),Object(Oi["createVNode"])(a,{plugin:n},null,8,["plugin"])]),Object(Oi["createElementVNode"])("td",cd,Object(Oi["toDisplayString"])(n.isActivated?e.translate("CorePluginsAdmin_Active"):e.translate("CorePluginsAdmin_Inactive")),1),e.isPluginsAdminEnabled?(Object(Oi["openBlock"])(),Object(Oi["createElementBlock"])("td",ud,["undefined"===typeof n.isDownloadable||null===n.isDownloadable||n.isDownloadable?e.isMultiServerEnvironment?Object(Oi["withDirectives"])((Object(Oi["openBlock"])(),Object(Oi["createElementBlock"])("a",{key:1,onClick:t[3]||(t[3]=function(t){return e.isPluginDownloadLinkClicked=!0}),href:e.downloadPluginLink(n)},Object(Oi["toDisplayString"])(e.translate("General_Download")),9,dd)),[[Oi["vShow"],!e.isPluginDownloadLinkClicked]]):0===n.missingRequirements.length?(Object(Oi["openBlock"])(),Object(Oi["createElementBlock"])("a",{key:2,href:e.updatePluginLink(n)},Object(Oi["toDisplayString"])(e.translate("CoreUpdater_UpdateTitle")),9,fd)):(Object(Oi["openBlock"])(),Object(Oi["createElementBlock"])("span",md,"-")):(Object(Oi["openBlock"])(),Object(Oi["createElementBlock"])("span",{key:0,title:"".concat(e.translate("CorePluginsAdmin_PluginNotDownloadable")," ").concat(n.isPaid?e.translate("CorePluginsAdmin_PluginNotDownloadablePaidReason"):"")},Object(Oi["toDisplayString"])(e.translate("CorePluginsAdmin_NotDownloadable")),9,pd))])):Object(Oi["createCommentVNode"])("",!0)],2)})),128))])],512),[[c]])]})),_:1},8,["content-title"])):Object(Oi["createCommentVNode"])("",!0)}function gd(e,t){return jd(e)||Od(e,t)||yd(e,t)||bd()}function bd(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function yd(e,t){if(e){if("string"===typeof e)return vd(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?vd(e,t):void 0}}function vd(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Od(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0)if(i.push(r.value),t&&i.length===t)break}catch(l){s=!0,o=l}finally{try{a||null==n["return"]||n["return"]()}finally{if(s)throw o}}return i}}function jd(e){if(Array.isArray(e))return e}var wd=Object(Ci["useExternalPluginComponent"])("Marketplace","MissingReqsNotice"),Nd=Object(Oi["defineComponent"])({props:{pluginsHavingUpdate:{type:Object,required:!0},pluginUpdateNonces:{type:Object,required:!0},updateNonce:{type:String,required:!0},isMultiServerEnvironment:Boolean,isPluginsAdminEnabled:Boolean},components:{ContentBlock:Ci["ContentBlock"],MissingReqsNotice:wd},directives:{ContentTable:Ci["ContentTable"],PluginName:Qc},data:function(){return{isUpdating:!1,isPluginDownloadLinkClicked:!1,pluginsSelected:{}}},computed:{isUpdateLinkDisabled:function(){return this.isUpdating||!Object.keys(this.pluginsSelected).length||!Object.values(this.pluginsSelected).some((function(e){return!!e}))}},methods:{selectAll:function(e){var t=this,n=this.pluginsHavingUpdate;Object.entries(n).forEach((function(n){var r=gd(n,2),o=r[0],i=r[1];(null===i.isDownloadable||"undefined"===typeof i.isDownloadable||i.isDownloadable)&&(t.pluginsSelected[o]=e)}))},downloadPluginLink:function(e){return"?".concat(Ci["MatomoUrl"].stringify(Object.assign(Object.assign({},Ci["MatomoUrl"].urlParsed.value),{},{module:"Marketplace",action:"download",pluginName:e.name,nonce:this.pluginUpdateNonces[e.name]})))},updatePluginLink:function(e){return"?".concat(Ci["MatomoUrl"].stringify(Object.assign(Object.assign({},Ci["MatomoUrl"].urlParsed.value),{},{module:"Marketplace",action:"updatePlugin",pluginName:e.name,nonce:this.updateNonce})))},updateSelectedPlugins:function(){this.isUpdating=!0;var e=Object.entries(this.pluginsSelected).filter((function(e){var t=gd(e,2),n=t[1];return n})).map((function(e){var t=gd(e,1),n=t[0];return n}));Ci["MatomoUrl"].updateUrl(Object.assign(Object.assign({},Ci["MatomoUrl"].urlParsed.value),{},{module:"Marketplace",action:"updatePlugin",nonce:this.updateNonce,pluginName:e.join(",")}))}}});Nd.render=hd;var xd=Nd,kd={class:"ui-confirm",id:"installPluginByUpload"},Ed={key:0},Cd={class:"description"},Sd=["action"],Ad=["data-max-size"],Vd=Object(Oi["createElementVNode"])("br",null,null,-1),Td=["value"],Pd={key:1},Md=["innerHTML"],Bd=Object(Oi["createElementVNode"])("pre",null,"[General]\n  enable_plugin_upload = 1",-1),Dd=["value"];function $d(e,t,n,r,o,i){var a=Object(Oi["resolveComponent"])("Field"),s=Object(Oi["resolveDirective"])("plugin-upload");return Object(Oi["withDirectives"])((Object(Oi["openBlock"])(),Object(Oi["createElementBlock"])("div",kd,[Object(Oi["createElementVNode"])("h2",null,Object(Oi["toDisplayString"])(e.translate("Marketplace_TeaserExtendPiwikByUpload")),1),e.isPluginUploadEnabled?(Object(Oi["openBlock"])(),Object(Oi["createElementBlock"])("div",Ed,[Object(Oi["createElementVNode"])("p",Cd,Object(Oi["toDisplayString"])(e.translate("Marketplace_AllowedUploadFormats")),1),Object(Oi["createElementVNode"])("form",{enctype:"multipart/form-data",method:"post",id:"uploadPluginForm",action:e.uploadPluginAction},[Object(Oi["createElementVNode"])("input",{type:"file",name:"pluginZip","data-max-size":e.uploadLimit},null,8,Ad),Vd,Object(Oi["createVNode"])(a,{uicontrol:"password",name:"confirmPassword",autocomplete:"off",title:e.translate("Login_ConfirmPasswordToContinue"),modelValue:e.confirmPassword,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.confirmPassword=t})},null,8,["title","modelValue"]),Object(Oi["createElementVNode"])("input",{class:"startUpload btn",type:"submit",value:e.translate("Marketplace_UploadZipFile")},null,8,Td)],8,Sd)])):(Object(Oi["openBlock"])(),Object(Oi["createElementBlock"])("div",Pd,[Object(Oi["createElementVNode"])("p",{class:"description",innerHTML:e.$sanitize(e.translate("Marketplace_PluginUploadDisabled"))},null,8,Md),Bd,Object(Oi["createElementVNode"])("input",{role:"yes",type:"button",value:e.translate("General_Ok")},null,8,Dd)]))],512)),[[s]])}var Fd=Object(Oi["defineComponent"])({props:{isPluginUploadEnabled:Boolean,uploadLimit:[String,Number],installNonce:String},components:{Field:cl},directives:{PluginUpload:yc},data:function(){return{confirmPassword:""}},computed:{uploadPluginAction:function(){return"?".concat(Ci["MatomoUrl"].stringify(Object.assign(Object.assign({},Ci["MatomoUrl"].urlParsed.value),{},{module:"CorePluginsAdmin",action:"uploadPlugin",nonce:this.installNonce})))}}});Fd.render=$d;var _d=Fd;
/*!
 * Matomo - free/libre analytics platform
 *
 * @link    https://matomo.org
 * @license https://www.gnu.org/licenses/gpl-3.0.html GPL v3 or later
*/}})}));
//# 
(function(e,t){"object"===typeof exports&&"object"===typeof module?module.exports=t(require("CoreHome"),require("vue"),require("CorePluginsAdmin")):"function"===typeof define&&define.amd?define(["CoreHome",,"CorePluginsAdmin"],t):"object"===typeof exports?exports["CoreAdminHome"]=t(require("CoreHome"),require("vue"),require("CorePluginsAdmin")):e["CoreAdminHome"]=t(e["CoreHome"],e["Vue"],e["CorePluginsAdmin"])})("undefined"!==typeof self?self:this,(function(e,t,n){return function(e){var t={};function n(o){if(t[o])return t[o].exports;var a=t[o]={i:o,l:!1,exports:{}};return e[o].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(o,a,function(t){return e[t]}.bind(null,a));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="plugins/CoreAdminHome/vue/dist/",n(n.s="fae3")}({"19dc":function(t,n){t.exports=e},"8bbf":function(e,n){e.exports=t},a5a2:function(e,t){e.exports=n},fae3:function(e,t,n){"use strict";if(n.r(t),n.d(t,"ArchivingSettings",(function(){return E})),n.d(t,"BrandingSettings",(function(){return X})),n.d(t,"SmtpSettings",(function(){return ne})),n.d(t,"JsTrackingCodeGenerator",(function(){return Vt})),n.d(t,"JsTrackingCodeGeneratorSitesWithoutData",(function(){return wt})),n.d(t,"ImageTrackingCodeGenerator",(function(){return tn})),n.d(t,"TrackingFailures",(function(){return wn})),"undefined"!==typeof window){var o=window.document.currentScript,a=o&&o.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);a&&(n.p=a[1])}var r=n("8bbf"),i={class:"form-group row"},l={class:"col s12"},c={class:"col s12 m6"},s={class:"form-description",style:{"margin-left":"4px"}},d={for:"enableBrowserTriggerArchiving2"},u=["innerHTML"],m={class:"col s12 m6"},g=["innerHTML"],p={class:"form-group row"},b={class:"col s12"},h={class:"input-field col s12 m6"},j=["disabled"],v={class:"form-description"},f={class:"col s12 m6"},O={key:0,class:"form-help"},C={key:0},k=Object(r["createElementVNode"])("br",null,null,-1),V=Object(r["createElementVNode"])("br",null,null,-1),N=Object(r["createElementVNode"])("br",null,null,-1);function S(e,t,n,o,a,S){var T=Object(r["resolveComponent"])("SaveButton"),y=Object(r["resolveComponent"])("ContentBlock");return Object(r["openBlock"])(),Object(r["createBlock"])(y,{"content-title":e.translate("CoreAdminHome_ArchivingSettings"),anchor:"archivingSettings",class:"matomo-archiving-settings"},{default:Object(r["withCtx"])((function(){return[Object(r["createElementVNode"])("div",null,[Object(r["createElementVNode"])("div",i,[Object(r["createElementVNode"])("h3",l,Object(r["toDisplayString"])(e.translate("General_AllowPiwikArchivingToTriggerBrowser")),1),Object(r["createElementVNode"])("div",c,[Object(r["createElementVNode"])("p",null,[Object(r["createElementVNode"])("label",null,[Object(r["withDirectives"])(Object(r["createElementVNode"])("input",{type:"radio",id:"enableBrowserTriggerArchiving1",name:"enableBrowserTriggerArchiving",value:"1","onUpdate:modelValue":t[0]||(t[0]=function(t){return e.enableBrowserTriggerArchivingValue=t})},null,512),[[r["vModelRadio"],e.enableBrowserTriggerArchivingValue]]),Object(r["createElementVNode"])("span",null,Object(r["toDisplayString"])(e.translate("General_Yes")),1),Object(r["createElementVNode"])("span",s,Object(r["toDisplayString"])(e.translate("General_Default")),1)])]),Object(r["createElementVNode"])("p",null,[Object(r["createElementVNode"])("label",d,[Object(r["withDirectives"])(Object(r["createElementVNode"])("input",{type:"radio",id:"enableBrowserTriggerArchiving2",name:"enableBrowserTriggerArchiving",value:"0","onUpdate:modelValue":t[1]||(t[1]=function(t){return e.enableBrowserTriggerArchivingValue=t})},null,512),[[r["vModelRadio"],e.enableBrowserTriggerArchivingValue]]),Object(r["createElementVNode"])("span",null,Object(r["toDisplayString"])(e.translate("General_No")),1),Object(r["createElementVNode"])("span",{class:"form-description",innerHTML:e.$sanitize(e.archivingTriggerDesc),style:{"margin-left":"4px"}},null,8,u)])])]),Object(r["createElementVNode"])("div",m,[Object(r["createElementVNode"])("div",{class:"form-help",innerHTML:e.$sanitize(e.archivingInlineHelp)},null,8,g)])]),Object(r["createElementVNode"])("div",p,[Object(r["createElementVNode"])("h3",b,Object(r["toDisplayString"])(e.translate("General_ReportsContainingTodayWillBeProcessedAtMostEvery")),1),Object(r["createElementVNode"])("div",h,[Object(r["withDirectives"])(Object(r["createElementVNode"])("input",{type:"text","onUpdate:modelValue":t[2]||(t[2]=function(t){return e.todayArchiveTimeToLiveValue=t}),id:"todayArchiveTimeToLive",disabled:!e.isGeneralSettingsAdminEnabled},null,8,j),[[r["vModelText"],e.todayArchiveTimeToLiveValue]]),Object(r["createElementVNode"])("span",v,Object(r["toDisplayString"])(e.translate("General_RearchiveTimeIntervalOnlyForTodayReports")),1)]),Object(r["createElementVNode"])("div",f,[e.isGeneralSettingsAdminEnabled?(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",O,[e.showWarningCron?(Object(r["openBlock"])(),Object(r["createElementBlock"])("strong",C,[Object(r["createTextVNode"])(Object(r["toDisplayString"])(e.translate("General_NewReportsWillBeProcessedByCron")),1),k,Object(r["createTextVNode"])(" "+Object(r["toDisplayString"])(e.translate("General_ReportsWillBeProcessedAtMostEveryHour"))+" "+Object(r["toDisplayString"])(e.translate("General_IfArchivingIsFastYouCanSetupCronRunMoreOften")),1),V])):Object(r["createCommentVNode"])("",!0),Object(r["createTextVNode"])(" "+Object(r["toDisplayString"])(e.translate("General_SmallTrafficYouCanLeaveDefault",e.todayArchiveTimeToLiveDefault))+" ",1),N,Object(r["createTextVNode"])(" "+Object(r["toDisplayString"])(e.translate("General_MediumToHighTrafficItIsRecommendedTo",1800,3600)),1)])):Object(r["createCommentVNode"])("",!0)])]),Object(r["createElementVNode"])("div",null,[Object(r["createVNode"])(T,{saving:e.isLoading,onConfirm:t[3]||(t[3]=function(t){return e.save()})},null,8,["saving"])])])]})),_:1},8,["content-title"])}var T=n("19dc"),y=n("a5a2"),A=Object(r["defineComponent"])({props:{enableBrowserTriggerArchiving:Boolean,showSegmentArchiveTriggerInfo:Boolean,isGeneralSettingsAdminEnabled:Boolean,showWarningCron:Boolean,todayArchiveTimeToLive:Number,todayArchiveTimeToLiveDefault:Number},components:{ContentBlock:T["ContentBlock"],SaveButton:y["SaveButton"]},data:function(){return{isLoading:!1,enableBrowserTriggerArchivingValue:this.enableBrowserTriggerArchiving?1:0,todayArchiveTimeToLiveValue:this.todayArchiveTimeToLive}},watch:{enableBrowserTriggerArchiving:function(e){this.enableBrowserTriggerArchivingValue=e?1:0},todayArchiveTimeToLive:function(e){this.todayArchiveTimeToLiveValue=e}},computed:{archivingTriggerDesc:function(){var e="";return e+=Object(T["translate"])("General_ArchivingTriggerDescription",Object(T["externalLink"])("https://matomo.org/docs/setup-auto-archiving/"),"</a>"),this.showSegmentArchiveTriggerInfo&&(e+=Object(T["translate"])("General_ArchivingTriggerSegment")),e},archivingInlineHelp:function(){var e=Object(T["translate"])("General_ArchivingInlineHelp");return e+="<br/>",e+=Object(T["translate"])("General_SeeTheOfficialDocumentationForMoreInformation",Object(T["externalLink"])("https://matomo.org/docs/setup-auto-archiving/"),"</a>"),e}},methods:{save:function(){var e=this;this.isLoading=!0,T["AjaxHelper"].post({module:"API",method:"CoreAdminHome.setArchiveSettings"},{enableBrowserTriggerArchiving:this.enableBrowserTriggerArchivingValue,todayArchiveTimeToLive:this.todayArchiveTimeToLiveValue}).then((function(){e.isLoading=!1;var t=T["NotificationsStore"].show({message:Object(T["translate"])("CoreAdminHome_SettingsSaveSuccess"),type:"transient",id:"generalSettings",context:"success"});T["NotificationsStore"].scrollToNotification(t)})).finally((function(){e.isLoading=!1}))}}});A.render=S;var E=A,w={id:"logoSettings"},_={id:"logoUploadForm",ref:"logoUploadForm",method:"post",enctype:"multipart/form-data",action:"index.php?module=CoreAdminHome&format=json&action=uploadCustomLogo"},H={key:0},D=["value"],x=Object(r["createElementVNode"])("input",{type:"hidden",name:"force_api_session",value:"1"},null,-1),L={key:0},B={key:0,class:"alert alert-warning uploaderror"},U={class:"row"},F={class:"col s12"},I=["src"],M={class:"row"},P={class:"col s12"},G=["src"],J={key:1},q=["innerHTML"],R={key:1},W={class:"alert alert-warning"};function K(e,t,n,o,a,i){var l=Object(r["resolveComponent"])("Field"),c=Object(r["resolveComponent"])("SaveButton"),s=Object(r["resolveComponent"])("ContentBlock"),d=Object(r["resolveDirective"])("form");return Object(r["openBlock"])(),Object(r["createBlock"])(s,{"content-title":e.translate("CoreAdminHome_BrandingSettings"),anchor:"brandingSettings"},{default:Object(r["withCtx"])((function(){return[Object(r["withDirectives"])(Object(r["createElementVNode"])("div",null,[Object(r["createElementVNode"])("p",null,Object(r["toDisplayString"])(e.translate("CoreAdminHome_CustomLogoHelpText")),1),Object(r["createVNode"])(l,{name:"useCustomLogo",uicontrol:"checkbox","model-value":e.enabled,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.onUseCustomLogoChange(t)}),title:e.translate("CoreAdminHome_UseCustomLogo"),"inline-help":e.help},null,8,["model-value","title","inline-help"]),Object(r["withDirectives"])(Object(r["createElementVNode"])("div",w,[Object(r["createElementVNode"])("form",_,[e.fileUploadEnabled?(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",H,[Object(r["createElementVNode"])("input",{type:"hidden",name:"token_auth",value:e.tokenAuth},null,8,D),x,e.logosWriteable?(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",L,[Object(r["createVNode"])(r["Transition"],{name:"fade-out"},{default:Object(r["withCtx"])((function(){return[e.showUploadError?(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",B,Object(r["toDisplayString"])(e.translate("CoreAdminHome_LogoUploadFailed")),1)):Object(r["createCommentVNode"])("",!0)]})),_:1}),Object(r["createVNode"])(l,{uicontrol:"file",name:"customLogo","model-value":e.customLogo,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.onCustomLogoChange(t)}),title:e.translate("CoreAdminHome_LogoUpload"),"inline-help":e.translate("CoreAdminHome_LogoUploadHelp","JPG / PNG / GIF","110")},null,8,["model-value","title","inline-help"]),Object(r["createElementVNode"])("div",U,[Object(r["createElementVNode"])("div",F,[Object(r["createElementVNode"])("img",{src:e.pathUserLogoWithBuster,id:"currentLogo",style:{"max-height":"150px"},ref:"currentLogo"},null,8,I)])]),Object(r["createVNode"])(l,{uicontrol:"file",name:"customFavicon","model-value":e.customFavicon,"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.onFaviconChange(t)}),title:e.translate("CoreAdminHome_FaviconUpload"),"inline-help":e.translate("CoreAdminHome_LogoUploadHelp","JPG / PNG / GIF","16")},null,8,["model-value","title","inline-help"]),Object(r["createElementVNode"])("div",M,[Object(r["createElementVNode"])("div",P,[Object(r["createElementVNode"])("img",{src:e.pathUserFaviconWithBuster,id:"currentFavicon",width:"16",height:"16",ref:"currentFavicon"},null,8,G)])])])):Object(r["createCommentVNode"])("",!0),e.logosWriteable?Object(r["createCommentVNode"])("",!0):(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",J,[Object(r["createElementVNode"])("div",{class:"alert alert-warning",innerHTML:e.$sanitize(e.logosNotWriteableWarning)},null,8,q)]))])):Object(r["createCommentVNode"])("",!0),e.fileUploadEnabled?Object(r["createCommentVNode"])("",!0):(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",R,[Object(r["createElementVNode"])("div",W,Object(r["toDisplayString"])(e.translate("CoreAdminHome_FileUploadDisabled","file_uploads=1")),1)]))],512)],512),[[r["vShow"],e.enabled]]),Object(r["createVNode"])(c,{onConfirm:t[3]||(t[3]=function(t){return e.save()}),saving:e.isLoading},null,8,["saving"])],512),[[d]])]})),_:1},8,["content-title"])}var z=window,Q=z.$,Y=Object(r["defineComponent"])({props:{fileUploadEnabled:{type:Boolean,required:!0},logosWriteable:{type:Boolean,required:!0},useCustomLogo:{type:Boolean,required:!0},pathUserLogoDirectory:{type:String,required:!0},pathUserLogo:{type:String,required:!0},pathUserLogoSmall:{type:String,required:!0},pathUserLogoSvg:{type:String,required:!0},hasUserLogo:{type:Boolean,required:!0},pathUserFavicon:{type:String,required:!0},hasUserFavicon:{type:Boolean,required:!0},isPluginsAdminEnabled:{type:Boolean,required:!0}},components:{Field:y["Field"],ContentBlock:T["ContentBlock"],SaveButton:y["SaveButton"]},directives:{Form:y["Form"]},data:function(){return{isLoading:!1,enabled:this.useCustomLogo,customLogo:this.pathUserLogo,customFavicon:this.pathUserFavicon,showUploadError:!1,currentLogoSrcExists:this.hasUserLogo,currentFaviconSrcExists:this.hasUserFavicon,currentLogoCacheBuster:(new Date).getTime(),currentFaviconCacheBuster:(new Date).getTime()}},computed:{tokenAuth:function(){return T["Matomo"].token_auth},logosNotWriteableWarning:function(){return Object(T["translate"])("CoreAdminHome_LogoNotWriteableInstruction","<code>".concat(this.pathUserLogoDirectory,"</code><br/>"),"".concat(this.pathUserLogo,", ").concat(this.pathUserLogoSmall,", ").concat(this.pathUserLogoSvg))},help:function(){if(this.isPluginsAdminEnabled){var e='"'.concat(Object(T["translate"])("General_GiveUsYourFeedback"),'"'),t='<a href="?module=CorePluginsAdmin&action=plugins" rel="noreferrer noopener" target="_blank">';return Object(T["translate"])("CoreAdminHome_CustomLogoFeedbackInfo",e,t,"</a>")}},pathUserLogoWithBuster:function(){return this.currentLogoSrcExists&&this.pathUserLogo?"".concat(this.pathUserLogo,"?").concat(this.currentLogoCacheBuster):""},pathUserFaviconWithBuster:function(){return this.currentFaviconSrcExists&&this.pathUserFavicon?"".concat(this.pathUserFavicon,"?").concat(this.currentFaviconCacheBuster):""}},methods:{onUseCustomLogoChange:function(e){this.enabled=e},onCustomLogoChange:function(e){this.customLogo=e,this.updateLogo()},onFaviconChange:function(e){this.customFavicon=e,this.updateLogo()},save:function(){var e=this;this.isLoading=!0,T["AjaxHelper"].post({module:"API",method:"CoreAdminHome.setBrandingSettings"},{useCustomLogo:this.enabled?"1":"0"}).then((function(){var e=T["NotificationsStore"].show({message:Object(T["translate"])("CoreAdminHome_SettingsSaveSuccess"),type:"transient",id:"generalSettings",context:"success"});T["NotificationsStore"].scrollToNotification(e)})).finally((function(){e.isLoading=!1}))},updateLogo:function(){var e=this,t=!!this.customLogo,n=!!this.customFavicon;if(t||n){this.showUploadError=!1;var o="upload".concat((new Date).getTime()),a=Q('<iframe name="'.concat(o,'" />'));a.css("display","none"),a.on("load",(function(){setTimeout((function(){var o=(Q(a.contents()).find("body").html()||"").trim();"0"===o?e.showUploadError=!0:(t&&(e.currentLogoSrcExists=!0,e.currentLogoCacheBuster=(new Date).getTime()),n&&(e.currentFaviconSrcExists=!0,e.currentFaviconCacheBuster=(new Date).getTime())),"1"!==o&&"0"!==o||a.remove()}),1e3)})),Q("body:first").append(a);var r=Q(this.$refs.logoUploadForm);r.attr("target",o),r.submit(),this.customLogo="",this.customFavicon=""}}}});Y.render=K;var X=Y,Z={id:"smtpSettings"};function ee(e,t,n,o,a,i){var l=Object(r["resolveComponent"])("Field"),c=Object(r["resolveComponent"])("SaveButton"),s=Object(r["resolveComponent"])("ContentBlock"),d=Object(r["resolveDirective"])("form");return Object(r["openBlock"])(),Object(r["createBlock"])(s,{"content-title":e.translate("CoreAdminHome_EmailServerSettings"),anchor:"mailSettings"},{default:Object(r["withCtx"])((function(){return[Object(r["withDirectives"])(Object(r["createElementVNode"])("div",null,[Object(r["createVNode"])(l,{uicontrol:"checkbox",name:"mailUseSmtp",modelValue:e.enabled,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.enabled=t}),title:e.translate("General_UseSMTPServerForEmail"),"inline-help":e.translate("General_SelectYesIfYouWantToSendEmailsViaServer")},null,8,["modelValue","title","inline-help"]),Object(r["withDirectives"])(Object(r["createElementVNode"])("div",Z,[Object(r["createVNode"])(l,{uicontrol:"text",name:"mailHost","model-value":e.mailHost,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.onUpdateMailHost(t)}),title:e.translate("General_SmtpServerAddress")},null,8,["model-value","title"]),Object(r["createVNode"])(l,{uicontrol:"text",name:"mailPort",modelValue:e.mailPort,"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.mailPort=t}),title:e.translate("General_SmtpPort"),"inline-help":e.translate("General_OptionalSmtpPort")},null,8,["modelValue","title","inline-help"]),Object(r["createVNode"])(l,{uicontrol:"select",name:"mailType",modelValue:e.mailType,"onUpdate:modelValue":t[3]||(t[3]=function(t){return e.mailType=t}),title:e.translate("General_AuthenticationMethodSmtp"),options:e.mailTypes,"inline-help":e.translate("General_OnlyUsedIfUserPwdIsSet")},null,8,["modelValue","title","options","inline-help"]),Object(r["createVNode"])(l,{uicontrol:"text",name:"mailUsername",modelValue:e.mailUsername,"onUpdate:modelValue":t[4]||(t[4]=function(t){return e.mailUsername=t}),title:e.translate("General_SmtpUsername"),"inline-help":e.translate("General_OnlyEnterIfRequired"),autocomplete:"off"},null,8,["modelValue","title","inline-help"]),Object(r["createVNode"])(l,{uicontrol:"password",name:"mailPassword","model-value":e.mailPassword,"onUpdate:modelValue":t[5]||(t[5]=function(t){return e.onMailPasswordChange(t)}),onClick:t[6]||(t[6]=function(t){!e.passwordChanged&&t.target.select()}),title:e.translate("General_SmtpPassword"),"inline-help":e.passwordHelp,autocomplete:"off"},null,8,["model-value","title","inline-help"]),Object(r["createVNode"])(l,{uicontrol:"text",name:"mailFromAddress",modelValue:e.mailFromAddress,"onUpdate:modelValue":t[7]||(t[7]=function(t){return e.mailFromAddress=t}),title:e.translate("General_SmtpFromAddress"),"inline-help":e.translate("General_SmtpFromEmailHelp",e.mailHost),autocomplete:"off"},null,8,["modelValue","title","inline-help"]),Object(r["createVNode"])(l,{uicontrol:"text",name:"mailFromName",modelValue:e.mailFromName,"onUpdate:modelValue":t[8]||(t[8]=function(t){return e.mailFromName=t}),title:e.translate("General_SmtpFromName"),"inline-help":e.translate("General_NameShownInTheSenderColumn"),autocomplete:"off"},null,8,["modelValue","title","inline-help"]),Object(r["createVNode"])(l,{uicontrol:"select",name:"mailEncryption",modelValue:e.mailEncryption,"onUpdate:modelValue":t[9]||(t[9]=function(t){return e.mailEncryption=t}),title:e.translate("General_SmtpEncryption"),options:e.mailEncryptions,"inline-help":e.translate("General_EncryptedSmtpTransport")},null,8,["modelValue","title","options","inline-help"])],512),[[r["vShow"],e.enabled]]),Object(r["createVNode"])(c,{onConfirm:t[10]||(t[10]=function(t){return e.save()}),saving:e.isLoading},null,8,["saving"])],512),[[d]])]})),_:1},8,["content-title"])}var te=Object(r["defineComponent"])({props:{mail:{type:Object,required:!0},mailTypes:{type:Object,required:!0},mailEncryptions:{type:Object,required:!0}},data:function(){var e=this.mail;return{isLoading:!1,enabled:"smtp"===e.transport,mailHost:e.host,passwordChanged:!1,mailPort:e.port,mailType:e.type,mailUsername:e.username,mailPassword:e.password?"******":"",mailFromAddress:e.noreply_email_address,mailFromName:e.noreply_email_name,mailEncryption:e.encryption}},components:{ContentBlock:T["ContentBlock"],Field:y["Field"],SaveButton:y["SaveButton"]},directives:{Form:y["Form"]},computed:{passwordHelp:function(){var e="".concat(Object(T["translate"])("General_OnlyEnterIfRequiredPassword"),"<br/>"),t="".concat(Object(T["translate"])("General_WarningPasswordStored","<strong>","</strong>"),"<br/>");return"".concat(e,"\n").concat(t)}},methods:{onUpdateMailHost:function(e){this.mailHost=e,this.passwordChanged||(this.mailPassword="",this.passwordChanged=!0)},onMailPasswordChange:function(e){this.mailPassword=e,this.passwordChanged=!0},save:function(){var e=this;this.isLoading=!0;var t={mailUseSmtp:this.enabled?"1":"0",mailPort:this.mailPort,mailHost:this.mailHost,mailType:this.mailType,mailUsername:this.mailUsername,mailFromAddress:this.mailFromAddress,mailFromName:this.mailFromName,mailEncryption:this.mailEncryption};this.passwordChanged&&(t.mailPassword=this.mailPassword),T["AjaxHelper"].post({module:"CoreAdminHome",action:"setMailSettings"},t,{withTokenInUrl:!0}).then((function(){var e=T["NotificationsStore"].show({message:Object(T["translate"])("CoreAdminHome_SettingsSaveSuccess"),type:"transient",id:"generalSettings",context:"success"});T["NotificationsStore"].scrollToNotification(e)})).finally((function(){e.isLoading=!1}))}}});te.render=ee;var ne=te,oe={id:"js-code-options"},ae=Object(r["createElementVNode"])("br",null,null,-1),re=Object(r["createElementVNode"])("br",null,null,-1),ie=["innerHTML"],le=["innerHTML"],ce=Object(r["createElementVNode"])("br",null,null,-1),se=Object(r["createElementVNode"])("br",null,null,-1),de=["innerHTML"],ue=Object(r["createElementVNode"])("br",null,null,-1),me=Object(r["createElementVNode"])("br",null,null,-1),ge=["innerHTML"],pe=Object(r["createElementVNode"])("br",null,null,-1),be=Object(r["createElementVNode"])("br",null,null,-1),he=["href"],je=Object(r["createTextVNode"])(" | "),ve=["href"],fe=Object(r["createTextVNode"])(" | "),Oe=["href"],Ce=Object(r["createTextVNode"])(" | "),ke=["href"],Ve=Object(r["createTextVNode"])(" | "),Ne=["href"],Se=Object(r["createTextVNode"])(" | "),Te=["href"],ye=Object(r["createTextVNode"])(" | "),Ae=["href"],Ee={id:"javascript-output-section"},we={class:"valign-wrapper trackingHelpHeader matchWidth"},_e={id:"javascript-email-button"},He={id:"javascript-text"},De=["textContent"];function xe(e,t,n,o,a,i){var l=Object(r["resolveComponent"])("Field"),c=Object(r["resolveComponent"])("JsTrackingCodeAdvancedOptions"),s=Object(r["resolveComponent"])("ContentBlock"),d=Object(r["resolveDirective"])("copy-to-clipboard");return Object(r["openBlock"])(),Object(r["createBlock"])(s,{anchor:"javaScriptTracking","content-title":e.translate("CoreAdminHome_JavaScriptTracking")},{default:Object(r["withCtx"])((function(){return[Object(r["createElementVNode"])("div",oe,[Object(r["createElementVNode"])("p",null,[Object(r["createTextVNode"])(Object(r["toDisplayString"])(e.translate("CoreAdminHome_JSTrackingIntro1"))+" ",1),ae,re,Object(r["createTextVNode"])(" "+Object(r["toDisplayString"])(e.translate("CoreAdminHome_JSTrackingIntro2"))+" ",1),Object(r["createElementVNode"])("span",{innerHTML:e.$sanitize(e.jsTrackingIntro3a)},null,8,ie),Object(r["createElementVNode"])("span",{innerHTML:e.$sanitize(" "+e.jsTrackingIntro3b)},null,8,le),ce,se,Object(r["createElementVNode"])("span",{innerHTML:e.$sanitize(e.jsTrackingIntro4a)},null,8,de),ue,me,Object(r["createElementVNode"])("span",{innerHTML:e.$sanitize(e.jsTrackingIntro5)},null,8,ge),pe,be,Object(r["createTextVNode"])(" "+Object(r["toDisplayString"])(e.translate("SitesManager_InstallationGuides"))+" : ",1),Object(r["createElementVNode"])("a",{href:e.externalRawLink("https://matomo.org/faq/new-to-piwik/how-do-i-install-the-matomo-tracking-code-on-wordpress/"),target:"_blank",rel:"noopener"},"WordPress",8,he),je,Object(r["createElementVNode"])("a",{href:e.externalRawLink("https://matomo.org/faq/new-to-piwik/how-do-i-integrate-matomo-with-squarespace-website/"),target:"_blank",rel:"noopener"},"Squarespace",8,ve),fe,Object(r["createElementVNode"])("a",{href:e.externalRawLink("https://matomo.org/faq/new-to-piwik/how-do-i-install-the-matomo-analytics-tracking-code-on-wix/"),target:"_blank",rel:"noopener"},"Wix",8,Oe),Ce,Object(r["createElementVNode"])("a",{href:e.externalRawLink("https://matomo.org/faq/how-to-install/faq_19424/"),target:"_blank",rel:"noopener"},"SharePoint",8,ke),Ve,Object(r["createElementVNode"])("a",{href:e.externalRawLink("https://matomo.org/faq/new-to-piwik/how-do-i-install-the-matomo-analytics-tracking-code-on-joomla/"),target:"_blank",rel:"noopener"},"Joomla",8,Ne),Se,Object(r["createElementVNode"])("a",{href:e.externalRawLink("https://matomo.org/faq/new-to-piwik/how-do-i-install-the-matomo-tracking-code-on-my-shopify-store/"),target:"_blank",rel:"noopener"},"Shopify",8,Te),ye,Object(r["createElementVNode"])("a",{href:e.externalRawLink("https://matomo.org/faq/new-to-piwik/how-do-i-use-matomo-analytics-within-gtm-google-tag-manager/"),target:"_blank",rel:"noopener"},"Google Tag Manager",8,Ae)]),Object(r["createVNode"])(l,{uicontrol:"site",name:"js-tracker-website",class:"jsTrackingCodeWebsite",modelValue:e.site,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.site=t}),ref:"site",introduction:e.translate("General_Website")},null,8,["modelValue","introduction"]),Object(r["createElementVNode"])("div",Ee,[Object(r["createElementVNode"])("div",we,[Object(r["createElementVNode"])("div",null,[Object(r["createElementVNode"])("h3",null,Object(r["toDisplayString"])(e.translate("General_JsTrackingTag")),1),Object(r["createElementVNode"])("p",null,Object(r["toDisplayString"])(e.translate("CoreAdminHome_JSTracking_CodeNoteBeforeClosingHead","</head>")),1)]),Object(r["createElementVNode"])("div",_e,[Object(r["createElementVNode"])("button",{class:"btn",id:"emailJsBtn",onClick:t[1]||(t[1]=function(t){return e.sendEmail()})},Object(r["toDisplayString"])(e.translate("SitesManager_EmailInstructionsButton")),1)])]),Object(r["createElementVNode"])("div",He,[Object(r["createElementVNode"])("div",null,[Object(r["withDirectives"])(Object(r["createElementVNode"])("pre",{class:"codeblock",textContent:Object(r["toDisplayString"])(e.trackingCode),ref:"trackingCode"},null,8,De),[[d,{}]])])])])]),Object(r["createVNode"])(c,{site:e.site,"max-custom-variables":e.maxCustomVariables,"server-side-do-not-track-enabled":e.serverSideDoNotTrackEnabled,onUpdateTrackingCode:e.updateTrackingCode},null,8,["site","max-custom-variables","server-side-do-not-track-enabled","onUpdateTrackingCode"])]})),_:1},8,["content-title"])}var Le={class:"trackingCodeAdvancedOptions"},Be={class:"advance-option"},Ue=Object(r["createElementVNode"])("span",{class:"icon-chevron-down"},null,-1),Fe=Object(r["createElementVNode"])("span",{class:"icon-chevron-up"},null,-1),Ie={id:"javascript-advanced-options"},Me=["innerHTML"],Pe={id:"optional-js-tracking-options"},Ge={id:"jsTrackAllSubdomainsInlineHelp",class:"inline-help-node"},Je=["innerHTML"],qe=["innerHTML"],Re={id:"jsTrackGroupByDomainInlineHelp",class:"inline-help-node"},We={id:"jsTrackAllAliasesInlineHelp",class:"inline-help-node"},$e={id:"javascript-tracking-visitor-cv"},Ke={class:"row"},ze={class:"col s12 m3"},Qe={class:"col s12 m3"},Ye={class:"col s12 m6 l3"},Xe=["onKeydown"],Ze={class:"col s12 m6 l3"},et=["onKeydown"],tt={class:"row"},nt={class:"col s12"},ot=Object(r["createElementVNode"])("span",{class:"icon-add"},null,-1),at={id:"jsCrossDomain",class:"inline-help-node"},rt=Object(r["createElementVNode"])("br",null,null,-1),it={id:"jsDoNotTrackInlineHelp",class:"inline-help-node"},lt={key:0},ct=Object(r["createElementVNode"])("br",null,null,-1),st=["innerHTML"],dt={id:"js-campaign-query-param-extra"},ut={class:"row"},mt={class:"col s12"},gt={class:"row"},pt={class:"col s12"};function bt(e,t,n,o,a,i){var l=Object(r["resolveComponent"])("Field");return Object(r["openBlock"])(),Object(r["createElementBlock"])("div",Le,[Object(r["createElementVNode"])("div",Be,[Object(r["createElementVNode"])("span",null,[e.showAdvanced?Object(r["createCommentVNode"])("",!0):(Object(r["openBlock"])(),Object(r["createElementBlock"])("a",{key:0,href:"javascript:;",onClick:t[0]||(t[0]=Object(r["withModifiers"])((function(t){return e.showAdvanced=!0}),["prevent"]))},[Object(r["createTextVNode"])(Object(r["toDisplayString"])(e.translate("CoreAdminHome_ShowAdvancedOptions"))+" ",1),Ue])),e.showAdvanced?(Object(r["openBlock"])(),Object(r["createElementBlock"])("a",{key:1,href:"javascript:;",onClick:t[1]||(t[1]=Object(r["withModifiers"])((function(t){return e.showAdvanced=!1}),["prevent"]))},[Object(r["createTextVNode"])(Object(r["toDisplayString"])(e.translate("CoreAdminHome_HideAdvancedOptions"))+" ",1),Fe])):Object(r["createCommentVNode"])("",!0)])]),Object(r["withDirectives"])(Object(r["createElementVNode"])("div",Ie,[Object(r["createElementVNode"])("p",{innerHTML:e.$sanitize(e.trackingDocumentationHelp)},null,8,Me),Object(r["createElementVNode"])("div",Pe,[Object(r["createElementVNode"])("div",Ge,[Object(r["createElementVNode"])("span",{innerHTML:e.$sanitize(e.mergeSubdomainsDesc)},null,8,Je),Object(r["createElementVNode"])("span",{innerHTML:e.$sanitize(e.learnMoreText)},null,8,qe)]),Object(r["createVNode"])(l,{uicontrol:"checkbox",name:"javascript-tracking-all-subdomains","model-value":e.trackAllSubdomains,"onUpdate:modelValue":t[2]||(t[2]=function(t){e.trackAllSubdomains=t,e.updateTrackingCode()}),disabled:e.isLoading,title:"".concat(e.translate("CoreAdminHome_JSTracking_MergeSubdomains")," ").concat(e.currentSiteName),"inline-help":"#jsTrackAllSubdomainsInlineHelp"},null,8,["model-value","disabled","title"])]),Object(r["createElementVNode"])("div",Re,Object(r["toDisplayString"])(e.translate("CoreAdminHome_JSTracking_GroupPageTitlesByDomainDesc1",e.currentSiteHost)),1),Object(r["createVNode"])(l,{uicontrol:"checkbox",name:"javascript-tracking-group-by-domain","model-value":e.groupByDomain,"onUpdate:modelValue":t[3]||(t[3]=function(t){e.groupByDomain=t,e.updateTrackingCode()}),disabled:e.isLoading,title:e.translate("CoreAdminHome_JSTracking_GroupPageTitlesByDomain"),"inline-help":"#jsTrackGroupByDomainInlineHelp"},null,8,["model-value","disabled","title"]),Object(r["createElementVNode"])("div",We,Object(r["toDisplayString"])(e.translate("CoreAdminHome_JSTracking_MergeAliasesDesc",e.currentSiteAlias)),1),Object(r["createVNode"])(l,{uicontrol:"checkbox",name:"javascript-tracking-all-aliases","model-value":e.trackAllAliases,"onUpdate:modelValue":t[4]||(t[4]=function(t){e.trackAllAliases=t,e.updateTrackingCode()}),disabled:e.isLoading,title:"".concat(e.translate("CoreAdminHome_JSTracking_MergeAliases")," ").concat(e.currentSiteName),"inline-help":"#jsTrackAllAliasesInlineHelp"},null,8,["model-value","disabled","title"]),Object(r["createVNode"])(l,{uicontrol:"checkbox",name:"javascript-tracking-noscript","model-value":e.trackNoScript,"onUpdate:modelValue":t[5]||(t[5]=function(t){e.trackNoScript=t,e.updateTrackingCode()}),disabled:e.isLoading,title:e.translate("CoreAdminHome_JSTracking_TrackNoScript")},null,8,["model-value","disabled","title"]),Object(r["withDirectives"])(Object(r["createVNode"])(l,{uicontrol:"checkbox",name:"javascript-tracking-visitor-cv-check","model-value":e.trackCustomVars,"onUpdate:modelValue":t[6]||(t[6]=function(t){e.trackCustomVars=t,e.updateTrackingCode()}),disabled:e.isLoading,title:e.translate("CoreAdminHome_JSTracking_VisitorCustomVars"),"inline-help":e.translate("CoreAdminHome_JSTracking_VisitorCustomVarsDesc")},null,8,["model-value","disabled","title","inline-help"]),[[r["vShow"],e.maxCustomVariables>0]]),Object(r["withDirectives"])(Object(r["createElementVNode"])("div",$e,[Object(r["createElementVNode"])("div",Ke,[Object(r["createElementVNode"])("div",ze,Object(r["toDisplayString"])(e.translate("General_Name")),1),Object(r["createElementVNode"])("div",Qe,Object(r["toDisplayString"])(e.translate("General_Value")),1)]),(Object(r["openBlock"])(!0),Object(r["createElementBlock"])(r["Fragment"],null,Object(r["renderList"])(e.customVars,(function(t,n){return Object(r["openBlock"])(),Object(r["createElementBlock"])("div",{class:"row",key:n},[Object(r["createElementVNode"])("div",Ye,[Object(r["createElementVNode"])("input",{type:"text",class:"custom-variable-name",onKeydown:function(t){return e.onCustomVarNameKeydown(t,n)},placeholder:"e.g. Type"},null,40,Xe)]),Object(r["createElementVNode"])("div",Ze,[Object(r["createElementVNode"])("input",{type:"text",class:"custom-variable-value",onKeydown:function(t){return e.onCustomVarValueKeydown(t,n)},placeholder:"e.g. Customer"},null,40,et)])])})),128)),Object(r["withDirectives"])(Object(r["createElementVNode"])("div",tt,[Object(r["createElementVNode"])("div",nt,[Object(r["createElementVNode"])("a",{href:"javascript:;",onClick:t[7]||(t[7]=function(t){return e.addCustomVar()}),class:"add-custom-variable"},[ot,Object(r["createTextVNode"])(" "+Object(r["toDisplayString"])(e.translate("General_Add")),1)])])],512),[[r["vShow"],e.canAddMoreCustomVariables]])],512),[[r["vShow"],e.trackCustomVars]]),Object(r["createElementVNode"])("div",at,[Object(r["createTextVNode"])(Object(r["toDisplayString"])(e.translate("CoreAdminHome_JSTracking_CrossDomain"))+" ",1),rt,Object(r["createTextVNode"])(" "+Object(r["toDisplayString"])(e.translate("CoreAdminHome_JSTracking_CrossDomain_NeedsMultipleDomains")),1)]),Object(r["createVNode"])(l,{uicontrol:"checkbox",name:"javascript-tracking-cross-domain","model-value":e.crossDomain,"onUpdate:modelValue":t[8]||(t[8]=function(t){e.crossDomain=t,e.updateTrackingCode(),e.onCrossDomainToggle()}),disabled:e.isLoading||!e.hasManySiteUrls,title:e.translate("CoreAdminHome_JSTracking_EnableCrossDomainLinking"),"inline-help":"#jsCrossDomain"},null,8,["model-value","disabled","title"]),Object(r["createElementVNode"])("div",it,[Object(r["createTextVNode"])(Object(r["toDisplayString"])(e.translate("CoreAdminHome_JSTracking_EnableDoNotTrackDesc"))+" ",1),e.serverSideDoNotTrackEnabled?(Object(r["openBlock"])(),Object(r["createElementBlock"])("span",lt,[ct,Object(r["createTextVNode"])(" "+Object(r["toDisplayString"])(e.translate("CoreAdminHome_JSTracking_EnableDoNotTrack_AlreadyEnabled")),1)])):Object(r["createCommentVNode"])("",!0)]),Object(r["createVNode"])(l,{uicontrol:"checkbox",name:"javascript-tracking-do-not-track","model-value":e.doNotTrack,"onUpdate:modelValue":t[9]||(t[9]=function(t){e.doNotTrack=t,e.updateTrackingCode()}),disabled:e.isLoading,title:e.translate("CoreAdminHome_JSTracking_EnableDoNotTrack"),"inline-help":"#jsDoNotTrackInlineHelp"},null,8,["model-value","disabled","title"]),Object(r["createVNode"])(l,{uicontrol:"checkbox",name:"javascript-tracking-disable-cookies","model-value":e.disableCookies,"onUpdate:modelValue":t[10]||(t[10]=function(t){e.disableCookies=t,e.updateTrackingCode()}),disabled:e.isLoading,title:e.translate("CoreAdminHome_JSTracking_DisableCookies"),"inline-help":e.translate("CoreAdminHome_JSTracking_DisableCookiesDesc")},null,8,["model-value","disabled","title","inline-help"]),Object(r["createElementVNode"])("div",{id:"jsTrackCampaignParamsInlineHelp",class:"inline-help-node",innerHTML:e.$sanitize(e.jsTrackCampaignParamsInlineHelp)},null,8,st),Object(r["createVNode"])(l,{uicontrol:"checkbox",name:"custom-campaign-query-params-check","model-value":e.useCustomCampaignParams,"onUpdate:modelValue":t[11]||(t[11]=function(t){e.useCustomCampaignParams=t,e.updateTrackingCode()}),disabled:e.isLoading,title:e.translate("CoreAdminHome_JSTracking_CustomCampaignQueryParam"),"inline-help":"#jsTrackCampaignParamsInlineHelp"},null,8,["model-value","disabled","title"]),Object(r["withDirectives"])(Object(r["createElementVNode"])("div",dt,[Object(r["createElementVNode"])("div",ut,[Object(r["createElementVNode"])("div",mt,[Object(r["createVNode"])(l,{uicontrol:"text",name:"custom-campaign-name-query-param","model-value":e.customCampaignName,"onUpdate:modelValue":t[12]||(t[12]=function(t){e.customCampaignName=t,e.updateTrackingCode()}),disabled:e.isLoading,title:e.translate("CoreAdminHome_JSTracking_CampaignNameParam")},null,8,["model-value","disabled","title"])])]),Object(r["createElementVNode"])("div",gt,[Object(r["createElementVNode"])("div",pt,[Object(r["createVNode"])(l,{uicontrol:"text",name:"custom-campaign-keyword-query-param","model-value":e.customCampaignKeyword,"onUpdate:modelValue":t[13]||(t[13]=function(t){e.customCampaignKeyword=t,e.updateTrackingCode()}),disabled:e.isLoading,title:e.translate("CoreAdminHome_JSTracking_CampaignKwdParam")},null,8,["model-value","disabled","title"])])])],512),[[r["vShow"],e.useCustomCampaignParams]]),Object(r["createVNode"])(l,{uicontrol:"checkbox",name:"require-consent-for-campaign-tracking","model-value":e.disableCampaignParameters,"onUpdate:modelValue":t[14]||(t[14]=function(t){e.disableCampaignParameters=t,e.updateTrackingCode()}),disabled:e.isLoading,title:e.translate("CoreAdminHome_JSTracking_DisableCampaignParameters"),"inline-help":e.translate("CoreAdminHome_JSTracking_DisableCampaignParametersDesc")},null,8,["model-value","disabled","title","inline-help"])],512),[[r["vShow"],e.showAdvanced]])])}function ht(e){var t=new URL(e);return t.hostname}function jt(e){return e.filter((function(e){return!!e.name})).map((function(e){return[e.name,e.value]}))}var vt=window.location.host,ft=window.location.pathname.substring(0,window.location.pathname.lastIndexOf("/")),Ot=Object(r["defineComponent"])({props:{site:{type:Object,required:!0},maxCustomVariables:Number,serverSideDoNotTrackEnabled:Boolean},data:function(){return{showAdvanced:!1,trackAllSubdomains:!1,isLoading:!1,siteUrls:{},siteExcludedQueryParams:{},siteExcludedReferrers:{},crossDomain:!1,groupByDomain:!1,trackAllAliases:!1,trackNoScript:!1,trackCustomVars:!1,customVars:[],canAddMoreCustomVariables:!!this.maxCustomVariables&&this.maxCustomVariables>0,doNotTrack:!1,disableCookies:!1,useCustomCampaignParams:!1,customCampaignName:"",customCampaignKeyword:"",trackingCodeAbortController:null,disableCampaignParameters:!1}},emits:["updateTrackingCode"],components:{Field:y["Field"]},created:function(){this.site&&this.site.id&&this.onSiteChanged(this.site),this.onCustomVarNameKeydown=Object(T["debounce"])(this.onCustomVarNameKeydown,100),this.onCustomVarValueKeydown=Object(T["debounce"])(this.onCustomVarValueKeydown,100),this.addCustomVar()},watch:{site:function(e){this.onSiteChanged(e)}},methods:{onSiteChanged:function(e){var t=this,n=e.id,o=[];this.siteUrls[n]||(this.isLoading=!0,o.push(T["AjaxHelper"].fetch({module:"API",method:"SitesManager.getSiteUrlsFromId",idSite:n,filter_limit:"-1"}).then((function(e){t.siteUrls[n]=e||[]})))),this.siteExcludedQueryParams[n]||(this.isLoading=!0,o.push(T["AjaxHelper"].fetch({module:"API",method:"SitesManager.getExcludedQueryParameters",idSite:n,filter_limit:"-1"}).then((function(e){t.siteExcludedQueryParams[n]=e||[]})))),this.siteExcludedReferrers[n]||(this.isLoading=!0,o.push(T["AjaxHelper"].fetch({module:"API",method:"SitesManager.getExcludedReferrers",idSite:n,filter_limit:"-1"}).then((function(e){t.siteExcludedReferrers[n]=[],Object.values(e||[]).forEach((function(e){t.siteExcludedReferrers[n].push(e.replace(/^https?:\/\//,""))}))})))),Promise.all(o).then((function(){t.isLoading=!1,t.updateCurrentSiteInfo(),t.updateTrackingCode()}))},updateCurrentSiteInfo:function(){this.hasManySiteUrls||(this.crossDomain=!1)},onCrossDomainToggle:function(){this.crossDomain&&(this.trackAllAliases=!0)},updateTrackingCode:function(){var e=this,t={piwikUrl:"".concat(vt).concat(ft),groupPageTitlesByDomain:this.groupByDomain?1:0,mergeSubdomains:this.trackAllSubdomains?1:0,mergeAliasUrls:this.trackAllAliases?1:0,visitorCustomVariables:this.trackCustomVars?jt(this.customVars):0,customCampaignNameQueryParam:null,customCampaignKeywordParam:null,doNotTrack:this.doNotTrack?1:0,disableCookies:this.disableCookies?1:0,crossDomain:this.crossDomain?1:0,trackNoScript:this.trackNoScript?1:0,forceMatomoEndpoint:1,disableCampaignParameters:this.disableCampaignParameters?1:0};this.siteExcludedQueryParams[this.site.id]&&(t.excludedQueryParams=this.siteExcludedQueryParams[this.site.id]),this.siteExcludedReferrers[this.site.id]&&(t.excludedReferrers=this.siteExcludedReferrers[this.site.id]),this.useCustomCampaignParams&&(t.customCampaignNameQueryParam=this.customCampaignName,t.customCampaignKeywordParam=this.customCampaignKeyword),this.trackingCodeAbortController&&(this.trackingCodeAbortController.abort(),this.trackingCodeAbortController=null),this.trackingCodeAbortController=new AbortController,T["AjaxHelper"].post({module:"API",format:"json",method:"SitesManager.getJavascriptTag",idSite:this.site.id},t,{abortController:this.trackingCodeAbortController}).then((function(t){e.trackingCodeAbortController=null,e.$emit("updateTrackingCode",t.value)}))},addCustomVar:function(){this.canAddMoreCustomVariables&&this.customVars.push({name:"",value:""}),this.canAddMoreCustomVariables=!!this.maxCustomVariables&&this.maxCustomVariables>this.customVars.length},onCustomVarNameKeydown:function(e,t){var n=this;setTimeout((function(){n.customVars[t].name=e.target.value,n.updateTrackingCode()}))},onCustomVarValueKeydown:function(e,t){var n=this;setTimeout((function(){n.customVars[t].value=e.target.value,n.updateTrackingCode()}))}},computed:{hasManySiteUrls:function(){var e=this.site;return this.siteUrls[e.id]&&this.siteUrls[e.id].length>1},currentSiteHost:function(){var e,t=null===(e=this.siteUrls[this.site.id])||void 0===e?void 0:e[0];return t?ht(t):""},currentSiteAlias:function(){var e,t="x.".concat(this.currentSiteHost),n=null===(e=this.siteUrls[this.site.id])||void 0===e?void 0:e[1];return n||t},currentSiteName:function(){return T["Matomo"].helper.htmlEntities(this.site.name)},mergeSubdomainsDesc:function(){return Object(T["translate"])("CoreAdminHome_JSTracking_MergeSubdomainsDesc","x.".concat(this.currentSiteHost),"y.".concat(this.currentSiteHost))},learnMoreText:function(){var e=Object(T["externalRawLink"])("https://developer.matomo.org/guides/tracking-javascript-guide")+"#measuring-domains-andor-sub-domains";return Object(T["translate"])("General_LearnMore",' (<a href="'.concat(e,'" rel="noreferrer noopener" target="_blank">'),"</a>)")},jsTrackCampaignParamsInlineHelp:function(){return Object(T["translate"])("CoreAdminHome_JSTracking_CustomCampaignQueryParamDesc",Object(T["externalLink"])("https://matomo.org/faq/general/faq_119"),"</a>")},trackingDocumentationHelp:function(){return Object(T["translate"])("CoreAdminHome_JSTrackingDocumentationHelp",Object(T["externalLink"])("https://developer.matomo.org/guides/tracking-javascript-guide"),"</a>")}}});Ot.render=bt;var Ct=Ot,kt=Object(r["defineComponent"])({props:{defaultSite:{type:Object,required:!0},maxCustomVariables:Number,serverSideDoNotTrackEnabled:Boolean},data:function(){return{site:this.defaultSite,trackingCode:"",isHighlighting:!1,consentManagerName:"",consentManagerUrl:"",consentManagerIsConnected:!1}},components:{JsTrackingCodeAdvancedOptions:Ct,ContentBlock:T["ContentBlock"],Field:y["Field"]},directives:{CopyToClipboard:T["CopyToClipboard"]},created:function(){this.site&&this.site.id&&this.onSiteChanged(this.site)},watch:{site:function(e){this.onSiteChanged(e)}},methods:{updateTrackingCode:function(e){var t=this;this.trackingCode=e;var n=$(this.$refs.trackingCode);n&&!this.isHighlighting&&(this.isHighlighting=!0,n.effect("highlight",{complete:function(){t.isHighlighting=!1}},1500))},onSiteChanged:function(e){var t=this,n=e.id;T["AjaxHelper"].fetch({module:"API",format:"json",method:"SitesManager.detectConsentManager",idSite:n,filter_limit:"-1"}).then((function(e){Object.prototype.hasOwnProperty.call(e,"name")&&(t.consentManagerName=e.name),Object.prototype.hasOwnProperty.call(e,"url")&&(t.consentManagerUrl=e.url),t.consentManagerIsConnected=e.isConnected}))},sendEmail:function(){var e=Object(T["translate"])("SitesManager_EmailInstructionsSubject");e=encodeURIComponent(e);var t=this.trackingCode;t=t.replace(/<[^>]+>/g,"");var n="".concat(Object(T["translate"])("SitesManager_JsTrackingTagHelp"),". ").concat(Object(T["translate"])("CoreAdminHome_JSTracking_CodeNoteBeforeClosingHeadEmail","'head"),"\n").concat(t);""!==this.consentManagerName&&""!==this.consentManagerUrl&&(n+=Object(T["translate"])("CoreAdminHome_JSTracking_ConsentManagerDetected",this.consentManagerName,this.consentManagerUrl),this.consentManagerIsConnected&&(n+="\n".concat(Object(T["translate"])("CoreAdminHome_JSTracking_ConsentManagerConnected",this.consentManagerName)))),n=encodeURIComponent(n);var o="mailto:?subject=".concat(e,"&body=").concat(n);window.location.href=o}},computed:{jsTrackingIntro3a:function(){return Object(T["translate"])("CoreAdminHome_JSTrackingIntro3a",Object(T["externalLink"])("https://matomo.org/integrate/"),"</a>")},jsTrackingIntro3b:function(){return Object(T["translate"])("CoreAdminHome_JSTrackingIntro3b")},jsTrackingIntro4a:function(){return Object(T["translate"])("CoreAdminHome_JSTrackingIntro4",'<a href="#image-tracking-link">',"</a>")},jsTrackingIntro5:function(){return Object(T["translate"])("CoreAdminHome_JSTrackingIntro5",Object(T["externalLink"])("https://developer.matomo.org/guides/tracking-javascript-guide"),"</a>")}}});kt.render=xe;var Vt=kt,Nt={class:"list-style-decimal"},St={id:"javascript-text"},Tt=["textContent"],yt={key:0};function At(e,t,n,o,a,i){var l=Object(r["resolveComponent"])("JsTrackingCodeAdvancedOptions"),c=Object(r["resolveDirective"])("copy-to-clipboard");return Object(r["openBlock"])(),Object(r["createElementBlock"])("ol",Nt,[Object(r["createElementVNode"])("li",null,[Object(r["createTextVNode"])(Object(r["toDisplayString"])(e.translate("CoreAdminHome_JsTrackingCodeAdvancedOptionsStep"))+" ",1),Object(r["createVNode"])(l,{site:e.site,"max-custom-variables":e.maxCustomVariables,"server-side-do-not-track-enabled":e.serverSideDoNotTrackEnabled,onUpdateTrackingCode:e.updateTrackingCode},null,8,["site","max-custom-variables","server-side-do-not-track-enabled","onUpdateTrackingCode"])]),Object(r["createElementVNode"])("li",null,[Object(r["createElementVNode"])("span",null,Object(r["toDisplayString"])(e.getCopyCodeStep),1),Object(r["createElementVNode"])("div",St,[Object(r["createElementVNode"])("div",null,[Object(r["withDirectives"])(Object(r["createElementVNode"])("pre",{class:"codeblock",textContent:Object(r["toDisplayString"])(e.trackingCode),ref:"trackingCode"},null,8,Tt),[[c,{}]])])])]),e.isJsTrackerInstallCheckAvailable?(Object(r["openBlock"])(),Object(r["createElementBlock"])("li",yt,[(Object(r["openBlock"])(),Object(r["createBlock"])(Object(r["resolveDynamicComponent"])(e.testComponent),{site:e.site},null,8,["site"]))])):Object(r["createCommentVNode"])("",!0)])}var Et=Object(r["defineComponent"])({props:{defaultSite:{type:Object,required:!0},maxCustomVariables:Number,serverSideDoNotTrackEnabled:Boolean,jsTag:String,isJsTrackerInstallCheckAvailable:Boolean},components:{JsTrackingCodeAdvancedOptions:Ct},directives:{CopyToClipboard:T["CopyToClipboard"]},data:function(){return{site:this.defaultSite,trackingCode:"",isHighlighting:!1}},created:function(){this.jsTag&&(this.trackingCode=this.jsTag)},methods:{updateTrackingCode:function(e){var t=this;this.trackingCode=e;var n=$(this.$refs.trackingCode);n&&!this.isHighlighting&&(this.isHighlighting=!0,n.effect("highlight",{complete:function(){t.isHighlighting=!1}},1500))}},computed:{getCopyCodeStep:function(){return Object(T["translate"])("CoreAdminHome_JSTracking_CodeNoteBeforeClosingHead","</head>")},testComponent:function(){return this.isJsTrackerInstallCheckAvailable?Object(T["useExternalPluginComponent"])("JsTrackerInstallCheck","JsTrackerInstallCheck"):""}}});Et.render=At;var wt=Et,_t=Object(r["createElementVNode"])("a",{name:"image-tracking-link"},null,-1),Ht={id:"image-tracking-code-options"},Dt=["innerHTML"],xt=["innerHTML"],Lt={id:"image-tracking-goal-sub"},Bt={class:"row"},Ut={class:"col s12 m6"},Ft={class:"col s12 m6"},It={id:"image-link-output-section"},Mt={id:"image-tracking-text"},Pt=["textContent"];function Gt(e,t,n,o,a,i){var l=Object(r["resolveComponent"])("Field"),c=Object(r["resolveComponent"])("ContentBlock"),s=Object(r["resolveDirective"])("copy-to-clipboard");return Object(r["openBlock"])(),Object(r["createBlock"])(c,{"content-title":e.translate("CoreAdminHome_ImageTracking"),anchor:"imageTracking"},{default:Object(r["withCtx"])((function(){return[_t,Object(r["createElementVNode"])("div",Ht,[Object(r["createElementVNode"])("p",{innerHTML:e.$sanitize(e.imageTrackingIntro)},null,8,Dt),Object(r["createElementVNode"])("p",{innerHTML:e.$sanitize(e.imageTrackingIntro3)},null,8,xt),Object(r["createVNode"])(l,{uicontrol:"site",name:"image-tracker-website",modelValue:e.site,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.site=t}),introduction:e.translate("General_Website")},null,8,["modelValue","introduction"]),Object(r["createVNode"])(l,{uicontrol:"text",name:"image-tracker-action-name","model-value":e.pageName,"onUpdate:modelValue":t[1]||(t[1]=function(t){e.pageName=t,e.updateTrackingCode()}),disabled:e.isLoading,introduction:e.translate("General_Options"),title:e.translate("Actions_ColumnPageName")},null,8,["model-value","disabled","introduction","title"]),Object(r["createVNode"])(l,{uicontrol:"checkbox",name:"image-tracking-goal-check","model-value":e.trackGoal,"onUpdate:modelValue":t[2]||(t[2]=function(t){e.trackGoal=t,e.updateTrackingCode()}),disabled:e.isLoading,title:e.translate("CoreAdminHome_TrackAGoal")},null,8,["model-value","disabled","title"]),Object(r["withDirectives"])(Object(r["createElementVNode"])("div",Lt,[Object(r["createElementVNode"])("div",Bt,[Object(r["createElementVNode"])("div",Ut,[Object(r["createVNode"])(l,{uicontrol:"select",name:"image-tracker-goal",options:e.siteGoals,disabled:e.isLoading,"model-value":e.trackIdGoal,"onUpdate:modelValue":t[3]||(t[3]=function(t){e.trackIdGoal=t,e.updateTrackingCode()})},null,8,["options","disabled","model-value"])]),Object(r["createElementVNode"])("div",Ft,[Object(r["createVNode"])(l,{uicontrol:"text",name:"image-revenue","model-value":e.revenue,"onUpdate:modelValue":t[4]||(t[4]=function(t){e.revenue=t,e.updateTrackingCode()}),disabled:e.isLoading,"full-width":!0,title:"".concat(e.translate("CoreAdminHome_WithOptionalRevenue")," ").concat(e.currentSiteCurrency)},null,8,["model-value","disabled","title"])])])],512),[[r["vShow"],e.trackGoal]]),Object(r["createElementVNode"])("div",It,[Object(r["createElementVNode"])("h3",null,Object(r["toDisplayString"])(e.translate("CoreAdminHome_ImageTrackingLink")),1),Object(r["createElementVNode"])("div",Mt,[Object(r["createElementVNode"])("div",null,[Object(r["withDirectives"])(Object(r["createElementVNode"])("pre",{textContent:Object(r["toDisplayString"])(e.trackingCode),ref:"trackingCode"},null,8,Pt),[[s,{}]])])])])])]})),_:1},8,["content-title"])}function Jt(e,t){return Kt(e)||$t(e,t)||Rt(e,t)||qt()}function qt(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Rt(e,t){if(e){if("string"===typeof e)return Wt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Wt(e,t):void 0}}function Wt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function $t(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,a,r=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(o=n.next()).done);i=!0)if(r.push(o.value),t&&r.length===t)break}catch(c){l=!0,a=c}finally{try{i||null==n["return"]||n["return"]()}finally{if(l)throw a}}return r}}function Kt(e){if(Array.isArray(e))return e}var zt=null,Qt=window,Yt=Qt.$,Xt=window.location.host,Zt=window.location.pathname.substring(0,window.location.pathname.lastIndexOf("/")),en=Object(r["defineComponent"])({props:{defaultSite:{type:Object,required:!0}},components:{ContentBlock:T["ContentBlock"],Field:y["Field"]},directives:{CopyToClipboard:T["CopyToClipboard"]},data:function(){return{isLoading:!1,site:this.defaultSite,pageName:"",trackGoal:!1,trackIdGoal:null,revenue:"",trackingCode:"",sites:{},goals:{},trackingCodeAbortController:null,isHighlighting:!1}},created:function(){this.updateTrackingCode=Object(T["debounce"])(this.updateTrackingCode),this.site&&this.site.id&&this.onSiteChanged(this.site)},watch:{site:function(e){this.onSiteChanged(e)}},methods:{onSiteChanged:function(e){var t,n,o,a=this;return this.trackIdGoal=null,zt?t=Promise.resolve(zt):(this.isLoading=!0,t=T["AjaxHelper"].fetch({method:"SitesManager.getCurrencySymbols",filter_limit:"-1"})),this.sites[e.id]?n=Promise.resolve(this.sites[e.id]):(this.isLoading=!0,n=T["AjaxHelper"].fetch({module:"API",method:"SitesManager.getSiteFromId",idSite:e.id})),this.goals[e.id]?o=Promise.resolve(this.goals[e.id]):(this.isLoading=!0,o=T["AjaxHelper"].fetch({module:"API",method:"Goals.getGoals",filter_limit:"-1",idSite:e.id})),Promise.all([t,n,o]).then((function(t){var n=Jt(t,3),o=n[0],r=n[1],i=n[2];a.isLoading=!1,zt=o,a.sites[e.id]=r,a.goals[e.id]=i,a.updateTrackingCode()}))},updateTrackingCode:function(){var e=this,t={piwikUrl:"".concat(Xt).concat(Zt),actionName:this.pageName,forceMatomoEndpoint:1};this.trackGoal&&this.trackIdGoal&&(t.idGoal=this.trackIdGoal,t.revenue=this.revenue),this.trackingCodeAbortController&&(this.trackingCodeAbortController.abort(),this.trackingCodeAbortController=null),this.trackingCodeAbortController=new AbortController,T["AjaxHelper"].post({module:"API",format:"json",method:"SitesManager.getImageTrackingCode",idSite:this.site.id},t,{abortController:this.trackingCodeAbortController}).then((function(t){e.trackingCodeAbortController=null,e.trackingCode=t.value;var n=Yt(e.$refs.trackingCode);n&&!e.isHighlighting&&(e.isHighlighting=!0,n.effect("highlight",{complete:function(){e.isHighlighting=!1}},1500))}))}},computed:{currentSiteCurrency:function(){return zt?zt[(this.sites[this.site.id].currency||"").toUpperCase()]:""},siteGoals:function(){var e=this.goals[this.site.id];return[{key:"",value:Object(T["translate"])("UserCountryMap_None")}].concat(Object.values(e||[]).map((function(e){return{key:"".concat(e.idgoal),value:e.name}})))},imageTrackingIntro:function(){var e=Object(T["translate"])("CoreAdminHome_ImageTrackingIntro1"),t=Object(T["translate"])("CoreAdminHome_ImageTrackingIntro2","<code>&lt;noscript&gt;&lt;/noscript&gt;</code>");return"".concat(e," ").concat(t)},imageTrackingIntro3:function(){var e=Object(T["externalRawLink"])("https://matomo.org/docs/tracking-api/reference/");return Object(T["translate"])("CoreAdminHome_ImageTrackingIntro3",'<a href="'.concat(e,'" rel="noreferrer noopener" target="_blank">'),"</a>")}}});en.render=Gt;var tn=en,nn=Object(r["createElementVNode"])("br",null,null,-1),on=Object(r["createElementVNode"])("br",null,null,-1),an=["value"],rn={class:"action"},ln={colspan:"7"},cn=Object(r["createElementVNode"])("span",{class:"icon-ok"},null,-1),sn={class:"ui-confirm",id:"confirmDeleteAllTrackingFailures"},dn=["value"],un=["value"],mn={class:"ui-confirm",id:"confirmDeleteThisTrackingFailure"},gn=["value"],pn=["value"];function bn(e,t,n,o,a,i){var l=Object(r["resolveComponent"])("ActivityIndicator"),c=Object(r["resolveComponent"])("FailureRow"),s=Object(r["resolveComponent"])("ContentBlock"),d=Object(r["resolveDirective"])("content-table");return Object(r["openBlock"])(),Object(r["createBlock"])(s,{class:"matomoTrackingFailures","content-title":e.translate("CoreAdminHome_TrackingFailures")},{default:Object(r["withCtx"])((function(){return[Object(r["createElementVNode"])("p",null,[Object(r["createTextVNode"])(Object(r["toDisplayString"])(e.translate("CoreAdminHome_TrackingFailuresIntroduction","2"))+" ",1),nn,on,Object(r["withDirectives"])(Object(r["createElementVNode"])("input",{class:"btn deleteAllFailures",type:"button",onClick:t[0]||(t[0]=function(t){return e.deleteAll()}),value:e.translate("CoreAdminHome_DeleteAllFailures")},null,8,an),[[r["vShow"],!e.isLoading&&e.failures.length>0]])]),Object(r["createVNode"])(l,{loading:e.isLoading},null,8,["loading"]),Object(r["withDirectives"])(Object(r["createElementVNode"])("table",null,[Object(r["createElementVNode"])("thead",null,[Object(r["createElementVNode"])("tr",null,[Object(r["createElementVNode"])("th",{onClick:t[1]||(t[1]=function(t){return e.changeSortOrder("idsite")})},Object(r["toDisplayString"])(e.translate("General_Measurable")),1),Object(r["createElementVNode"])("th",{onClick:t[2]||(t[2]=function(t){return e.changeSortOrder("problem")})},Object(r["toDisplayString"])(e.translate("CoreAdminHome_Problem")),1),Object(r["createElementVNode"])("th",{onClick:t[3]||(t[3]=function(t){return e.changeSortOrder("solution")})},Object(r["toDisplayString"])(e.translate("CoreAdminHome_Solution")),1),Object(r["createElementVNode"])("th",{onClick:t[4]||(t[4]=function(t){return e.changeSortOrder("date_first_occurred")})},Object(r["toDisplayString"])(e.translate("General_Date")),1),Object(r["createElementVNode"])("th",{onClick:t[5]||(t[5]=function(t){return e.changeSortOrder("url")})},Object(r["toDisplayString"])(e.translate("Actions_ColumnPageURL")),1),Object(r["createElementVNode"])("th",{onClick:t[6]||(t[6]=function(t){return e.changeSortOrder("request_url")})},Object(r["toDisplayString"])(e.translate("CoreAdminHome_TrackingURL")),1),Object(r["createElementVNode"])("th",rn,Object(r["toDisplayString"])(e.translate("General_Action")),1)])]),Object(r["createElementVNode"])("tbody",null,[Object(r["createElementVNode"])("tr",null,[Object(r["withDirectives"])(Object(r["createElementVNode"])("td",ln,[Object(r["createTextVNode"])(Object(r["toDisplayString"])(e.translate("CoreAdminHome_NoKnownFailures"))+" ",1),cn],512),[[r["vShow"],!e.isLoading&&0===e.failures.length]])]),(Object(r["openBlock"])(!0),Object(r["createElementBlock"])(r["Fragment"],null,Object(r["renderList"])(e.sortedFailures,(function(n,o){return Object(r["openBlock"])(),Object(r["createElementBlock"])("tr",{key:o},[Object(r["createVNode"])(c,{failure:n,onDelete:t[7]||(t[7]=function(t){return e.deleteFailure(t.idSite,t.idFailure)})},null,8,["failure"])])})),128))])],512),[[d]]),Object(r["createElementVNode"])("div",sn,[Object(r["createElementVNode"])("h2",null,Object(r["toDisplayString"])(e.translate("CoreAdminHome_ConfirmDeleteAllTrackingFailures")),1),Object(r["createElementVNode"])("input",{type:"button",role:"yes",value:e.translate("General_Yes")},null,8,dn),Object(r["createElementVNode"])("input",{type:"button",role:"no",value:e.translate("General_No")},null,8,un)]),Object(r["createElementVNode"])("div",mn,[Object(r["createElementVNode"])("h2",null,Object(r["toDisplayString"])(e.translate("CoreAdminHome_ConfirmDeleteThisTrackingFailure")),1),Object(r["createElementVNode"])("input",{type:"button",role:"yes",value:e.translate("General_Yes")},null,8,gn),Object(r["createElementVNode"])("input",{type:"button",role:"no",value:e.translate("General_No")},null,8,pn)])]})),_:1},8,["content-title"])}var hn=["href"],jn={class:"datetime"},vn=["title"],fn=["title"];function On(e,t,n,o,a,i){return Object(r["openBlock"])(),Object(r["createElementBlock"])(r["Fragment"],null,[Object(r["createElementVNode"])("td",null,Object(r["toDisplayString"])(e.failure.site_name)+" ("+Object(r["toDisplayString"])(e.translate("General_Id"))+" "+Object(r["toDisplayString"])(e.failure.idsite)+")",1),Object(r["createElementVNode"])("td",null,Object(r["toDisplayString"])(e.failure.problem),1),Object(r["createElementVNode"])("td",null,[Object(r["createTextVNode"])(Object(r["toDisplayString"])(e.failure.solution)+" ",1),Object(r["withDirectives"])(Object(r["createElementVNode"])("a",{rel:"noopener noreferrer",href:e.failure.solution_url},Object(r["toDisplayString"])(e.translate("CoreAdminHome_LearnMore")),9,hn),[[r["vShow"],e.failure.solution_url]])]),Object(r["createElementVNode"])("td",jn,Object(r["toDisplayString"])(e.failure.pretty_date_first_occurred),1),Object(r["createElementVNode"])("td",null,Object(r["toDisplayString"])(e.failure.url),1),Object(r["createElementVNode"])("td",null,[Object(r["withDirectives"])(Object(r["createElementVNode"])("span",{onClick:t[0]||(t[0]=function(t){return e.showFullRequestUrl=!0}),title:e.translate("CoreHome_ClickToSeeFullInformation")},Object(r["toDisplayString"])(e.limtedRequestUrl)+"...",9,vn),[[r["vShow"],!e.showFullRequestUrl]]),Object(r["withDirectives"])(Object(r["createElementVNode"])("span",null,Object(r["toDisplayString"])(e.failure.request_url),513),[[r["vShow"],e.failure.showFullRequestUrl]])]),Object(r["createElementVNode"])("td",null,[Object(r["createElementVNode"])("span",{class:"table-action icon-delete",onClick:t[1]||(t[1]=function(t){return e.deleteFailure(e.failure.idsite,e.failure.idfailure)}),title:e.translate("General_Delete")},null,8,fn)])],64)}var Cn=Object(r["defineComponent"])({props:{failure:{type:Object,required:!0}},emits:["delete"],data:function(){return{showFullRequestUrl:!1}},computed:{limtedRequestUrl:function(){return this.failure.request_url.substring(0,100)}},methods:{deleteFailure:function(e,t){this.$emit("delete",{idSite:e,idFailure:t})}}});Cn.render=On;var kn=Cn;function Vn(e){return yn(e)||Tn(e)||Sn(e)||Nn()}function Nn(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Sn(e,t){if(e){if("string"===typeof e)return An(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?An(e,t):void 0}}function Tn(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function yn(e){if(Array.isArray(e))return An(e)}function An(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}var En=Object(r["defineComponent"])({components:{ContentBlock:T["ContentBlock"],ActivityIndicator:T["ActivityIndicator"],FailureRow:kn},directives:{ContentTable:T["ContentTable"]},data:function(){return{failures:[],sortColumn:"idsite",sortReverse:!1,isLoading:!1}},created:function(){this.fetchAll()},methods:{changeSortOrder:function(e){this.sortColumn===e?this.sortReverse=!this.sortReverse:this.sortColumn=e},fetchAll:function(){var e=this;this.failures=[],this.isLoading=!0,T["AjaxHelper"].fetch({method:"CoreAdminHome.getTrackingFailures",filter_limit:"-1"}).then((function(t){e.failures=t,e.isLoading=!1})).finally((function(){e.isLoading=!1}))},deleteAll:function(){var e=this;T["Matomo"].helper.modalConfirm("#confirmDeleteAllTrackingFailures",{yes:function(){e.failures=[],T["AjaxHelper"].fetch({method:"CoreAdminHome.deleteAllTrackingFailures"}).then((function(){e.fetchAll()}))}})},deleteFailure:function(e,t){var n=this;T["Matomo"].helper.modalConfirm("#confirmDeleteThisTrackingFailure",{yes:function(){n.failures=[],T["AjaxHelper"].fetch({method:"CoreAdminHome.deleteTrackingFailure",idSite:e,idFailure:t}).then((function(){n.fetchAll()}))}})}},computed:{sortedFailures:function(){var e=this.sortColumn,t=Vn(this.failures);return this.sortReverse?t.sort((function(t,n){return t[e]>n[e]?-1:t[e]<n[e]?1:0})):t.sort((function(t,n){return t[e]<n[e]?-1:t[e]>n[e]?1:0})),t}}});En.render=bn;var wn=En;
/*!
 * Matomo - free/libre analytics platform
 *
 * @link    https://matomo.org
 * @license https://www.gnu.org/licenses/gpl-3.0.html GPL v3 or later
*/}})}));
//# 